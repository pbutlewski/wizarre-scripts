function Wn(v,m=document){return typeof v=="string"?Array.from(m.querySelectorAll(v)):v instanceof Element?[v]:v instanceof NodeList?Array.from(v):v instanceof Array?v:[]}function dn(v){return`scrollama__debug-offset--${v}`}function Bn({id:v,offsetVal:m,stepClass:R}){const P=document.createElement("div");P.id=dn(v),P.className="scrollama__debug-offset",P.style.position="fixed",P.style.left="0",P.style.width="100%",P.style.height="0",P.style.borderTop="2px dashed black",P.style.zIndex="9999";const A=document.createElement("p");A.innerHTML=`".${R}" trigger: <span>${m}</span>`,A.style.fontSize="12px",A.style.fontFamily="monospace",A.style.color="black",A.style.margin="0",A.style.padding="6px",P.appendChild(A),document.body.appendChild(P)}function kn({id:v,offsetVal:m,stepEl:R}){const P=R[0].className;Bn({id:v,offsetVal:m,stepClass:P})}function jn({id:v,offsetMargin:m,offsetVal:R,format:P}){const A=P==="pixels"?"px":"",V=dn(v),Q=document.getElementById(V);Q.style.top=`${m}px`,Q.querySelector("span").innerText=`${R}${A}`}function ln({id:v,index:m,state:R}){const P=`scrollama__debug-step--${v}-${m}`,A=document.getElementById(`${P}_above`),V=document.getElementById(`${P}_below`),Q=R==="enter"?"block":"none";A&&(A.style.display=Q),V&&(V.style.display=Q)}function Mt(){const v=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"];let m={},R={},P=null,A=[],V=[],Q=[],D=[],K=0,re=0,ie=0,de=0,F=0,h=0,Pe=!1,xe=!1,be=!1,Ee=!1,he=!1,Ue=!1,U="down",we="percent";const ge=[];function pe(g){console.error(`scrollama error: ${g}`)}function Fe(){m={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},R={}}function Ne(){const g="abcdefghijklmnopqrstuv",E=g.length,_=Date.now();return`${[0,0,0].map(G=>g[Math.floor(Math.random()*E)]).join("")}${_}`}function oe(g){const{top:E}=g.getBoundingClientRect(),_=window.pageYOffset,M=document.body.clientTop||0;return E+_-M}function Me(){const{body:g}=document,E=document.documentElement;return Math.max(g.scrollHeight,g.offsetHeight,E.clientHeight,E.scrollHeight,E.offsetHeight)}function a(g){return+g.getAttribute("data-scrollama-index")}function n(){window.pageYOffset>F?U="down":window.pageYOffset<F&&(U="up"),F=window.pageYOffset}function o(g){R[g]&&R[g].forEach(E=>E.disconnect())}function p(){ie=window.innerHeight,de=Me(),re=K*(we==="pixels"?1:ie),Pe&&(V=A.map(E=>E.getBoundingClientRect().height),Q=A.map(oe),xe&&$e()),be&&jn({id:P,offsetMargin:re,offsetVal:K,format:we})}function b(g){if(g&&!xe)if(Pe)$e();else{pe("scrollama error: enable() called before scroller was ready"),xe=!1;return}!g&&xe&&v.forEach(o),xe=g}function T(g){const E=Math.ceil(g/h),_=[],M=1/E;for(let G=0;G<E;G+=1)_.push(G*M);return _}function w(g,E){const _=a(g);E!==void 0&&(D[_].progress=E);const M={element:g,index:_,progress:D[_].progress};D[_].state==="enter"&&m.stepProgress(M)}function W(g,E){if(E==="above")for(let _=0;_<g;_+=1){const M=D[_];M.state!=="enter"&&M.direction!=="down"?(X(A[_],"down",!1),x(A[_],"down")):M.state==="enter"&&x(A[_],"down")}else if(E==="below")for(let _=D.length-1;_>g;_-=1){const M=D[_];M.state==="enter"&&x(A[_],"up"),M.direction==="down"&&(X(A[_],"up",!1),x(A[_],"up"))}}function X(g,E,_=!0){const M=a(g),G={element:g,index:M,direction:E};D[M].direction=E,D[M].state="enter",he&&_&&E==="down"&&W(M,"above"),he&&_&&E==="up"&&W(M,"below"),m.stepEnter&&!ge[M]&&(m.stepEnter(G,D),be&&ln({id:P,index:M,state:"enter"}),Ue&&(ge[M]=!0)),Ee&&w(g)}function x(g,E){const _=a(g),M={element:g,index:_,direction:E};Ee&&(E==="down"&&D[_].progress<1?w(g,1):E==="up"&&D[_].progress>0&&w(g,0)),D[_].direction=E,D[_].state="exit",m.stepExit(M,D),be&&ln({id:P,index:_,state:"exit"})}function q([g]){n();const{isIntersecting:E,boundingClientRect:_,target:M}=g,{top:G,bottom:le}=_,J=G-re,I=le-re,_e=a(M),Se=D[_e];E&&J<=0&&I>=0&&U==="down"&&Se.state!=="enter"&&X(M,U),!E&&J>0&&U==="up"&&Se.state==="enter"&&x(M,U)}function me([g]){n();const{isIntersecting:E,boundingClientRect:_,target:M}=g,{top:G,bottom:le}=_,J=G-re,I=le-re,_e=a(M),Se=D[_e];E&&J<=0&&I>=0&&U==="up"&&Se.state!=="enter"&&X(M,U),!E&&I<0&&U==="down"&&Se.state==="enter"&&x(M,U)}function Ce([g]){n();const{isIntersecting:E,target:_}=g,M=a(_),G=D[M];E&&U==="down"&&G.direction!=="down"&&G.state!=="enter"&&(X(_,"down"),x(_,"down"))}function ae([g]){n();const{isIntersecting:E,target:_}=g,M=a(_),G=D[M];E&&U==="up"&&G.direction==="down"&&G.state!=="enter"&&(X(_,"up"),x(_,"up"))}function Le([g]){n();const{isIntersecting:E,intersectionRatio:_,boundingClientRect:M,target:G}=g,{bottom:le}=M,J=le-re;E&&J>=0&&w(G,+_)}function Ae(){R.viewportAbove=A.map((g,E)=>{const _=de-Q[E],M=re-ie-V[E],le={rootMargin:`${_}px 0px ${M}px 0px`},J=new IntersectionObserver(Ce,le);return J.observe(g),J})}function He(){R.viewportBelow=A.map((g,E)=>{const _=-re-V[E],M=re-ie+V[E]+de,le={rootMargin:`${_}px 0px ${M}px 0px`},J=new IntersectionObserver(ae,le);return J.observe(g),J})}function ft(){R.stepAbove=A.map((g,E)=>{const _=-re+V[E],M=re-ie,le={rootMargin:`${_}px 0px ${M}px 0px`},J=new IntersectionObserver(q,le);return J.observe(g),J})}function Ot(){R.stepBelow=A.map((g,E)=>{const _=-re,M=re-ie+V[E],le={rootMargin:`${_}px 0px ${M}px 0px`},J=new IntersectionObserver(me,le);return J.observe(g),J})}function je(){R.stepProgress=A.map((g,E)=>{const _=V[E]-re,M=-ie+re,G=`${_}px 0px ${M}px 0px`,le=T(V[E]),J={rootMargin:G,threshold:le},I=new IntersectionObserver(Le,J);return I.observe(g),I})}function $e(){v.forEach(o),Ae(),He(),ft(),Ot(),Ee&&je()}function Ze(){A.forEach((g,E)=>g.setAttribute("data-scrollama-index",E))}function ht(){D=A.map(()=>({direction:null,state:null,progress:0}))}function Re(){be&&kn({id:P,stepEl:A,offsetVal:K})}function dt(g){const E=window.getComputedStyle(g);return(E.overflowY==="scroll"||E.overflowY==="auto")&&g.scrollHeight>g.clientHeight}function rt(g){return g&&g.nodeType===1?dt(g)?g:rt(g.parentNode):!1}const se={};return se.setup=({step:g,parent:E,offset:_=.5,progress:M=!1,threshold:G=4,debug:le=!1,order:J=!0,once:I=!1})=>{if(Fe(),P=Ne(),A=Wn(g,E),!A.length)return pe("no step elements"),se;const _e=A.reduce((Se,pt)=>Se||rt(pt.parentNode),!1);return _e&&console.error("scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.",_e),be=le,Ee=M,he=J,Ue=I,se.offsetTrigger(_),h=Math.max(1,+G),Pe=!0,Re(),Ze(),ht(),p(),se.enable(),se},se.resize=()=>(p(),se),se.enable=()=>(b(!0),se),se.disable=()=>(b(!1),se),se.destroy=()=>{b(!1),Fe()},se.offsetTrigger=g=>{if(g===null)return K;if(typeof g=="number")we="percent",g>1&&pe("offset value is greater than 1. Fallback to 1."),g<0&&pe("offset value is lower than 0. Fallback to 0."),K=Math.min(Math.max(0,g),1);else if(typeof g=="string"&&g.indexOf("px")>0){const E=+g.replace("px","");isNaN(E)?(pe("offset value must be in 'px' format. Fallback to 0.5."),K=.5):(we="pixels",K=E)}else pe("offset value does not include 'px'. Fallback to 0.5."),K=.5;return se},se.onStepEnter=g=>(typeof g=="function"?m.stepEnter=g:pe("onStepEnter requires a function"),se),se.onStepExit=g=>(typeof g=="function"?m.stepExit=g:pe("onStepExit requires a function"),se),se.onStepProgress=g=>(typeof g=="function"?m.stepProgress=g:pe("onStepProgress requires a function"),se),se}function qn(){const v=Mt(),m=document.querySelector(".navigation");window.scrollY>32&&m.classList.add("is--sticky"),v.setup({step:".navbar-section",offset:0,debug:!1}).onStepEnter(()=>{[...m.classList].includes("is--sticky")&&m.classList.remove("is--sticky")}).onStepExit(R=>{R.direction==="down"&&m.classList.add("is--sticky")})}function Dn(){const v=document.querySelector(".navigation");v.classList.contains("is--mobile-active")?v.classList.remove("is--mobile-active"):v.classList.add("is--mobile-active")}function Vn(){document.querySelector(".mobile-menu-button").addEventListener("click",Dn)}function Yn(){const v=Mt(),m=document.querySelector("#path"),R=m.getTotalLength();m.style.strokeDasharray=R,m.style.strokeDashoffset=R,v.setup({step:"#ritual",offset:.5,progress:!0,debug:!1,threshold:1}).onStepProgress(P=>{let A=R*P.progress;m.style.strokeDashoffset=R-A})}function Xn(){let v=document.querySelectorAll("template.land");v=[...v].map(V=>({name:V.content.querySelector(".name"),image:V.content.querySelector("img"),coordinates:V.content.querySelector(".coordinates"),type:V.content.querySelector(".type"),element:V.content.querySelector(".element"),rarity:V.content.querySelector(".rarity"),power:V.content.querySelector(".power")}));let m=document.querySelector(".land-slider");m={image:m.querySelector(".land-photo__image"),type:m.querySelector("#land-type"),coordinates:m.querySelector("#land-coordinates"),element:m.querySelector("#land-element"),rarity:m.querySelector("#land-rarity"),power:m.querySelector("#land-power")},Yt(0,v,m);let R=0;document.querySelector("#land-left").addEventListener("click",V=>{V.preventDefault(),R-=1,R<0&&(R=v.length-1),Yt(R,v,m)}),document.querySelector("#land-right").addEventListener("click",V=>{V.preventDefault(),R+=1,Yt(R,v,m)})}function Yt(v,m,R){const P=document.querySelector(".land-photo__shadow"),A=elm.cloneNode(!0);P.parentNode.replaceChild(A,P),v=v%m.length,R.image.replaceChildren(m[v].image),R.type.replaceChildren(m[v].type),R.coordinates.replaceChildren(m[v].coordinates),R.element.replaceChildren(m[v].element),R.rarity.replaceChildren(m[v].rarity),R.power.replaceChildren(m[v].power)}function Nn(){const v=Mt(),m=Mt();let R=document.querySelectorAll(".text-box.is--summoning-box");console.log(R);let P=document.querySelectorAll(".ritual-image");R=[...R].map(A=>{A.classList.contains("is--active")&&A.classList.remove("is--active")}),console.log(R),P=[...P].map(A=>{A.classList.contains("is--active")&&A.classList.remove("is--active")}),v.setup({step:".ritual-step",offset:.5,progress:!1,debug:!1,threshold:2}).onStepEnter(A=>{A.direction==="down"&&(document.querySelectorAll(".text-box.is--summoning-box").forEach(V=>V.classList.add("is--active")),document.querySelectorAll(".ritual-image").forEach(V=>V.classList.add("is--active")))}),m.setup({step:"#ritual",offset:.5,progress:!1,debug:!1,threshold:2}).onStepExit(A=>{A.direction==="up"&&(document.querySelectorAll(".text-box.is--summoning-box").forEach(V=>V.classList.remove("is--active")),document.querySelectorAll(".ritual-image").forEach(V=>V.classList.remove("is--active")))})}var Hn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $n(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}var pn={exports:{}};(function(v,m){(function(P,A){v.exports=A()})(Hn,function(){return(()=>{var R=[,(Q,D,K)=>{K.r(D),K.d(D,{default:()=>ie});var re=(()=>{var de=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(F){F=F||{};var h;h||(h=typeof F<"u"?F:{});var Pe,xe;h.ready=new Promise(function(t,e){Pe=t,xe=e});function be(){function t(l){const c=i;r=e=0,i=new Map,c.forEach(d=>{try{d(l)}catch(f){console.error(f)}}),this.La(),s&&s.fb()}let e=0,r=0,i=new Map,s=null,u=null;this.requestAnimationFrame=function(l){e||(e=requestAnimationFrame(t.bind(this)));const c=++r;return i.set(c,l),c},this.cancelAnimationFrame=function(l){i.delete(l),e&&i.size==0&&(cancelAnimationFrame(e),e=0)},this.cb=function(l){u&&(document.body.remove(u),u=null),l||(u=document.createElement("div"),u.style.backgroundColor="black",u.style.position="fixed",u.style.right=0,u.style.top=0,u.style.color="white",u.style.padding="4px",u.innerHTML="RIVE FPS",l=function(c){u.innerHTML="RIVE FPS "+c.toFixed(1)},document.body.appendChild(u)),s=new function(){let c=0,d=0;this.fb=function(){var f=performance.now();d?(++c,f-=d,1e3<f&&(l(1e3*c/f),c=d=0)):(d=f,c=0)}}},this.$a=function(){u&&(document.body.remove(u),u=null),s=null},this.La=function(){}}function Ee(t){console.assert(!0);const e=new Map;let r=-1/0;this.push=function(i){return i=i+((1<<t)-1)>>t,e.has(i)&&clearTimeout(e.get(i)),e.set(i,setTimeout(function(){e.delete(i),e.length==0?r=-1/0:i==r&&(r=Math.max(...e.keys()),console.assert(r<i))},1e3)),r=Math.max(i,r),r<<t}}const he=new function(){function t(){if(!e){let ue=function(Y,N,ne){if(N=O.createShader(N),O.shaderSource(N,ne),O.compileShader(N),ne=O.getShaderInfoLog(N),0<ne.length)throw ne;O.attachShader(Y,N)};var B=ue,L=document.createElement("canvas"),j={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let O=L.getContext("webgl2",j);if(O)r=2;else if(O=L.getContext("webgl",j))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(i=Math.min(O.getParameter(O.MAX_RENDERBUFFER_SIZE),O.getParameter(O.MAX_TEXTURE_SIZE)),L=O.createProgram(),ue(L,O.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),ue(L,O.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),O.bindAttribLocation(L,0,"vertex"),O.bindAttribLocation(L,1,"uv"),O.linkProgram(L),j=O.getProgramInfoLog(L),0<j.length)throw j;s=O.getUniformLocation(L,"mat"),u=O.getUniformLocation(L,"translate"),O.useProgram(L),O.bindBuffer(O.ARRAY_BUFFER,O.createBuffer()),O.enableVertexAttribArray(0),O.enableVertexAttribArray(1),O.bindBuffer(O.ELEMENT_ARRAY_BUFFER,O.createBuffer()),O.uniform1i(O.getUniformLocation(L,"image"),0),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=O}return!0}let e=null,r=0,i=0,s=null,u=null,l=0,c=0;this.ob=function(){return t(),i},this.Ya=function(L){if(!t())return null;const j=e.createTexture();return e.bindTexture(e.TEXTURE_2D,j),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,L),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),r==2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),j};const d=new Ee(8),f=new Ee(8),S=new Ee(10),C=new Ee(10);this.bb=function(L,j,B,O,ue){if(t()){var Y=d.push(L),N=f.push(j);(e.canvas.width!=Y||e.canvas.height!=N)&&(e.canvas.width=Y,e.canvas.height=N),e.viewport(0,N-j,L,j),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),B.sort((H,Ge)=>Ge.Oa-H.Oa),Y=S.push(O),l!=Y&&(e.bufferData(e.ARRAY_BUFFER,8*Y,e.DYNAMIC_DRAW),l=Y),Y=0;for(var ne of B)e.bufferSubData(e.ARRAY_BUFFER,Y,ne.Aa),Y+=4*ne.Aa.length;console.assert(Y==4*O);for(var Ie of B)e.bufferSubData(e.ARRAY_BUFFER,Y,Ie.Ra),Y+=4*Ie.Ra.length;console.assert(Y==8*O),Y=C.push(ue),c!=Y&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*Y,e.DYNAMIC_DRAW),c=Y),ne=0;for(var Xe of B)e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,ne,Xe.indices),ne+=2*Xe.indices.length;console.assert(ne==2*ue),Xe=0,Ie=!0,Y=ne=0;for(const H of B){H.image.va!=Xe&&(e.bindTexture(e.TEXTURE_2D,H.image.Va||null),Xe=H.image.va),H.rb?(e.scissor(H.Ea,N-H.Fa-H.Ka,H.yb,H.Ka),Ie=!0):Ie&&(e.scissor(0,N-j,L,j),Ie=!1),B=2/L;const Ge=-2/j;e.uniform4f(s,H.la[0]*B*H.ra,H.la[1]*Ge*H.sa,H.la[2]*B*H.ra,H.la[3]*Ge*H.sa),e.uniform2f(u,H.la[4]*B*H.ra+B*(H.Ea-H.pb*H.ra)-1,H.la[5]*Ge*H.sa+Ge*(H.Fa-H.qb*H.sa)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,Y),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,Y+4*O),e.drawElements(e.TRIANGLES,H.indices.length,e.UNSIGNED_SHORT,ne),Y+=4*H.Aa.length,ne+=2*H.indices.length}console.assert(Y==4*O),console.assert(ne==2*ue)}},this.canvas=function(){return t()&&e.canvas}};F.onRuntimeInitialized=function(){function t(y){switch(y){case f.srcOver:return"source-over";case f.screen:return"screen";case f.overlay:return"overlay";case f.darken:return"darken";case f.lighten:return"lighten";case f.colorDodge:return"color-dodge";case f.colorBurn:return"color-burn";case f.hardLight:return"hard-light";case f.softLight:return"soft-light";case f.difference:return"difference";case f.exclusion:return"exclusion";case f.multiply:return"multiply";case f.hue:return"hue";case f.saturation:return"saturation";case f.color:return"color";case f.luminosity:return"luminosity"}}function e(y){return"rgba("+((16711680&y)>>>16)+","+((65280&y)>>>8)+","+((255&y)>>>0)+","+((4278190080&y)>>>24)/255+")"}function r(){0<ne.length&&(he.bb(N.drawWidth(),N.drawHeight(),ne,Ie,Xe),ne=[],Xe=Ie=0,N.reset(512,512));for(const y of Y){for(const k of y.da)k();y.da=[]}Y.clear()}var i=F.RenderPaintStyle;const s=F.RenderPath,u=F.RenderPaint,l=F.Renderer,c=F.StrokeCap,d=F.StrokeJoin,f=F.BlendMode,S=i.fill,C=i.stroke,L=F.FillRule.evenOdd;let j=1;var B=F.RenderImage.extend("CanvasRenderImage",{__construct:function(){this.__parent.__construct.call(this),this.va=j,j=j+1&2147483647||1},decode:function(y){let k=Vt;k.total++;var te=this,z=new Image;z.src=URL.createObjectURL(new Blob([y],{type:"image/png"})),z.onload=function(){if(te.Ta=z,te.Va=he.Ya(z),te.size(z.width,z.height),k.loaded++,k.loaded===k.total){const ee=k.ready;ee&&(ee(),k.ready=null)}}}}),O=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.ga=new Path2D},reset:function(){this.ga=new Path2D},addPath:function(y,k,te,z,ee,ce,$){var Z=this.ga,We=Z.addPath;y=y.ga;const ve=new DOMMatrix;ve.a=k,ve.b=te,ve.c=z,ve.d=ee,ve.e=ce,ve.f=$,We.call(Z,y,ve)},fillRule:function(y){this.Ca=y},moveTo:function(y,k){this.ga.moveTo(y,k)},lineTo:function(y,k){this.ga.lineTo(y,k)},cubicTo:function(y,k,te,z,ee,ce){this.ga.bezierCurveTo(y,k,te,z,ee,ce)},close:function(){this.ga.closePath()}}),ue=u.extend("CanvasRenderPaint",{color:function(y){this.Da=e(y)},thickness:function(y){this.Wa=y},join:function(y){switch(y){case d.miter:this.ua="miter";break;case d.round:this.ua="round";break;case d.bevel:this.ua="bevel"}},cap:function(y){switch(y){case c.butt:this.ta="butt";break;case c.round:this.ta="round";break;case c.square:this.ta="square"}},style:function(y){this.Ua=y},blendMode:function(y){this.Sa=t(y)},linearGradient:function(y,k,te,z){this.oa={Pa:y,Qa:k,Ha:te,Ia:z,za:[]}},radialGradient:function(y,k,te,z){this.oa={Pa:y,Qa:k,Ha:te,Ia:z,za:[],mb:!0}},addStop:function(y,k){this.oa.za.push({color:y,stop:k})},completeGradient:function(){},draw:function(y,k,te){let z=this.Ua;var ee=this.Da,ce=this.oa;if(y.globalCompositeOperation=this.Sa,ce!=null){ee=ce.Pa;var $=ce.Qa;const We=ce.Ha;var Z=ce.Ia;const ve=ce.za;ce.mb?(ce=We-ee,Z-=$,ee=y.createRadialGradient(ee,$,0,ee,$,Math.sqrt(ce*ce+Z*Z))):ee=y.createLinearGradient(ee,$,We,Z);for(let ke=0,ye=ve.length;ke<ye;ke++)$=ve[ke],ee.addColorStop($.stop,e($.color));this.Da=ee,this.oa=null}switch(z){case C:y.strokeStyle=ee,y.lineWidth=this.Wa,y.lineCap=this.ta,y.lineJoin=this.ua,y.stroke(k);break;case S:y.fillStyle=ee,y.fill(k,te)}}});const Y=new Set;let N=null,ne=[],Ie=0,Xe=0;var H=F.CanvasRenderer=l.extend("Renderer",{__construct:function(y){this.__parent.__construct.call(this),this.fa=[1,0,0,1,0,0],this.Z=y.getContext("2d"),this.Ba=y,this.da=[]},save:function(){this.fa.push(...this.fa.slice(this.fa.length-6)),this.da.push(this.Z.save.bind(this.Z))},restore:function(){const y=this.fa.length-6;if(6>y)throw"restore() called without matching save().";this.fa.splice(y),this.da.push(this.Z.restore.bind(this.Z))},transform:function(y,k,te,z,ee,ce){const $=this.fa,Z=$.length-6;$.splice(Z,6,$[Z]*y+$[Z+2]*k,$[Z+1]*y+$[Z+3]*k,$[Z]*te+$[Z+2]*z,$[Z+1]*te+$[Z+3]*z,$[Z]*ee+$[Z+2]*ce+$[Z+4],$[Z+1]*ee+$[Z+3]*ce+$[Z+5]),this.da.push(this.Z.transform.bind(this.Z,y,k,te,z,ee,ce))},rotate:function(y){const k=Math.sin(y);y=Math.cos(y),this.transform(y,k,-k,y,0,0)},_drawPath:function(y,k){this.da.push(k.draw.bind(k,this.Z,y.ga,y.Ca===L?"evenodd":"nonzero"))},_drawImage:function(y,k,te){var z=y.Ta;if(z){var ee=this.Z,ce=t(k);this.da.push(function(){ee.globalCompositeOperation=ce,ee.globalAlpha=te,ee.drawImage(z,0,0),ee.globalAlpha=1})}},_getMatrix:function(y){const k=this.fa,te=k.length-6;for(let z=0;6>z;++z)y[z]=k[te+z]},_drawImageMesh:function(y,k,te,z,ee,ce,$,Z,We,ve){var ke=this.Z.canvas.width,ye=this.Z.canvas.height;const an=We-$,sn=ve-Z;$=Math.max($,0),Z=Math.max(Z,0),We=Math.min(We,ke),ve=Math.min(ve,ye);const ct=We-$,lt=ve-Z;if(console.assert(ct<=Math.min(an,ke)),console.assert(lt<=Math.min(sn,ye)),!(0>=ct||0>=lt)){We=ct<an||lt<sn,ke=ve=1;var Ke=Math.ceil(ct*ve),Je=Math.ceil(lt*ke);ye=he.ob(),Ke>ye&&(ve*=ye/Ke,Ke=ye),Je>ye&&(ke*=ye/Je,Je=ye),N||(N=new h.DynamicRectanizer(ye),N.reset(512,512)),ye=N.addRect(Ke,Je),0>ye&&(r(),Y.add(this),ye=N.addRect(Ke,Je),console.assert(0<=ye));var un=ye&65535,cn=ye>>16;ne.push({la:this.fa.slice(this.fa.length-6),image:y,Ea:un,Fa:cn,pb:$,qb:Z,yb:Ke,Ka:Je,ra:ve,sa:ke,Aa:new Float32Array(z),Ra:new Float32Array(ee),indices:new Uint16Array(ce),rb:We,Oa:y.va<<1|(We?1:0)}),Ie+=z.length,Xe+=ce.length;var nt=this.Z,Fn=t(k);this.da.push(function(){nt.save(),nt.resetTransform(),nt.globalCompositeOperation=Fn,nt.globalAlpha=te,nt.drawImage(he.canvas(),un,cn,Ke,Je,$,Z,ct,lt),nt.restore()})}},_clipPath:function(y){this.da.push(this.Z.clip.bind(this.Z,y.ga,y.Ca===L?"evenodd":"nonzero"))},clear:function(){Y.add(this),this.da.push(this.Z.clearRect.bind(this.Z,0,0,this.Ba.width,this.Ba.height))},flush:function(){},translate:function(y,k){this.transform(1,0,0,1,y,k)}});F.makeRenderer=function(y){return new H(y)},F.renderFactory={makeRenderPaint:function(){return new ue},makeRenderPath:function(){return new O},makeRenderImage:function(){return new B}};let Ge=F.load,Vt=null;F.load=function(y){return new Promise(function(k){let te=null;Vt={total:0,loaded:0,ready:function(){k(te)}},te=Ge(y),Vt.total==0&&k(te)})},i=new be,F.requestAnimationFrame=i.requestAnimationFrame.bind(i),F.cancelAnimationFrame=i.cancelAnimationFrame.bind(i),F.enableFPSCounter=i.cb.bind(i),F.disableFPSCounter=i.$a,i.La=r,F.cleanup=function(){N&&N.delete()}};var Ue=Object.assign({},h),U=typeof window=="object",we=typeof importScripts=="function",ge="",pe,Fe;(U||we)&&(we?ge=self.location.href:typeof document<"u"&&document.currentScript&&(ge=document.currentScript.src),de&&(ge=de),ge.indexOf("blob:")!==0?ge=ge.substr(0,ge.replace(/[?#].*/,"").lastIndexOf("/")+1):ge="",we&&(Fe=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),pe=(t,e,r)=>{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?e(i.response):r()},i.onerror=r,i.send(null)});var Ne=h.print||console.log.bind(console),oe=h.printErr||console.warn.bind(console);Object.assign(h,Ue),Ue=null;var Me;h.wasmBinary&&(Me=h.wasmBinary),h.noExitRuntime,typeof WebAssembly!="object"&&Ze("no native wasm support detected");var a,n=!1,o=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function p(t,e,r){var i=e+r;for(r=e;t[r]&&!(r>=i);)++r;if(16<r-e&&t.buffer&&o)return o.decode(t.subarray(e,r));for(i="";e<r;){var s=t[e++];if(s&128){var u=t[e++]&63;if((s&224)==192)i+=String.fromCharCode((s&31)<<6|u);else{var l=t[e++]&63;s=(s&240)==224?(s&15)<<12|u<<6|l:(s&7)<<18|u<<12|l<<6|t[e++]&63,65536>s?i+=String.fromCharCode(s):(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else i+=String.fromCharCode(s)}return i}var b,T,w,W,X,x,q,me,Ce;function ae(){var t=a.buffer;b=t,h.HEAP8=T=new Int8Array(t),h.HEAP16=W=new Int16Array(t),h.HEAP32=x=new Int32Array(t),h.HEAPU8=w=new Uint8Array(t),h.HEAPU16=X=new Uint16Array(t),h.HEAPU32=q=new Uint32Array(t),h.HEAPF32=me=new Float32Array(t),h.HEAPF64=Ce=new Float64Array(t)}var Le,Ae=[],He=[],ft=[];function Ot(){var t=h.preRun.shift();Ae.unshift(t)}var je=0,$e=null;function Ze(t){throw h.onAbort&&h.onAbort(t),t="Aborted("+t+")",oe(t),n=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),xe(t),t}function ht(){return Re.startsWith("data:application/octet-stream;base64,")}var Re;if(Re="canvas_advanced.wasm",!ht()){var dt=Re;Re=h.locateFile?h.locateFile(dt,ge):ge+dt}function rt(){var t=Re;try{if(t==Re&&Me)return new Uint8Array(Me);if(Fe)return Fe(t);throw"both async and sync fetching of the wasm failed"}catch(e){Ze(e)}}function se(){if(!Me&&(U||we)){if(typeof fetch=="function"&&!Re.startsWith("file://"))return fetch(Re,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+Re+"'";return t.arrayBuffer()}).catch(function(){return rt()});if(pe)return new Promise(function(t,e){pe(Re,function(r){t(new Uint8Array(r))},e)})}return Promise.resolve().then(function(){return rt()})}function g(t){for(;0<t.length;)t.shift()(h)}function E(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?"_"+t:t}function _(t,e){return t=E(t),function(){return e.apply(this,arguments)}}var M=[{},{value:void 0},{value:null},{value:!0},{value:!1}],G=[];function le(t){var e=Error,r=_(t,function(i){this.name=t,this.message=i,i=Error(i).stack,i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},r}var J=void 0;function I(t){throw new J(t)}var _e=t=>(t||I("Cannot use deleted val. handle = "+t),M[t].value),Se=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=G.length?G.pop():M.length;return M[e]={ya:1,value:t},e}},pt=void 0,Nt=void 0;function fe(t){for(var e="";w[t];)e+=Nt[w[t++]];return e}var it=[];function It(){for(;it.length;){var t=it.pop();t.U.ka=!1,t.delete()}}var ot=void 0,qe={};function Ut(t,e){for(e===void 0&&I("ptr should not be undefined");t.$;)e=t.na(e),t=t.$;return e}var Qe={};function Ht(t){t=rn(t);var e=fe(t);return Ye(t),e}function at(t,e){var r=Qe[t];return r===void 0&&I(e+" has unknown type "+Ht(t)),r}function mt(){}var Ft=!1;function $t(t){--t.count.value,t.count.value===0&&(t.aa?t.ca.ha(t.aa):t.X.V.ha(t.W))}function zt(t,e,r){return e===r?t:r.$===void 0?null:(t=zt(t,e,r.$),t===null?null:r.ab(t))}var Gt={};function mn(t,e){return e=Ut(t,e),qe[e]}var Zt=void 0;function vt(t){throw new Zt(t)}function gt(t,e){return e.X&&e.W||vt("makeClassHandle requires ptr and ptrType"),!!e.ca!=!!e.aa&&vt("Both smartPtrType and smartPtr must be specified"),e.count={value:1},et(Object.create(t,{U:{value:e}}))}function et(t){return typeof FinalizationRegistry>"u"?(et=e=>e,t):(Ft=new FinalizationRegistry(e=>{$t(e.U)}),et=e=>{var r=e.U;return r.aa&&Ft.register(e,{U:r},e),e},mt=e=>{Ft.unregister(e)},et(t))}var yt={};function st(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function ut(t){return this.fromWireType(x[t>>2])}var tt={},bt={};function Oe(t,e,r){function i(c){c=r(c),c.length!==t.length&&vt("Mismatched type converter count");for(var d=0;d<t.length;++d)Be(t[d],c[d])}t.forEach(function(c){bt[c]=e});var s=Array(e.length),u=[],l=0;e.forEach((c,d)=>{Qe.hasOwnProperty(c)?s[d]=Qe[c]:(u.push(c),tt.hasOwnProperty(c)||(tt[c]=[]),tt[c].push(()=>{s[d]=Qe[c],++l,l===u.length&&i(s)}))}),u.length===0&&i(s)}function wt(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}function Be(t,e,r={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var i=e.name;if(t||I('type "'+i+'" must have a positive integer typeid pointer'),Qe.hasOwnProperty(t)){if(r.lb)return;I("Cannot register type '"+i+"' twice")}Qe[t]=e,delete bt[t],tt.hasOwnProperty(t)&&(e=tt[t],delete tt[t],e.forEach(s=>s()))}function Wt(t){I(t.U.X.V.name+" instance already deleted")}function ze(){}function Bt(t,e,r){if(t[e].Y===void 0){var i=t[e];t[e]=function(){return t[e].Y.hasOwnProperty(arguments.length)||I("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].Y+")!"),t[e].Y[arguments.length].apply(this,arguments)},t[e].Y=[],t[e].Y[i.ja]=i}}function kt(t,e,r){h.hasOwnProperty(t)?((r===void 0||h[t].Y!==void 0&&h[t].Y[r]!==void 0)&&I("Cannot register public name '"+t+"' twice"),Bt(h,t,t),h.hasOwnProperty(r)&&I("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),h[t].Y[r]=e):(h[t]=e,r!==void 0&&(h[t].zb=r))}function vn(t,e,r,i,s,u,l,c){this.name=t,this.constructor=e,this.ea=r,this.ha=i,this.$=s,this.gb=u,this.na=l,this.ab=c,this.Ma=[]}function St(t,e,r){for(;e!==r;)e.na||I("Expected null or instance of "+r.name+", got an instance of "+e.name),t=e.na(t),e=e.$;return t}function gn(t,e){return e===null?(this.wa&&I("null is not a valid "+this.name),0):(e.U||I('Cannot pass "'+qt(e)+'" as a '+this.name),e.U.W||I("Cannot pass deleted object as a pointer of type "+this.name),St(e.U.W,e.U.X.V,this.V))}function yn(t,e){if(e===null){if(this.wa&&I("null is not a valid "+this.name),this.qa){var r=this.xa();return t!==null&&t.push(this.ha,r),r}return 0}if(e.U||I('Cannot pass "'+qt(e)+'" as a '+this.name),e.U.W||I("Cannot pass deleted object as a pointer of type "+this.name),!this.pa&&e.U.X.pa&&I("Cannot convert argument of type "+(e.U.ca?e.U.ca.name:e.U.X.name)+" to parameter type "+this.name),r=St(e.U.W,e.U.X.V,this.V),this.qa)switch(e.U.aa===void 0&&I("Passing raw pointer to smart pointer is illegal"),this.xb){case 0:e.U.ca===this?r=e.U.aa:I("Cannot convert argument of type "+(e.U.ca?e.U.ca.name:e.U.X.name)+" to parameter type "+this.name);break;case 1:r=e.U.aa;break;case 2:if(e.U.ca===this)r=e.U.aa;else{var i=e.clone();r=this.tb(r,Se(function(){i.delete()})),t!==null&&t.push(this.ha,r)}break;default:I("Unsupporting sharing policy")}return r}function bn(t,e){return e===null?(this.wa&&I("null is not a valid "+this.name),0):(e.U||I('Cannot pass "'+qt(e)+'" as a '+this.name),e.U.W||I("Cannot pass deleted object as a pointer of type "+this.name),e.U.X.pa&&I("Cannot convert argument of type "+e.U.X.name+" to parameter type "+this.name),St(e.U.W,e.U.X.V,this.V))}function De(t,e,r,i){this.name=t,this.V=e,this.wa=r,this.pa=i,this.qa=!1,this.ha=this.tb=this.xa=this.Na=this.xb=this.sb=void 0,e.$!==void 0?this.toWireType=yn:(this.toWireType=i?gn:bn,this.ba=null)}function Qt(t,e,r){h.hasOwnProperty(t)||vt("Replacing nonexistant public symbol"),h[t].Y!==void 0&&r!==void 0?h[t].Y[r]=e:(h[t]=e,h[t].ja=r)}function wn(t,e){var r=[];return function(){if(r.length=0,Object.assign(r,arguments),t.includes("j")){var i=h["dynCall_"+t];i=r&&r.length?i.apply(null,[e].concat(r)):i.call(null,e)}else i=Le.get(e).apply(null,r);return i}}function Te(t,e){t=fe(t);var r=t.includes("j")?wn(t,e):Le.get(e);return typeof r!="function"&&I("unknown function pointer with signature "+t+": "+e),r}var Kt=void 0;function Ve(t,e){function r(u){s[u]||Qe[u]||(bt[u]?bt[u].forEach(r):(i.push(u),s[u]=!0))}var i=[],s={};throw e.forEach(r),new Kt(t+": "+i.map(Ht).join([", "]))}function Tt(t,e,r,i,s){var u=e.length;2>u&&I("argTypes array size mismatch! Must at least get return value and 'this' types!");var l=e[1]!==null&&r!==null,c=!1;for(r=1;r<e.length;++r)if(e[r]!==null&&e[r].ba===void 0){c=!0;break}var d=e[0].name!=="void",f=u-2,S=Array(f),C=[],L=[];return function(){if(arguments.length!==f&&I("function "+t+" called with "+arguments.length+" arguments, expected "+f+" args!"),L.length=0,C.length=l?2:1,C[0]=s,l){var j=e[1].toWireType(L,this);C[1]=j}for(var B=0;B<f;++B)S[B]=e[B+2].toWireType(L,arguments[B]),C.push(S[B]);if(B=i.apply(null,C),c)st(L);else for(var O=l?1:2;O<e.length;O++){var ue=O===1?j:S[O-2];e[O].ba!==null&&e[O].ba(ue)}return j=d?e[0].fromWireType(B):void 0,j}}function Pt(t,e){for(var r=[],i=0;i<t;i++)r.push(q[e+4*i>>2]);return r}function Jt(t,e,r){return t instanceof Object||I(r+' with invalid "this": '+t),t instanceof e.V.constructor||I(r+' incompatible with "this" of type '+t.constructor.name),t.U.W||I("cannot call emscripten binding method "+r+" on deleted object"),St(t.U.W,t.U.X.V,e.V)}function jt(t){4<t&&--M[t].ya===0&&(M[t]=void 0,G.push(t))}function Sn(t,e,r){switch(e){case 0:return function(i){return this.fromWireType((r?T:w)[i])};case 1:return function(i){return this.fromWireType((r?W:X)[i>>1])};case 2:return function(i){return this.fromWireType((r?x:q)[i>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function qt(t){if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t}function Tn(t,e){switch(e){case 2:return function(r){return this.fromWireType(me[r>>2])};case 3:return function(r){return this.fromWireType(Ce[r>>3])};default:throw new TypeError("Unknown float type: "+t)}}function Pn(t,e,r){switch(e){case 0:return r?function(i){return T[i]}:function(i){return w[i]};case 1:return r?function(i){return W[i>>1]}:function(i){return X[i>>1]};case 2:return r?function(i){return x[i>>2]}:function(i){return q[i>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var en=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function En(t,e){for(var r=t>>1,i=r+e/2;!(r>=i)&&X[r];)++r;if(r<<=1,32<r-t&&en)return en.decode(w.subarray(t,r));for(r="",i=0;!(i>=e/2);++i){var s=W[t+2*i>>1];if(s==0)break;r+=String.fromCharCode(s)}return r}function An(t,e,r){if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var i=e;r=r<2*t.length?r/2:t.length;for(var s=0;s<r;++s)W[e>>1]=t.charCodeAt(s),e+=2;return W[e>>1]=0,e-i}function _n(t){return 2*t.length}function Cn(t,e){for(var r=0,i="";!(r>=e/4);){var s=x[t+4*r>>2];if(s==0)break;++r,65536<=s?(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023)):i+=String.fromCharCode(s)}return i}function Rn(t,e,r){if(r===void 0&&(r=2147483647),4>r)return 0;var i=e;r=i+r-4;for(var s=0;s<t.length;++s){var u=t.charCodeAt(s);if(55296<=u&&57343>=u){var l=t.charCodeAt(++s);u=65536+((u&1023)<<10)|l&1023}if(x[e>>2]=u,e+=4,e+4>r)break}return x[e>>2]=0,e-i}function xn(t){for(var e=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);55296<=i&&57343>=i&&++r,e+=4}return e}var Mn={};function Et(t){var e=Mn[t];return e===void 0?fe(t):e}var At=[];function Ln(t){var e=At.length;return At.push(t),e}function On(t,e){for(var r=Array(t),i=0;i<t;++i)r[i]=at(q[e+4*i>>2],"parameter "+i);return r}var tn=[],In=[null,[],[]];J=h.BindingError=le("BindingError"),h.count_emval_handles=function(){for(var t=0,e=5;e<M.length;++e)M[e]!==void 0&&++t;return t},h.get_first_emval=function(){for(var t=5;t<M.length;++t)if(M[t]!==void 0)return M[t];return null},pt=h.PureVirtualError=le("PureVirtualError");for(var nn=Array(256),_t=0;256>_t;++_t)nn[_t]=String.fromCharCode(_t);Nt=nn,h.getInheritedInstanceCount=function(){return Object.keys(qe).length},h.getLiveInheritedInstances=function(){var t=[],e;for(e in qe)qe.hasOwnProperty(e)&&t.push(qe[e]);return t},h.flushPendingDeletes=It,h.setDelayFunction=function(t){ot=t,it.length&&ot&&ot(It)},Zt=h.InternalError=le("InternalError"),ze.prototype.isAliasOf=function(t){if(!(this instanceof ze&&t instanceof ze))return!1;var e=this.U.X.V,r=this.U.W,i=t.U.X.V;for(t=t.U.W;e.$;)r=e.na(r),e=e.$;for(;i.$;)t=i.na(t),i=i.$;return e===i&&r===t},ze.prototype.clone=function(){if(this.U.W||Wt(this),this.U.ma)return this.U.count.value+=1,this;var t=et,e=Object,r=e.create,i=Object.getPrototypeOf(this),s=this.U;return t=t(r.call(e,i,{U:{value:{count:s.count,ka:s.ka,ma:s.ma,W:s.W,X:s.X,aa:s.aa,ca:s.ca}}})),t.U.count.value+=1,t.U.ka=!1,t},ze.prototype.delete=function(){this.U.W||Wt(this),this.U.ka&&!this.U.ma&&I("Object already scheduled for deletion"),mt(this),$t(this.U),this.U.ma||(this.U.aa=void 0,this.U.W=void 0)},ze.prototype.isDeleted=function(){return!this.U.W},ze.prototype.deleteLater=function(){return this.U.W||Wt(this),this.U.ka&&!this.U.ma&&I("Object already scheduled for deletion"),it.push(this),it.length===1&&ot&&ot(It),this.U.ka=!0,this},De.prototype.hb=function(t){return this.Na&&(t=this.Na(t)),t},De.prototype.Ga=function(t){this.ha&&this.ha(t)},De.prototype.argPackAdvance=8,De.prototype.readValueFromPointer=ut,De.prototype.deleteObject=function(t){t!==null&&t.delete()},De.prototype.fromWireType=function(t){function e(){return this.qa?gt(this.V.ea,{X:this.sb,W:r,ca:this,aa:t}):gt(this.V.ea,{X:this,W:t})}var r=this.hb(t);if(!r)return this.Ga(t),null;var i=mn(this.V,r);if(i!==void 0)return i.U.count.value===0?(i.U.W=r,i.U.aa=t,i.clone()):(i=i.clone(),this.Ga(t),i);if(i=this.V.gb(r),i=Gt[i],!i)return e.call(this);i=this.pa?i.Xa:i.pointerType;var s=zt(r,this.V,i.V);return s===null?e.call(this):this.qa?gt(i.V.ea,{X:i,W:s,ca:this,aa:t}):gt(i.V.ea,{X:i,W:s})},Kt=h.UnboundTypeError=le("UnboundTypeError");var Un={l:function(t,e,r){t=fe(t),e=at(e,"wrapper"),r=_e(r);var i=[].slice,s=e.V,u=s.ea,l=s.$.ea,c=s.$.constructor;t=_(t,function(){s.$.Ma.forEach(function(f){if(this[f]===l[f])throw new pt("Pure virtual function "+f+" must be implemented in JavaScript")}.bind(this)),Object.defineProperty(this,"__parent",{value:u}),this.__construct.apply(this,i.call(arguments))}),u.__construct=function(){this===u&&I("Pass correct 'this' to __construct");var f=c.implement.apply(void 0,[this].concat(i.call(arguments)));mt(f);var S=f.U;f.notifyOnDestruction(),S.ma=!0,Object.defineProperties(this,{U:{value:S}}),et(this),f=S.W,f=Ut(s,f),qe.hasOwnProperty(f)?I("Tried to register registered instance: "+f):qe[f]=this},u.__destruct=function(){this===u&&I("Pass correct 'this' to __destruct"),mt(this);var f=this.U.W;f=Ut(s,f),qe.hasOwnProperty(f)?delete qe[f]:I("Tried to unregister unregistered instance: "+f)},t.prototype=Object.create(u);for(var d in r)t.prototype[d]=r[d];return Se(t)},I:function(t){var e=yt[t];delete yt[t];var r=e.xa,i=e.ha,s=e.Ja,u=s.map(l=>l.kb).concat(s.map(l=>l.vb));Oe([t],u,l=>{var c={};return s.forEach((d,f)=>{var S=l[f],C=d.ib,L=d.jb,j=l[f+s.length],B=d.ub,O=d.wb;c[d.eb]={read:ue=>S.fromWireType(C(L,ue)),write:(ue,Y)=>{var N=[];B(O,ue,j.toWireType(N,Y)),st(N)}}}),[{name:e.name,fromWireType:function(d){var f={},S;for(S in c)f[S]=c[S].read(d);return i(d),f},toWireType:function(d,f){for(var S in c)if(!(S in f))throw new TypeError('Missing field:  "'+S+'"');var C=r();for(S in c)c[S].write(C,f[S]);return d!==null&&d.push(i,C),C},argPackAdvance:8,readValueFromPointer:ut,ba:i}]})},x:function(){},B:function(t,e,r,i,s){var u=wt(r);e=fe(e),Be(t,{name:e,fromWireType:function(l){return!!l},toWireType:function(l,c){return c?i:s},argPackAdvance:8,readValueFromPointer:function(l){if(r===1)var c=T;else if(r===2)c=W;else if(r===4)c=x;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(c[l>>u])},ba:null})},c:function(t,e,r,i,s,u,l,c,d,f,S,C,L){S=fe(S),u=Te(s,u),c&&(c=Te(l,c)),f&&(f=Te(d,f)),L=Te(C,L);var j=E(S);kt(j,function(){Ve("Cannot construct "+S+" due to unbound types",[i])}),Oe([t,e,r],i?[i]:[],function(B){if(B=B[0],i)var O=B.V,ue=O.ea;else ue=ze.prototype;B=_(j,function(){if(Object.getPrototypeOf(this)!==Y)throw new J("Use 'new' to construct "+S);if(N.ia===void 0)throw new J(S+" has no accessible constructor");var Ie=N.ia[arguments.length];if(Ie===void 0)throw new J("Tried to invoke ctor of "+S+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(N.ia).toString()+") parameters instead!");return Ie.apply(this,arguments)});var Y=Object.create(ue,{constructor:{value:B}});B.prototype=Y;var N=new vn(S,B,Y,L,O,u,c,f);O=new De(S,N,!0,!1),ue=new De(S+"*",N,!1,!1);var ne=new De(S+" const*",N,!1,!0);return Gt[t]={pointerType:ue,Xa:ne},Qt(j,B),[O,ue,ne]})},h:function(t,e,r,i,s,u,l){var c=Pt(r,i);e=fe(e),u=Te(s,u),Oe([],[t],function(d){function f(){Ve("Cannot call "+S+" due to unbound types",c)}d=d[0];var S=d.name+"."+e;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var C=d.V.constructor;return C[e]===void 0?(f.ja=r-1,C[e]=f):(Bt(C,e,S),C[e].Y[r-1]=f),Oe([],c,function(L){return L=Tt(S,[L[0],null].concat(L.slice(1)),null,u,l),C[e].Y===void 0?(L.ja=r-1,C[e]=L):C[e].Y[r-1]=L,[]}),[]})},n:function(t,e,r,i,s,u,l,c){e=fe(e),u=Te(s,u),Oe([],[t],function(d){d=d[0];var f=d.name+"."+e,S={get:function(){Ve("Cannot access "+f+" due to unbound types",[r])},enumerable:!0,configurable:!0};return S.set=c?()=>{Ve("Cannot access "+f+" due to unbound types",[r])}:()=>{I(f+" is a read-only property")},Object.defineProperty(d.V.constructor,e,S),Oe([],[r],function(C){C=C[0];var L={get:function(){return C.fromWireType(u(i))},enumerable:!0};return c&&(c=Te(l,c),L.set=j=>{var B=[];c(i,C.toWireType(B,j)),st(B)}),Object.defineProperty(d.V.constructor,e,L),[]}),[]})},k:function(t,e,r,i,s,u){0<e||Ze();var l=Pt(e,r);s=Te(i,s),Oe([],[t],function(c){c=c[0];var d="constructor "+c.name;if(c.V.ia===void 0&&(c.V.ia=[]),c.V.ia[e-1]!==void 0)throw new J("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+c.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return c.V.ia[e-1]=()=>{Ve("Cannot construct "+c.name+" due to unbound types",l)},Oe([],l,function(f){return f.splice(1,0,null),c.V.ia[e-1]=Tt(d,f,null,s,u),[]}),[]})},a:function(t,e,r,i,s,u,l,c){var d=Pt(r,i);e=fe(e),u=Te(s,u),Oe([],[t],function(f){function S(){Ve("Cannot call "+C+" due to unbound types",d)}f=f[0];var C=f.name+"."+e;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),c&&f.V.Ma.push(e);var L=f.V.ea,j=L[e];return j===void 0||j.Y===void 0&&j.className!==f.name&&j.ja===r-2?(S.ja=r-2,S.className=f.name,L[e]=S):(Bt(L,e,C),L[e].Y[r-2]=S),Oe([],d,function(B){return B=Tt(C,B,f,u,l),L[e].Y===void 0?(B.ja=r-2,L[e]=B):L[e].Y[r-2]=B,[]}),[]})},b:function(t,e,r,i,s,u,l,c,d,f){e=fe(e),s=Te(i,s),Oe([],[t],function(S){S=S[0];var C=S.name+"."+e,L={get:function(){Ve("Cannot access "+C+" due to unbound types",[r,l])},enumerable:!0,configurable:!0};return L.set=d?()=>{Ve("Cannot access "+C+" due to unbound types",[r,l])}:()=>{I(C+" is a read-only property")},Object.defineProperty(S.V.ea,e,L),Oe([],d?[r,l]:[r],function(j){var B=j[0],O={get:function(){var Y=Jt(this,S,C+" getter");return B.fromWireType(s(u,Y))},enumerable:!0};if(d){d=Te(c,d);var ue=j[1];O.set=function(Y){var N=Jt(this,S,C+" setter"),ne=[];d(f,N,ue.toWireType(ne,Y)),st(ne)}}return Object.defineProperty(S.V.ea,e,O),[]}),[]})},A:function(t,e){e=fe(e),Be(t,{name:e,fromWireType:function(r){var i=_e(r);return jt(r),i},toWireType:function(r,i){return Se(i)},argPackAdvance:8,readValueFromPointer:ut,ba:null})},j:function(t,e,r,i){function s(){}r=wt(r),e=fe(e),s.values={},Be(t,{name:e,constructor:s,fromWireType:function(u){return this.constructor.values[u]},toWireType:function(u,l){return l.value},argPackAdvance:8,readValueFromPointer:Sn(e,r,i),ba:null}),kt(e,s)},i:function(t,e,r){var i=at(t,"enum");e=fe(e),t=i.constructor,i=Object.create(i.constructor.prototype,{value:{value:r},constructor:{value:_(i.name+"_"+e,function(){})}}),t.values[r]=i,t[e]=i},r:function(t,e,r){r=wt(r),e=fe(e),Be(t,{name:e,fromWireType:function(i){return i},toWireType:function(i,s){return s},argPackAdvance:8,readValueFromPointer:Tn(e,r),ba:null})},q:function(t,e,r,i,s,u){var l=Pt(e,r);t=fe(t),s=Te(i,s),kt(t,function(){Ve("Cannot call "+t+" due to unbound types",l)},e-1),Oe([],l,function(c){return Qt(t,Tt(t,[c[0],null].concat(c.slice(1)),null,s,u),e-1),[]})},g:function(t,e,r,i,s){e=fe(e),s===-1&&(s=4294967295),s=wt(r);var u=c=>c;if(i===0){var l=32-8*r;u=c=>c<<l>>>l}r=e.includes("unsigned")?function(c,d){return d>>>0}:function(c,d){return d},Be(t,{name:e,fromWireType:u,toWireType:r,argPackAdvance:8,readValueFromPointer:Pn(e,s,i!==0),ba:null})},d:function(t,e,r){function i(u){u>>=2;var l=q;return new s(b,l[u+1],l[u])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];r=fe(r),Be(t,{name:r,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{lb:!0})},s:function(t,e){e=fe(e);var r=e==="std::string";Be(t,{name:e,fromWireType:function(i){var s=q[i>>2],u=i+4;if(r)for(var l=u,c=0;c<=s;++c){var d=u+c;if(c==s||w[d]==0){if(l=l?p(w,l,d-l):"",f===void 0)var f=l;else f+=String.fromCharCode(0),f+=l;l=d+1}}else{for(f=Array(s),c=0;c<s;++c)f[c]=String.fromCharCode(w[u+c]);f=f.join("")}return Ye(i),f},toWireType:function(i,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var u,l=typeof s=="string";l||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||I("Cannot pass non-string to std::string");var c;if(r&&l)for(u=c=0;u<s.length;++u){var d=s.charCodeAt(u);127>=d?c++:2047>=d?c+=2:55296<=d&&57343>=d?(c+=4,++u):c+=3}else c=s.length;if(u=c,c=Dt(4+u+1),d=c+4,q[c>>2]=u,r&&l){if(l=d,d=u+1,u=w,0<d){d=l+d-1;for(var f=0;f<s.length;++f){var S=s.charCodeAt(f);if(55296<=S&&57343>=S){var C=s.charCodeAt(++f);S=65536+((S&1023)<<10)|C&1023}if(127>=S){if(l>=d)break;u[l++]=S}else{if(2047>=S){if(l+1>=d)break;u[l++]=192|S>>6}else{if(65535>=S){if(l+2>=d)break;u[l++]=224|S>>12}else{if(l+3>=d)break;u[l++]=240|S>>18,u[l++]=128|S>>12&63}u[l++]=128|S>>6&63}u[l++]=128|S&63}}u[l]=0}}else if(l)for(l=0;l<u;++l)f=s.charCodeAt(l),255<f&&(Ye(d),I("String has UTF-16 code units that do not fit in 8 bits")),w[d+l]=f;else for(l=0;l<u;++l)w[d+l]=s[l];return i!==null&&i.push(Ye,c),c},argPackAdvance:8,readValueFromPointer:ut,ba:function(i){Ye(i)}})},p:function(t,e,r){if(r=fe(r),e===2)var i=En,s=An,u=_n,l=()=>X,c=1;else e===4&&(i=Cn,s=Rn,u=xn,l=()=>q,c=2);Be(t,{name:r,fromWireType:function(d){for(var f=q[d>>2],S=l(),C,L=d+4,j=0;j<=f;++j){var B=d+4+j*e;(j==f||S[B>>c]==0)&&(L=i(L,B-L),C===void 0?C=L:(C+=String.fromCharCode(0),C+=L),L=B+e)}return Ye(d),C},toWireType:function(d,f){typeof f!="string"&&I("Cannot pass non-string to C++ string type "+r);var S=u(f),C=Dt(4+S+e);return q[C>>2]=S>>c,s(f,C+4,S+e),d!==null&&d.push(Ye,C),C},argPackAdvance:8,readValueFromPointer:ut,ba:function(d){Ye(d)}})},K:function(t,e,r,i,s,u){yt[t]={name:fe(e),xa:Te(r,i),ha:Te(s,u),Ja:[]}},J:function(t,e,r,i,s,u,l,c,d,f){yt[t].Ja.push({eb:fe(e),kb:r,ib:Te(i,s),jb:u,vb:l,ub:Te(c,d),wb:f})},C:function(t,e){e=fe(e),Be(t,{nb:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},m:function(t,e,r){t=_e(t),e=at(e,"emval::as");var i=[],s=Se(i);return q[r>>2]=s,e.toWireType(i,t)},t:function(t,e,r,i,s){t=At[t],e=_e(e),r=Et(r);var u=[];return q[i>>2]=Se(u),t(e,r,u,s)},f:function(t,e,r,i){t=At[t],e=_e(e),r=Et(r),t(e,r,null,i)},L:jt,e:function(t,e){var r=On(t,e),i=r[0];e=i.name+"_$"+r.slice(1).map(function(l){return l.name}).join("_")+"$";var s=tn[e];if(s!==void 0)return s;var u=Array(t-1);return s=Ln((l,c,d,f)=>{for(var S=0,C=0;C<t-1;++C)u[C]=r[C+1].readValueFromPointer(f+S),S+=r[C+1].argPackAdvance;for(l=l[c].apply(l,u),C=0;C<t-1;++C)r[C+1].Za&&r[C+1].Za(u[C]);if(!i.nb)return i.toWireType(d,l)}),tn[e]=s},D:function(t){return t=Et(t),Se(h[t])},H:function(t,e){return t=_e(t),e=_e(e),Se(t[e])},E:function(t){4<t&&(M[t].ya+=1)},G:function(t){return Se(Et(t))},F:function(t){var e=_e(t);st(e),jt(t)},u:function(t,e){return t=at(t,"_emval_take_value"),t=t.readValueFromPointer(e),Se(t)},v:function(){Ze("")},o:function(t){var e=w.length;if(t>>>=0,2147483648<t)return!1;for(var r=1;4>=r;r*=2){var i=e*(1+.2/r);i=Math.min(i,t+100663296);var s=Math;i=Math.max(t,i),s=s.min.call(s,2147483648,i+(65536-i%65536)%65536);e:{try{a.grow(s-b.byteLength+65535>>>16),ae();var u=1;break e}catch{}u=void 0}if(u)return!0}return!1},z:function(){return 52},w:function(){return 70},y:function(t,e,r,i){for(var s=0,u=0;u<r;u++){var l=q[e>>2],c=q[e+4>>2];e+=8;for(var d=0;d<c;d++){var f=w[l+d],S=In[t];f===0||f===10?((t===1?Ne:oe)(p(S,0)),S.length=0):S.push(f)}s+=c}return q[i>>2]=s,0}};(function(){function t(s){h.asm=s.exports,a=h.asm.M,ae(),Le=h.asm.S,He.unshift(h.asm.N),je--,h.monitorRunDependencies&&h.monitorRunDependencies(je),je==0&&$e&&(s=$e,$e=null,s())}function e(s){t(s.instance)}function r(s){return se().then(function(u){return WebAssembly.instantiate(u,i)}).then(function(u){return u}).then(s,function(u){oe("failed to asynchronously prepare wasm: "+u),Ze(u)})}var i={a:Un};if(je++,h.monitorRunDependencies&&h.monitorRunDependencies(je),h.instantiateWasm)try{return h.instantiateWasm(i,t)}catch(s){return oe("Module.instantiateWasm callback failed with error: "+s),!1}return function(){return Me||typeof WebAssembly.instantiateStreaming!="function"||ht()||Re.startsWith("file://")||typeof fetch!="function"?r(e):fetch(Re,{credentials:"same-origin"}).then(function(s){return WebAssembly.instantiateStreaming(s,i).then(e,function(u){return oe("wasm streaming compile failed: "+u),oe("falling back to ArrayBuffer instantiation"),r(e)})})}().catch(xe),{}})(),h.___wasm_call_ctors=function(){return(h.___wasm_call_ctors=h.asm.N).apply(null,arguments)};var Ye=h._free=function(){return(Ye=h._free=h.asm.O).apply(null,arguments)},Dt=h._malloc=function(){return(Dt=h._malloc=h.asm.P).apply(null,arguments)},rn=h.___getTypeName=function(){return(rn=h.___getTypeName=h.asm.Q).apply(null,arguments)};h.__embind_initialize_bindings=function(){return(h.__embind_initialize_bindings=h.asm.R).apply(null,arguments)},h.dynCall_jiji=function(){return(h.dynCall_jiji=h.asm.T).apply(null,arguments)};var Ct;$e=function t(){Ct||on(),Ct||($e=t)};function on(){function t(){if(!Ct&&(Ct=!0,h.calledRun=!0,!n)){if(g(He),Pe(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),h.postRun)for(typeof h.postRun=="function"&&(h.postRun=[h.postRun]);h.postRun.length;){var e=h.postRun.shift();ft.unshift(e)}g(ft)}}if(!(0<je)){if(h.preRun)for(typeof h.preRun=="function"&&(h.preRun=[h.preRun]);h.preRun.length;)Ot();g(Ae),0<je||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),t()},1)):t())}}if(h.preInit)for(typeof h.preInit=="function"&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();return on(),F.ready}})();const ie=re},Q=>{Q.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"1.0.98","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(Q,D,K)=>{K.r(D),K.d(D,{registerTouchInteractions:()=>re.registerTouchInteractions});var re=K(4)},(Q,D,K)=>{K.r(D),K.d(D,{registerTouchInteractions:()=>re});const re=({canvas:ie,artboard:de,stateMachines:F=[],renderer:h,rive:Pe,fit:xe,alignment:be})=>{if(!ie||!F.length||!h||!Pe||!de)return null;const he=(Ue=>{const U=Ue.currentTarget.getBoundingClientRect(),we=Ue.clientX-U.left,ge=Ue.clientY-U.top,pe=Pe.computeAlignment(xe,be,{minX:0,minY:0,maxX:U.width,maxY:U.height},de.bounds);let Fe=new Pe.Mat2D;pe.invert(Fe);const Ne=new Pe.Vec2D(we,ge),oe=Pe.mapXY(Fe,Ne),Me=oe.x(),a=oe.y();switch(oe.delete(),Fe.delete(),Ne.delete(),pe.delete(),Ue.type){case"mouseover":case"mouseout":case"mousemove":{for(const n of F)n.pointerMove(Me,a);break}case"mousedown":{for(const n of F)n.pointerDown(Me,a);break}case"mouseup":{for(const n of F)n.pointerUp(Me,a);break}}}).bind(void 0);return ie.addEventListener("mouseover",he),ie.addEventListener("mouseout",he),ie.addEventListener("mousemove",he),ie.addEventListener("mousedown",he),ie.addEventListener("mouseup",he),()=>{ie.removeEventListener("mouseover",he),ie.removeEventListener("mouseout",he),ie.removeEventListener("mousemove",he),ie.removeEventListener("mousedown",he),ie.removeEventListener("mouseup",he)}}}],P={};function A(Q){var D=P[Q];if(D!==void 0)return D.exports;var K=P[Q]={exports:{}};return R[Q](K,K.exports,A),K.exports}A.d=(Q,D)=>{for(var K in D)A.o(D,K)&&!A.o(Q,K)&&Object.defineProperty(Q,K,{enumerable:!0,get:D[K]})},A.o=(Q,D)=>Object.prototype.hasOwnProperty.call(Q,D),A.r=Q=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})};var V={};return(()=>{A.r(V),A.d(V,{Fit:()=>de,Alignment:()=>F,Layout:()=>h,RuntimeLoader:()=>Pe,StateMachineInputType:()=>be,StateMachineInput:()=>Ee,EventType:()=>U,LoopType:()=>we,Rive:()=>Fe,Testing:()=>Me});var Q=A(1),D=A(2),K=A(3),re=function(a,n,o,p){function b(T){return T instanceof o?T:new o(function(w){w(T)})}return new(o||(o=Promise))(function(T,w){function W(q){try{x(p.next(q))}catch(me){w(me)}}function X(q){try{x(p.throw(q))}catch(me){w(me)}}function x(q){q.done?T(q.value):b(q.value).then(W,X)}x((p=p.apply(a,n||[])).next())})},ie=function(a,n){var o={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},p,b,T,w;return w={next:W(0),throw:W(1),return:W(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function W(x){return function(q){return X([x,q])}}function X(x){if(p)throw new TypeError("Generator is already executing.");for(;o;)try{if(p=1,b&&(T=x[0]&2?b.return:x[0]?b.throw||((T=b.return)&&T.call(b),0):b.next)&&!(T=T.call(b,x[1])).done)return T;switch(b=0,T&&(x=[x[0]&2,T.value]),x[0]){case 0:case 1:T=x;break;case 4:return o.label++,{value:x[1],done:!1};case 5:o.label++,b=x[1],x=[0];continue;case 7:x=o.ops.pop(),o.trys.pop();continue;default:if(T=o.trys,!(T=T.length>0&&T[T.length-1])&&(x[0]===6||x[0]===2)){o=0;continue}if(x[0]===3&&(!T||x[1]>T[0]&&x[1]<T[3])){o.label=x[1];break}if(x[0]===6&&o.label<T[1]){o.label=T[1],T=x;break}if(T&&o.label<T[2]){o.label=T[2],o.ops.push(x);break}T[2]&&o.ops.pop(),o.trys.pop();continue}x=n.call(a,o)}catch(q){x=[6,q],b=0}finally{p=T=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},de;(function(a){a.Cover="cover",a.Contain="contain",a.Fill="fill",a.FitWidth="fitWidth",a.FitHeight="fitHeight",a.None="none",a.ScaleDown="scaleDown"})(de||(de={}));var F;(function(a){a.Center="center",a.TopLeft="topLeft",a.TopCenter="topCenter",a.TopRight="topRight",a.CenterLeft="centerLeft",a.CenterRight="centerRight",a.BottomLeft="bottomLeft",a.BottomCenter="bottomCenter",a.BottomRight="bottomRight"})(F||(F={}));var h=function(){function a(n){var o,p,b,T,w,W;this.fit=(o=n==null?void 0:n.fit)!==null&&o!==void 0?o:de.Contain,this.alignment=(p=n==null?void 0:n.alignment)!==null&&p!==void 0?p:F.Center,this.minX=(b=n==null?void 0:n.minX)!==null&&b!==void 0?b:0,this.minY=(T=n==null?void 0:n.minY)!==null&&T!==void 0?T:0,this.maxX=(w=n==null?void 0:n.maxX)!==null&&w!==void 0?w:0,this.maxY=(W=n==null?void 0:n.maxY)!==null&&W!==void 0?W:0}return a.new=function(n){var o=n.fit,p=n.alignment,b=n.minX,T=n.minY,w=n.maxX,W=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new a({fit:o,alignment:p,minX:b,minY:T,maxX:w,maxY:W})},a.prototype.copyWith=function(n){var o=n.fit,p=n.alignment,b=n.minX,T=n.minY,w=n.maxX,W=n.maxY;return new a({fit:o!=null?o:this.fit,alignment:p!=null?p:this.alignment,minX:b!=null?b:this.minX,minY:T!=null?T:this.minY,maxX:w!=null?w:this.maxX,maxY:W!=null?W:this.maxY})},a.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var o;return this.fit===de.Cover?o=n.Fit.cover:this.fit===de.Contain?o=n.Fit.contain:this.fit===de.Fill?o=n.Fit.fill:this.fit===de.FitWidth?o=n.Fit.fitWidth:this.fit===de.FitHeight?o=n.Fit.fitHeight:this.fit===de.ScaleDown?o=n.Fit.scaleDown:o=n.Fit.none,this.cachedRuntimeFit=o,o},a.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var o;return this.alignment===F.TopLeft?o=n.Alignment.topLeft:this.alignment===F.TopCenter?o=n.Alignment.topCenter:this.alignment===F.TopRight?o=n.Alignment.topRight:this.alignment===F.CenterLeft?o=n.Alignment.centerLeft:this.alignment===F.CenterRight?o=n.Alignment.centerRight:this.alignment===F.BottomLeft?o=n.Alignment.bottomLeft:this.alignment===F.BottomCenter?o=n.Alignment.bottomCenter:this.alignment===F.BottomRight?o=n.Alignment.bottomRight:o=n.Alignment.center,this.cachedRuntimeAlignment=o,o},a}(),Pe=function(){function a(){}return a.loadRuntime=function(){Q.default({locateFile:function(){return a.wasmURL}}).then(function(n){var o;for(a.runtime=n;a.callBackQueue.length>0;)(o=a.callBackQueue.shift())===null||o===void 0||o(a.runtime)})},a.getInstance=function(n){a.isLoading||(a.isLoading=!0,a.loadRuntime()),a.runtime?n(a.runtime):a.callBackQueue.push(n)},a.awaitInstance=function(){return new Promise(function(n){return a.getInstance(function(o){return n(o)})})},a.setWasmUrl=function(n){a.wasmURL=n},a.isLoading=!1,a.callBackQueue=[],a.wasmURL="https://unpkg.com/"+D.name+"@"+D.version+"/rive.wasm",a}(),xe=function(){function a(n,o,p,b){this.animation=n,this.artboard=o,this.playing=b,this.loopCount=0,this.scrubTo=null,this.instance=new p.LinearAnimationInstance(n,o)}return Object.defineProperty(a.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"time",{get:function(){return this.instance.time},set:function(n){this.instance.time=n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),a.prototype.advance=function(n){this.scrubTo===null?this.instance.advance(n):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},a.prototype.apply=function(n){this.instance.apply(n)},Object.defineProperty(a.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),a.prototype.cleanup=function(){this.instance.delete()},a}(),be;(function(a){a[a.Number=56]="Number",a[a.Trigger=58]="Trigger",a[a.Boolean=59]="Boolean"})(be||(be={}));var Ee=function(){function a(n,o){this.type=n,this.runtimeInput=o}return Object.defineProperty(a.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),a.prototype.fire=function(){this.type===be.Trigger&&this.runtimeInput.fire()},a}(),he=function(){function a(n,o,p,b){this.stateMachine=n,this.playing=p,this.artboard=b,this.inputs=[],this.instance=new o.StateMachineInstance(n,b),this.initInputs(o)}return Object.defineProperty(a.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"statesChanged",{get:function(){for(var n=[],o=0;o<this.instance.stateChangedCount();o++)n.push(this.instance.stateChangedNameByIndex(o));return n},enumerable:!1,configurable:!0}),a.prototype.advance=function(n){this.instance.advance(n)},a.prototype.initInputs=function(n){for(var o=0;o<this.instance.inputCount();o++){var p=this.instance.input(o);this.inputs.push(this.mapRuntimeInput(p,n))}},a.prototype.mapRuntimeInput=function(n,o){if(n.type===o.SMIInput.bool)return new Ee(be.Boolean,n.asBool());if(n.type===o.SMIInput.number)return new Ee(be.Number,n.asNumber());if(n.type===o.SMIInput.trigger)return new Ee(be.Trigger,n.asTrigger())},a.prototype.cleanup=function(){this.instance.delete()},a}(),Ue=function(){function a(n,o,p,b,T){b===void 0&&(b=[]),T===void 0&&(T=[]),this.runtime=n,this.artboard=o,this.eventManager=p,this.animations=b,this.stateMachines=T}return a.prototype.add=function(n,o,p){if(p===void 0&&(p=!0),n=oe(n),n.length===0)this.animations.forEach(function(ae){return ae.playing=o}),this.stateMachines.forEach(function(ae){return ae.playing=o});else{var b=this.animations.map(function(ae){return ae.name}),T=this.stateMachines.map(function(ae){return ae.name});for(var w in n){var W=b.indexOf(n[w]),X=T.indexOf(n[w]);if(W>=0||X>=0)W>=0?this.animations[W].playing=o:this.stateMachines[X].playing=o;else{var x=this.artboard.animationByName(n[w]);if(x){var q=new xe(x,this.artboard,this.runtime,o);q.advance(0),q.apply(1),this.animations.push(q)}else{var me=this.artboard.stateMachineByName(n[w]);if(me){var Ce=new he(me,this.runtime,o,this.artboard);this.stateMachines.push(Ce)}}}}}return p&&(o?this.eventManager.fire({type:U.Play,data:this.playing}):this.eventManager.fire({type:U.Pause,data:this.paused})),o?this.playing:this.paused},a.prototype.play=function(n){return this.add(n,!0)},a.prototype.pause=function(n){return this.add(n,!1)},a.prototype.scrub=function(n,o){var p=this.animations.filter(function(b){return n.includes(b.name)});return p.forEach(function(b){return b.scrubTo=o}),p.map(function(b){return b.name})},Object.defineProperty(a.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),a.prototype.stop=function(n){var o=this;n=oe(n);var p=[];if(n.length===0)p=this.animations.map(function(w){return w.name}).concat(this.stateMachines.map(function(w){return w.name})),this.animations.forEach(function(w){return w.cleanup()}),this.stateMachines.forEach(function(w){return w.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var b=this.animations.filter(function(w){return n.includes(w.name)});b.forEach(function(w){w.cleanup(),o.animations.splice(o.animations.indexOf(w),1)});var T=this.stateMachines.filter(function(w){return n.includes(w.name)});T.forEach(function(w){w.cleanup(),o.stateMachines.splice(o.stateMachines.indexOf(w),1)}),p=b.map(function(w){return w.name}).concat(T.map(function(w){return w.name}))}return this.eventManager.fire({type:U.Stop,data:p}),p},Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,o){return n||o.playing},!1)||this.stateMachines.reduce(function(n,o){return n||o.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),a.prototype.atLeastOne=function(n,o){o===void 0&&(o=!0);var p;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([p=this.artboard.animationByIndex(0).name],n,o):this.artboard.stateMachineCount()>0&&this.add([p=this.artboard.stateMachineByIndex(0).name],n,o)),p},a.prototype.handleLooping=function(){for(var n=0,o=this.animations.filter(function(b){return b.playing});n<o.length;n++){var p=o[n];p.loopValue===0&&p.loopCount?(p.loopCount=0,this.stop(p.name)):p.loopValue===1&&p.loopCount?(this.eventManager.fire({type:U.Loop,data:{animation:p.name,type:we.Loop}}),p.loopCount=0):p.loopValue===2&&p.loopCount>1&&(this.eventManager.fire({type:U.Loop,data:{animation:p.name,type:we.PingPong}}),p.loopCount=0)}},a.prototype.handleStateChanges=function(){for(var n=[],o=0,p=this.stateMachines.filter(function(T){return T.playing});o<p.length;o++){var b=p[o];n.push.apply(n,b.statesChanged)}n.length>0&&this.eventManager.fire({type:U.StateChange,data:n})},a}(),U;(function(a){a.Load="load",a.LoadError="loaderror",a.Play="play",a.Pause="pause",a.Stop="stop",a.Loop="loop",a.Draw="draw",a.StateChange="statechange"})(U||(U={}));var we;(function(a){a.OneShot="oneshot",a.Loop="loop",a.PingPong="pingpong"})(we||(we={}));var ge=function(){function a(n){n===void 0&&(n=[]),this.listeners=n}return a.prototype.getListeners=function(n){return this.listeners.filter(function(o){return o.type===n})},a.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},a.prototype.remove=function(n){for(var o=0;o<this.listeners.length;o++){var p=this.listeners[o];if(p.type===n.type&&p.callback===n.callback){this.listeners.splice(o,1);break}}},a.prototype.removeAll=function(n){var o=this;n?this.listeners.filter(function(p){return p.type===n}).forEach(function(p){return o.remove(p)}):this.listeners.splice(0,this.listeners.length)},a.prototype.fire=function(n){var o=this.getListeners(n.type);o.forEach(function(p){return p.callback(n)})},a}(),pe=function(){function a(n){this.eventManager=n,this.queue=[]}return a.prototype.add=function(n){this.queue.push(n)},a.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n!=null&&n.action&&n.action(),n!=null&&n.event&&this.eventManager.fire(n.event)}},a}(),Fe=function(){function a(n){var o;this._updateLayout=!0,this.isRendererActive=!0,this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=n.canvas,this.src=n.src,this.buffer=n.buffer,this.layout=(o=n.layout)!==null&&o!==void 0?o:new h,this.eventManager=new ge,n.onLoad&&this.on(U.Load,n.onLoad),n.onLoadError&&this.on(U.LoadError,n.onLoadError),n.onPlay&&this.on(U.Play,n.onPlay),n.onPause&&this.on(U.Pause,n.onPause),n.onStop&&this.on(U.Stop,n.onStop),n.onLoop&&this.on(U.Loop,n.onLoop),n.onStateChange&&this.on(U.StateChange,n.onStateChange),n.onload&&!n.onLoad&&this.on(U.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(U.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(U.Play,n.onplay),n.onpause&&!n.onPause&&this.on(U.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(U.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(U.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(U.StateChange,n.onstatechange),this.taskQueue=new pe(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:n.autoplay,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return a.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new a(n)},a.prototype.init=function(n){var o=this,p=n.src,b=n.buffer,T=n.animations,w=n.stateMachines,W=n.artboard,X=n.autoplay,x=X===void 0?!1:X,q=n.useOffscreenRenderer,me=q===void 0?!1:q;if(this.src=p,this.buffer=b,!this.src&&!this.buffer)throw new Error(a.missingErrorMessage);var Ce=oe(T),ae=oe(w);this.loaded=!1,this.readyForPlaying=!1,Pe.awaitInstance().then(function(Le){o.runtime=Le,o.renderer=o.runtime.makeRenderer(o.canvas,me),o.canvas.width||o.canvas.height||o.resizeDrawingSurfaceToCanvas(),o.initData(W,Ce,ae,x).then(function(){var Ae=(o.animator.stateMachines||[]).filter(function(He){return He.playing}).map(function(He){return He.instance});o.eventCleanup=(0,K.registerTouchInteractions)({canvas:o.canvas,artboard:o.artboard,stateMachines:Ae,renderer:o.renderer,rive:o.runtime,fit:o._layout.runtimeFit(o.runtime),alignment:o._layout.runtimeAlignment(o.runtime)})}).catch(function(Ae){console.error(Ae)})}).catch(function(Le){console.error(Le)})},a.prototype.initData=function(n,o,p,b){var T;return re(this,void 0,void 0,function(){var w,W,X;return ie(this,function(x){switch(x.label){case 0:return this.src?(w=this,[4,Ne(this.src)]):[3,2];case 1:w.buffer=x.sent(),x.label=2;case 2:return W=this,[4,this.runtime.load(new Uint8Array(this.buffer))];case 3:return W.file=x.sent(),this.file?(this.initArtboard(n,o,p,b),this.loaded=!0,this.eventManager.fire({type:U.Load,data:(T=this.src)!==null&&T!==void 0?T:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()]):(X="Problem loading file; may be corrupt!",console.warn(X),this.eventManager.fire({type:U.LoadError,data:X}),[2,Promise.reject(X)])}})})},a.prototype.initArtboard=function(n,o,p,b){var T=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!T){var w="Invalid artboard name or no default artboard";console.warn(w),this.eventManager.fire({type:U.LoadError,data:w});return}if(this.artboard=T,this.artboard.animationCount()<1){var w="Artboard has no animations";throw this.eventManager.fire({type:U.LoadError,data:w}),w}this.animator=new Ue(this.runtime,this.artboard,this.eventManager);var W;o.length>0||p.length>0?(W=o.concat(p),this.animator.add(W,b,!1)):W=[this.animator.atLeastOne(b,!1)],this.taskQueue.add({event:{type:b?U.Play:U.Pause,data:W}})},a.prototype.drawFrame=function(){this.startRendering()},a.prototype.draw=function(n,o){var p=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,o==null||o());var b=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var T=this.animator.animations.filter(function(Ae){return Ae.playing||Ae.needsScrub}).sort(function(Ae){return Ae.needsScrub?-1:1}),w=0,W=T;w<W.length;w++){var X=W[w];X.advance(b),X.instance.didLoop&&(X.loopCount+=1),X.apply(1)}for(var x=this.animator.stateMachines.filter(function(Ae){return Ae.playing}),q=0,me=x;q<me.length;q++){var Ce=me[q];Ce.advance(b)}this.artboard.advance(b);var ae=this.renderer;ae.clear(),ae.save(),this.alignRenderer(),this.artboard.draw(ae),ae.restore(),ae.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.frameCount++;var Le=performance.now();for(this.frameTimes.push(Le),this.durations.push(Le-p);this.frameTimes[0]<=Le-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},a.prototype.alignRenderer=function(){var n=this,o=n.renderer,p=n.runtime,b=n._layout,T=n.artboard;o.align(b.runtimeFit(p),b.runtimeAlignment(p),{minX:b.minX,minY:b.minY,maxX:b.maxX,maxY:b.maxY},T.bounds)},Object.defineProperty(a.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,o){return n+o},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),a.prototype.cleanup=function(){this.stopRendering(),this.cleanupInstances(),this.renderer.delete(),this.file.delete()},a.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},a.prototype.play=function(n,o){var p=this;if(n=oe(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return p.play(n,o)}});return}this.animator.play(n),this.startRendering()},a.prototype.pause=function(n){var o=this;if(n=oe(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return o.pause(n)}});return}this.animator.pause(n)},a.prototype.scrub=function(n,o){var p=this;if(n=oe(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return p.scrub(n,o)}});return}this.animator.scrub(n,o||0),this.drawFrame()},a.prototype.stop=function(n){var o=this;if(n=oe(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return o.stop(n)}});return}this.animator.stop(n)},a.prototype.reset=function(n){var o,p=n==null?void 0:n.artboard,b=oe(n==null?void 0:n.animations),T=oe(n==null?void 0:n.stateMachines),w=(o=n==null?void 0:n.autoplay)!==null&&o!==void 0?o:!1;this.cleanupInstances(),this.initArtboard(p,b,T,w),this.taskQueue.process()},a.prototype.load=function(n){this.stop(),this.init(n)},Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),a.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},a.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&!!window){var n=this.canvas.getBoundingClientRect(),o=n.width,p=n.height,b=window.devicePixelRatio||1;this.canvas.width=b*o,this.canvas.height=b*p,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(a.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var n=[],o=0;o<this.artboard.animationCount();o++)n.push(this.artboard.animationByIndex(o).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var n=[],o=0;o<this.artboard.stateMachineCount();o++)n.push(this.artboard.stateMachineByIndex(o).name);return n},enumerable:!1,configurable:!0}),a.prototype.stateMachineInputs=function(n){if(!!this.loaded){var o=this.animator.stateMachines.find(function(p){return p.name===n});return o==null?void 0:o.inputs}},Object.defineProperty(a.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),a.prototype.on=function(n,o){this.eventManager.add({type:n,callback:o})},a.prototype.unsubscribe=function(n,o){this.eventManager.remove({type:n,callback:o})},a.prototype.unsubscribeAll=function(n){this.eventManager.removeAll(n)},a.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},a.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},a.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},a.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(a.prototype,"contents",{get:function(){if(!!this.loaded){for(var n={artboards:[]},o=0;o<this.file.artboardCount();o++){for(var p=this.file.artboardByIndex(o),b={name:p.name,animations:[],stateMachines:[]},T=0;T<p.animationCount();T++){var w=p.animationByIndex(T);b.animations.push(w.name)}for(var W=0;W<p.stateMachineCount();W++){for(var X=p.stateMachineByIndex(W),x=X.name,q=new this.runtime.StateMachineInstance(X,p),me=[],Ce=0;Ce<q.inputCount();Ce++){var ae=q.input(Ce);me.push({name:ae.name,type:ae.type})}b.stateMachines.push({name:x,inputs:me})}n.artboards.push(b)}return n}},enumerable:!1,configurable:!0}),a.missingErrorMessage="Rive source file or data buffer required",a}(),Ne=function(a){return re(void 0,void 0,void 0,function(){var n,o,p;return ie(this,function(b){switch(b.label){case 0:return n=new Request(a),[4,fetch(n)];case 1:return o=b.sent(),[4,o.arrayBuffer()];case 2:return p=b.sent(),[2,p]}})})},oe=function(a){return typeof a=="string"?[a]:a instanceof Array?a:[]},Me={EventManager:ge,TaskQueueManager:pe}})(),V})()})})(pn);const fn=$n(pn.exports);function zn(){if(document.getElementById("mandala-2")){const v=new fn.Rive({src:"https://wizarre.fra1.cdn.digitaloceanspaces.com/mandala.riv",canvas:document.getElementById("mandala-1"),autoplay:!0,animations:"mandala-rotate"}),m=new fn.Rive({src:"https://wizarre.fra1.cdn.digitaloceanspaces.com/mandala.riv",canvas:document.getElementById("mandala-2"),autoplay:!0,animations:"mandala-rotate"});v.on("load",()=>{v.pause(["mandala-rotate"]),v.scrub(["mandala-rotate"],0)}),m.on("load",()=>{m.pause(["mandala-rotate"]),m.scrub(["mandala-rotate"],0)}),document.getElementsByTagName("body")[0].onscroll=()=>{const R=document.documentElement.scrollHeight-window.innerHeight,P=1*(window.scrollY/R).toFixed(3),A=8;v.scrub("mandala-rotate",P*A),m.scrub("mandala-rotate",P*A)}}}function Gn(){const v=Zn(".wizard-source"),m=Qn();let R=0;Xt(m,v,R);const P=document.querySelector(".wizard-slider-left"),A=document.querySelector(".wizard-slider-right");P.addEventListener("click",()=>{R-=1,R<0&&(R=v.length-1),Xt(m,v,R)}),A.addEventListener("click",()=>{R+=1,R=R%v.length,Xt(m,v,R)});const V=[...document.querySelectorAll(".text-box.is--stats-card")];for(const D of V)D.addEventListener("click",()=>hn(D));const Q=document.querySelector("#emblem-card");hn(Q)}function hn(v){const m=v.classList.contains("is--active"),R=document.getElementById(v.dataset.item);m||(Lt(".wizard-overlay"),Lt(".text-box.is--stats-card"),v.classList.add("is--active"),R.classList.add("is--active"))}function Lt(v){const m=document.querySelectorAll(`${v}.is--active`);m&&[...m].map(R=>R.classList.remove("is--active"))}function Xt(v,m,R){Lt(".text-box.is--stats-card"),Lt(".wizard-overlay");const P=m[R];v.images.replaceChildren(...P.images),Rt(v.item.emblem,P.item.emblem),Rt(v.item.hat,P.item.hat),Rt(v.item.robe,P.item.robe),Rt(v.item.staff,P.item.staff),xt(v.spell.teamBuff,P.spell.teamBuff),xt(v.spell.offensiveSpell,P.spell.offensiveSpell),xt(v.spell.ultimateSpell,P.spell.ultimateSpell),xt(v.spell.defensiveSpell,P.spell.defensiveSpell)}function Rt(v,m){v.icon.replaceChildren(m.icon),v.element.replaceChildren(m.element)}function xt(v,m){v.icon.replaceChildren(m.icon),v.name.replaceChildren(m.name),v.desc.replaceChildren(m.desc)}function Zn(v){return[...document.querySelectorAll(v)].map(P=>({images:[...P.content.querySelectorAll(".wizard-img,.wizard-overlay")],item:{emblem:{icon:P.content.querySelector(".stats-emblem > .stats-icon"),element:P.content.querySelector(".stats-emblem > .stats-element")},hat:{icon:P.content.querySelector(".stats-hat > .stats-icon"),element:P.content.querySelector(".stats-hat > .stats-element")},robe:{icon:P.content.querySelector(".stats-robe > .stats-icon"),element:P.content.querySelector(".stats-robe > .stats-element")},staff:{icon:P.content.querySelector(".stats-staff > .stats-icon"),element:P.content.querySelector(".stats-staff > .stats-element")}},spell:{teamBuff:{icon:P.content.querySelector(".team-buff > .spell-icon"),name:P.content.querySelector(".team-buff > .spell-name"),desc:P.content.querySelector(".team-buff > .spell-desc")},offensiveSpell:{icon:P.content.querySelector(".offensive-spell > .spell-icon"),name:P.content.querySelector(".offensive-spell > .spell-name"),desc:P.content.querySelector(".offensive-spell > .spell-desc")},defensiveSpell:{icon:P.content.querySelector(".defensive-spell > .spell-icon"),name:P.content.querySelector(".defensive-spell > .spell-name"),desc:P.content.querySelector(".defensive-spell > .spell-desc")},ultimateSpell:{icon:P.content.querySelector(".ultimate-spell > .spell-icon"),name:P.content.querySelector(".ultimate-spell > .spell-name"),desc:P.content.querySelector(".ultimate-spell > .spell-desc")}}}))}function Qn(){const v=document.querySelector(".wizard-slider"),m=document.querySelector(".stats-section");return{images:v,item:{emblem:{icon:m.querySelector("#emblem-card .stats-column.item .stats-image"),element:m.querySelector("#emblem-card .stats-column.item .stats-data")},hat:{icon:m.querySelector("#hat-card .stats-column.item .stats-image"),element:m.querySelector("#hat-card .stats-column.item .stats-data")},robe:{icon:m.querySelector("#robe-card .stats-column.item .stats-image"),element:m.querySelector("#robe-card .stats-column.item .stats-data")},staff:{icon:m.querySelector("#staff-card .stats-column.item .stats-image"),element:m.querySelector("#staff-card .stats-column.item .stats-data")}},spell:{teamBuff:{icon:m.querySelector("#emblem-card .stats-column.spell .stats-image"),name:m.querySelector("#emblem-card .stats-column.spell .stats-data"),desc:m.querySelector("#emblem-card .stats-column.spell .stats-description")},offensiveSpell:{icon:m.querySelector("#hat-card .stats-column.spell .stats-image"),name:m.querySelector("#hat-card .stats-column.spell .stats-data"),desc:m.querySelector("#hat-card .stats-column.spell .stats-description")},ultimateSpell:{icon:m.querySelector("#robe-card .stats-column.spell .stats-image"),name:m.querySelector("#robe-card .stats-column.spell .stats-data"),desc:m.querySelector("#robe-card .stats-column.spell .stats-description")},defensiveSpell:{icon:m.querySelector("#staff-card .stats-column.spell .stats-image"),name:m.querySelector("#staff-card .stats-column.spell .stats-data"),desc:m.querySelector("#staff-card .stats-column.spell .stats-description")}}}}window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{qn(),Vn(),Yn(),Nn(),Xn(),zn(),Gn()});
