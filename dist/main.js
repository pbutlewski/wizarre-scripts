function qn(l,v=document){return typeof l=="string"?Array.from(v.querySelectorAll(l)):l instanceof Element?[l]:l instanceof NodeList?Array.from(l):l instanceof Array?l:[]}function hn(l){return`scrollama__debug-offset--${l}`}function Wn({id:l,offsetVal:v,stepClass:O}){const E=document.createElement("div");E.id=hn(l),E.className="scrollama__debug-offset",E.style.position="fixed",E.style.left="0",E.style.width="100%",E.style.height="0",E.style.borderTop="2px dashed black",E.style.zIndex="9999";const P=document.createElement("p");P.innerHTML=`".${O}" trigger: <span>${v}</span>`,P.style.fontSize="12px",P.style.fontFamily="monospace",P.style.color="black",P.style.margin="0",P.style.padding="6px",E.appendChild(P),document.body.appendChild(E)}function Bn({id:l,offsetVal:v,stepEl:O}){const E=O[0].className;Wn({id:l,offsetVal:v,stepClass:E})}function kn({id:l,offsetMargin:v,offsetVal:O,format:E}){const P=E==="pixels"?"px":"",V=hn(l),K=document.getElementById(V);K.style.top=`${v}px`,K.querySelector("span").innerText=`${O}${P}`}function ln({id:l,index:v,state:O}){const E=`scrollama__debug-step--${l}-${v}`,P=document.getElementById(`${E}_above`),V=document.getElementById(`${E}_below`),K=O==="enter"?"block":"none";P&&(P.style.display=K),V&&(V.style.display=K)}function Lt(){const l=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"];let v={},O={},E=null,P=[],V=[],K=[],D=[],z=0,re=0,ie=0,he=0,F=0,h=0,Ee=!1,Re=!1,be=!1,Pe=!1,de=!1,Ue=!1,U="down",we="percent";const ge=[];function pe(g){console.error(`scrollama error: ${g}`)}function Fe(){v={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},O={}}function Ne(){const g="abcdefghijklmnopqrstuv",A=g.length,_=Date.now();return`${[0,0,0].map(Z=>g[Math.floor(Math.random()*A)]).join("")}${_}`}function oe(g){const{top:A}=g.getBoundingClientRect(),_=window.pageYOffset,R=document.body.clientTop||0;return A+_-R}function Me(){const{body:g}=document,A=document.documentElement;return Math.max(g.scrollHeight,g.offsetHeight,A.clientHeight,A.scrollHeight,A.offsetHeight)}function a(g){return+g.getAttribute("data-scrollama-index")}function n(){window.pageYOffset>F?U="down":window.pageYOffset<F&&(U="up"),F=window.pageYOffset}function o(g){O[g]&&O[g].forEach(A=>A.disconnect())}function m(){ie=window.innerHeight,he=Me(),re=z*(we==="pixels"?1:ie),Ee&&(V=P.map(A=>A.getBoundingClientRect().height),K=P.map(oe),Re&&$e()),be&&kn({id:E,offsetMargin:re,offsetVal:z,format:we})}function b(g){if(g&&!Re)if(Ee)$e();else{pe("scrollama error: enable() called before scroller was ready"),Re=!1;return}!g&&Re&&l.forEach(o),Re=g}function T(g){const A=Math.ceil(g/h),_=[],R=1/A;for(let Z=0;Z<A;Z+=1)_.push(Z*R);return _}function w(g,A){const _=a(g);A!==void 0&&(D[_].progress=A);const R={element:g,index:_,progress:D[_].progress};D[_].state==="enter"&&v.stepProgress(R)}function q(g,A){if(A==="above")for(let _=0;_<g;_+=1){const R=D[_];R.state!=="enter"&&R.direction!=="down"?(X(P[_],"down",!1),x(P[_],"down")):R.state==="enter"&&x(P[_],"down")}else if(A==="below")for(let _=D.length-1;_>g;_-=1){const R=D[_];R.state==="enter"&&x(P[_],"up"),R.direction==="down"&&(X(P[_],"up",!1),x(P[_],"up"))}}function X(g,A,_=!0){const R=a(g),Z={element:g,index:R,direction:A};D[R].direction=A,D[R].state="enter",de&&_&&A==="down"&&q(R,"above"),de&&_&&A==="up"&&q(R,"below"),v.stepEnter&&!ge[R]&&(v.stepEnter(Z,D),be&&ln({id:E,index:R,state:"enter"}),Ue&&(ge[R]=!0)),Pe&&w(g)}function x(g,A){const _=a(g),R={element:g,index:_,direction:A};Pe&&(A==="down"&&D[_].progress<1?w(g,1):A==="up"&&D[_].progress>0&&w(g,0)),D[_].direction=A,D[_].state="exit",v.stepExit(R,D),be&&ln({id:E,index:_,state:"exit"})}function j([g]){n();const{isIntersecting:A,boundingClientRect:_,target:R}=g,{top:Z,bottom:le}=_,J=Z-re,I=le-re,_e=a(R),Se=D[_e];A&&J<=0&&I>=0&&U==="down"&&Se.state!=="enter"&&X(R,U),!A&&J>0&&U==="up"&&Se.state==="enter"&&x(R,U)}function me([g]){n();const{isIntersecting:A,boundingClientRect:_,target:R}=g,{top:Z,bottom:le}=_,J=Z-re,I=le-re,_e=a(R),Se=D[_e];A&&J<=0&&I>=0&&U==="up"&&Se.state!=="enter"&&X(R,U),!A&&I<0&&U==="down"&&Se.state==="enter"&&x(R,U)}function Ce([g]){n();const{isIntersecting:A,target:_}=g,R=a(_),Z=D[R];A&&U==="down"&&Z.direction!=="down"&&Z.state!=="enter"&&(X(_,"down"),x(_,"down"))}function ae([g]){n();const{isIntersecting:A,target:_}=g,R=a(_),Z=D[R];A&&U==="up"&&Z.direction==="down"&&Z.state!=="enter"&&(X(_,"up"),x(_,"up"))}function Le([g]){n();const{isIntersecting:A,intersectionRatio:_,boundingClientRect:R,target:Z}=g,{bottom:le}=R,J=le-re;A&&J>=0&&w(Z,+_)}function Ae(){O.viewportAbove=P.map((g,A)=>{const _=he-K[A],R=re-ie-V[A],le={rootMargin:`${_}px 0px ${R}px 0px`},J=new IntersectionObserver(Ce,le);return J.observe(g),J})}function He(){O.viewportBelow=P.map((g,A)=>{const _=-re-V[A],R=re-ie+V[A]+he,le={rootMargin:`${_}px 0px ${R}px 0px`},J=new IntersectionObserver(ae,le);return J.observe(g),J})}function dt(){O.stepAbove=P.map((g,A)=>{const _=-re+V[A],R=re-ie,le={rootMargin:`${_}px 0px ${R}px 0px`},J=new IntersectionObserver(j,le);return J.observe(g),J})}function It(){O.stepBelow=P.map((g,A)=>{const _=-re,R=re-ie+V[A],le={rootMargin:`${_}px 0px ${R}px 0px`},J=new IntersectionObserver(me,le);return J.observe(g),J})}function ke(){O.stepProgress=P.map((g,A)=>{const _=V[A]-re,R=-ie+re,Z=`${_}px 0px ${R}px 0px`,le=T(V[A]),J={rootMargin:Z,threshold:le},I=new IntersectionObserver(Le,J);return I.observe(g),I})}function $e(){l.forEach(o),Ae(),He(),dt(),It(),Pe&&ke()}function Ze(){P.forEach((g,A)=>g.setAttribute("data-scrollama-index",A))}function ht(){D=P.map(()=>({direction:null,state:null,progress:0}))}function xe(){be&&Bn({id:E,stepEl:P,offsetVal:z})}function pt(g){const A=window.getComputedStyle(g);return(A.overflowY==="scroll"||A.overflowY==="auto")&&g.scrollHeight>g.clientHeight}function it(g){return g&&g.nodeType===1?pt(g)?g:it(g.parentNode):!1}const se={};return se.setup=({step:g,parent:A,offset:_=.5,progress:R=!1,threshold:Z=4,debug:le=!1,order:J=!0,once:I=!1})=>{if(Fe(),E=Ne(),P=qn(g,A),!P.length)return pe("no step elements"),se;const _e=P.reduce((Se,mt)=>Se||it(mt.parentNode),!1);return _e&&console.error("scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.",_e),be=le,Pe=R,de=J,Ue=I,se.offsetTrigger(_),h=Math.max(1,+Z),Ee=!0,xe(),Ze(),ht(),m(),se.enable(),se},se.resize=()=>(m(),se),se.enable=()=>(b(!0),se),se.disable=()=>(b(!1),se),se.destroy=()=>{b(!1),Fe()},se.offsetTrigger=g=>{if(g===null)return z;if(typeof g=="number")we="percent",g>1&&pe("offset value is greater than 1. Fallback to 1."),g<0&&pe("offset value is lower than 0. Fallback to 0."),z=Math.min(Math.max(0,g),1);else if(typeof g=="string"&&g.indexOf("px")>0){const A=+g.replace("px","");isNaN(A)?(pe("offset value must be in 'px' format. Fallback to 0.5."),z=.5):(we="pixels",z=A)}else pe("offset value does not include 'px'. Fallback to 0.5."),z=.5;return se},se.onStepEnter=g=>(typeof g=="function"?v.stepEnter=g:pe("onStepEnter requires a function"),se),se.onStepExit=g=>(typeof g=="function"?v.stepExit=g:pe("onStepExit requires a function"),se),se.onStepProgress=g=>(typeof g=="function"?v.stepProgress=g:pe("onStepProgress requires a function"),se),se}function jn(){const l=Lt(),v=document.querySelector(".navigation");window.scrollY>32&&v.classList.add("is--sticky"),l.setup({step:".navbar-section",offset:0,debug:!1}).onStepEnter(()=>{[...v.classList].includes("is--sticky")&&v.classList.remove("is--sticky")}).onStepExit(O=>{O.direction==="down"&&v.classList.add("is--sticky")})}function Dn(){const l=document.querySelector(".navigation");l.classList.contains("is--mobile-active")?l.classList.remove("is--mobile-active"):l.classList.add("is--mobile-active")}function Vn(){const l=document.querySelector(".text-box.is--mobile-stats");l.classList.contains("is--active")?l.classList.remove("is--active"):l.classList.add("is--active")}function Yn(){document.querySelector(".mobile-menu-button").addEventListener("click",Dn)}function Xn(){document.querySelector(".drawer-title").addEventListener("click",Vn)}function Nn(){const l=Lt(),v=document.querySelector("#path"),O=v.getTotalLength();v.style.strokeDasharray=O,v.style.strokeDashoffset=O,l.setup({step:"#ritual",offset:.5,progress:!0,debug:!1,threshold:1}).onStepProgress(E=>{let P=O*E.progress;v.style.strokeDashoffset=O-P})}function Hn(){let l=document.querySelectorAll("template.land");l=[...l].map(V=>({name:V.content.querySelector(".name"),image:V.content.querySelector("img"),coordinates:V.content.querySelector(".coordinates"),type:V.content.querySelector(".type"),element:V.content.querySelector(".element"),rarity:V.content.querySelector(".rarity"),power:V.content.querySelector(".power")}));let v=document.querySelector(".land-slider");v={image:v.querySelector(".land-photo__image"),type:v.querySelector("#land-type"),coordinates:v.querySelector("#land-coordinates"),element:v.querySelector("#land-element"),rarity:v.querySelector("#land-rarity"),power:v.querySelector("#land-power")},Xt(0,l,v);let O=0;document.querySelector("#land-left").addEventListener("click",V=>{V.preventDefault(),O-=1,O<0&&(O=l.length-1),Xt(O,l,v)}),document.querySelector("#land-right").addEventListener("click",V=>{V.preventDefault(),O+=1,Xt(O,l,v)})}function Xt(l,v,O){const E=document.querySelector(".land-photo__shadow"),P=E.cloneNode(!0);E.parentNode.replaceChild(P,E),l=l%v.length,O.image.replaceChildren(v[l].image),O.type.replaceChildren(v[l].type),O.coordinates.replaceChildren(v[l].coordinates),O.element.replaceChildren(v[l].element),O.rarity.replaceChildren(v[l].rarity),O.power.replaceChildren(v[l].power)}function $n(){const l=Lt(),v=Lt();let O=document.querySelectorAll(".text-box.is--summoning-box");console.log(O);let E=document.querySelectorAll(".ritual-image");O=[...O].map(P=>{P.classList.contains("is--active")&&P.classList.remove("is--active")}),console.log(O),E=[...E].map(P=>{P.classList.contains("is--active")&&P.classList.remove("is--active")}),l.setup({step:".ritual-step",offset:.5,progress:!1,debug:!1,threshold:2}).onStepEnter(P=>{P.direction==="down"&&(document.querySelectorAll(".text-box.is--summoning-box").forEach(V=>V.classList.add("is--active")),document.querySelectorAll(".ritual-image").forEach(V=>V.classList.add("is--active")))}),v.setup({step:"#ritual",offset:.5,progress:!1,debug:!1,threshold:2}).onStepExit(P=>{P.direction==="up"&&(document.querySelectorAll(".text-box.is--summoning-box").forEach(V=>V.classList.remove("is--active")),document.querySelectorAll(".ritual-image").forEach(V=>V.classList.remove("is--active")))})}var zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gn(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var pn={exports:{}};(function(l,v){(function(E,P){l.exports=P()})(zn,function(){return(()=>{var O=[,(K,D,z)=>{z.r(D),z.d(D,{default:()=>ie});var re=(()=>{var he=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(F){F=F||{};var h;h||(h=typeof F<"u"?F:{});var Ee,Re;h.ready=new Promise(function(t,e){Ee=t,Re=e});function be(){function t(f){const c=i;r=e=0,i=new Map,c.forEach(p=>{try{p(f)}catch(d){console.error(d)}}),this.La(),s&&s.fb()}let e=0,r=0,i=new Map,s=null,u=null;this.requestAnimationFrame=function(f){e||(e=requestAnimationFrame(t.bind(this)));const c=++r;return i.set(c,f),c},this.cancelAnimationFrame=function(f){i.delete(f),e&&i.size==0&&(cancelAnimationFrame(e),e=0)},this.cb=function(f){u&&(document.body.remove(u),u=null),f||(u=document.createElement("div"),u.style.backgroundColor="black",u.style.position="fixed",u.style.right=0,u.style.top=0,u.style.color="white",u.style.padding="4px",u.innerHTML="RIVE FPS",f=function(c){u.innerHTML="RIVE FPS "+c.toFixed(1)},document.body.appendChild(u)),s=new function(){let c=0,p=0;this.fb=function(){var d=performance.now();p?(++c,d-=p,1e3<d&&(f(1e3*c/d),c=p=0)):(p=d,c=0)}}},this.$a=function(){u&&(document.body.remove(u),u=null),s=null},this.La=function(){}}function Pe(t){console.assert(!0);const e=new Map;let r=-1/0;this.push=function(i){return i=i+((1<<t)-1)>>t,e.has(i)&&clearTimeout(e.get(i)),e.set(i,setTimeout(function(){e.delete(i),e.length==0?r=-1/0:i==r&&(r=Math.max(...e.keys()),console.assert(r<i))},1e3)),r=Math.max(i,r),r<<t}}const de=new function(){function t(){if(!e){let ue=function(Y,N,ne){if(N=L.createShader(N),L.shaderSource(N,ne),L.compileShader(N),ne=L.getShaderInfoLog(N),0<ne.length)throw ne;L.attachShader(Y,N)};var W=ue,M=document.createElement("canvas"),k={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let L=M.getContext("webgl2",k);if(L)r=2;else if(L=M.getContext("webgl",k))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(i=Math.min(L.getParameter(L.MAX_RENDERBUFFER_SIZE),L.getParameter(L.MAX_TEXTURE_SIZE)),M=L.createProgram(),ue(M,L.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),ue(M,L.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),L.bindAttribLocation(M,0,"vertex"),L.bindAttribLocation(M,1,"uv"),L.linkProgram(M),k=L.getProgramInfoLog(M),0<k.length)throw k;s=L.getUniformLocation(M,"mat"),u=L.getUniformLocation(M,"translate"),L.useProgram(M),L.bindBuffer(L.ARRAY_BUFFER,L.createBuffer()),L.enableVertexAttribArray(0),L.enableVertexAttribArray(1),L.bindBuffer(L.ELEMENT_ARRAY_BUFFER,L.createBuffer()),L.uniform1i(L.getUniformLocation(M,"image"),0),L.pixelStorei(L.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=L}return!0}let e=null,r=0,i=0,s=null,u=null,f=0,c=0;this.ob=function(){return t(),i},this.Ya=function(M){if(!t())return null;const k=e.createTexture();return e.bindTexture(e.TEXTURE_2D,k),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,M),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),r==2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),k};const p=new Pe(8),d=new Pe(8),S=new Pe(10),C=new Pe(10);this.bb=function(M,k,W,L,ue){if(t()){var Y=p.push(M),N=d.push(k);(e.canvas.width!=Y||e.canvas.height!=N)&&(e.canvas.width=Y,e.canvas.height=N),e.viewport(0,N-k,M,k),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),W.sort((H,Ge)=>Ge.Oa-H.Oa),Y=S.push(L),f!=Y&&(e.bufferData(e.ARRAY_BUFFER,8*Y,e.DYNAMIC_DRAW),f=Y),Y=0;for(var ne of W)e.bufferSubData(e.ARRAY_BUFFER,Y,ne.Aa),Y+=4*ne.Aa.length;console.assert(Y==4*L);for(var Ie of W)e.bufferSubData(e.ARRAY_BUFFER,Y,Ie.Ra),Y+=4*Ie.Ra.length;console.assert(Y==8*L),Y=C.push(ue),c!=Y&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*Y,e.DYNAMIC_DRAW),c=Y),ne=0;for(var Xe of W)e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,ne,Xe.indices),ne+=2*Xe.indices.length;console.assert(ne==2*ue),Xe=0,Ie=!0,Y=ne=0;for(const H of W){H.image.va!=Xe&&(e.bindTexture(e.TEXTURE_2D,H.image.Va||null),Xe=H.image.va),H.rb?(e.scissor(H.Ea,N-H.Fa-H.Ka,H.yb,H.Ka),Ie=!0):Ie&&(e.scissor(0,N-k,M,k),Ie=!1),W=2/M;const Ge=-2/k;e.uniform4f(s,H.la[0]*W*H.ra,H.la[1]*Ge*H.sa,H.la[2]*W*H.ra,H.la[3]*Ge*H.sa),e.uniform2f(u,H.la[4]*W*H.ra+W*(H.Ea-H.pb*H.ra)-1,H.la[5]*Ge*H.sa+Ge*(H.Fa-H.qb*H.sa)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,Y),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,Y+4*L),e.drawElements(e.TRIANGLES,H.indices.length,e.UNSIGNED_SHORT,ne),Y+=4*H.Aa.length,ne+=2*H.indices.length}console.assert(Y==4*L),console.assert(ne==2*ue)}},this.canvas=function(){return t()&&e.canvas}};F.onRuntimeInitialized=function(){function t(y){switch(y){case d.srcOver:return"source-over";case d.screen:return"screen";case d.overlay:return"overlay";case d.darken:return"darken";case d.lighten:return"lighten";case d.colorDodge:return"color-dodge";case d.colorBurn:return"color-burn";case d.hardLight:return"hard-light";case d.softLight:return"soft-light";case d.difference:return"difference";case d.exclusion:return"exclusion";case d.multiply:return"multiply";case d.hue:return"hue";case d.saturation:return"saturation";case d.color:return"color";case d.luminosity:return"luminosity"}}function e(y){return"rgba("+((16711680&y)>>>16)+","+((65280&y)>>>8)+","+((255&y)>>>0)+","+((4278190080&y)>>>24)/255+")"}function r(){0<ne.length&&(de.bb(N.drawWidth(),N.drawHeight(),ne,Ie,Xe),ne=[],Xe=Ie=0,N.reset(512,512));for(const y of Y){for(const B of y.da)B();y.da=[]}Y.clear()}var i=F.RenderPaintStyle;const s=F.RenderPath,u=F.RenderPaint,f=F.Renderer,c=F.StrokeCap,p=F.StrokeJoin,d=F.BlendMode,S=i.fill,C=i.stroke,M=F.FillRule.evenOdd;let k=1;var W=F.RenderImage.extend("CanvasRenderImage",{__construct:function(){this.__parent.__construct.call(this),this.va=k,k=k+1&2147483647||1},decode:function(y){let B=Yt;B.total++;var te=this,G=new Image;G.src=URL.createObjectURL(new Blob([y],{type:"image/png"})),G.onload=function(){if(te.Ta=G,te.Va=de.Ya(G),te.size(G.width,G.height),B.loaded++,B.loaded===B.total){const ee=B.ready;ee&&(ee(),B.ready=null)}}}}),L=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.ga=new Path2D},reset:function(){this.ga=new Path2D},addPath:function(y,B,te,G,ee,ce,$){var Q=this.ga,qe=Q.addPath;y=y.ga;const ve=new DOMMatrix;ve.a=B,ve.b=te,ve.c=G,ve.d=ee,ve.e=ce,ve.f=$,qe.call(Q,y,ve)},fillRule:function(y){this.Ca=y},moveTo:function(y,B){this.ga.moveTo(y,B)},lineTo:function(y,B){this.ga.lineTo(y,B)},cubicTo:function(y,B,te,G,ee,ce){this.ga.bezierCurveTo(y,B,te,G,ee,ce)},close:function(){this.ga.closePath()}}),ue=u.extend("CanvasRenderPaint",{color:function(y){this.Da=e(y)},thickness:function(y){this.Wa=y},join:function(y){switch(y){case p.miter:this.ua="miter";break;case p.round:this.ua="round";break;case p.bevel:this.ua="bevel"}},cap:function(y){switch(y){case c.butt:this.ta="butt";break;case c.round:this.ta="round";break;case c.square:this.ta="square"}},style:function(y){this.Ua=y},blendMode:function(y){this.Sa=t(y)},linearGradient:function(y,B,te,G){this.oa={Pa:y,Qa:B,Ha:te,Ia:G,za:[]}},radialGradient:function(y,B,te,G){this.oa={Pa:y,Qa:B,Ha:te,Ia:G,za:[],mb:!0}},addStop:function(y,B){this.oa.za.push({color:y,stop:B})},completeGradient:function(){},draw:function(y,B,te){let G=this.Ua;var ee=this.Da,ce=this.oa;if(y.globalCompositeOperation=this.Sa,ce!=null){ee=ce.Pa;var $=ce.Qa;const qe=ce.Ha;var Q=ce.Ia;const ve=ce.za;ce.mb?(ce=qe-ee,Q-=$,ee=y.createRadialGradient(ee,$,0,ee,$,Math.sqrt(ce*ce+Q*Q))):ee=y.createLinearGradient(ee,$,qe,Q);for(let Be=0,ye=ve.length;Be<ye;Be++)$=ve[Be],ee.addColorStop($.stop,e($.color));this.Da=ee,this.oa=null}switch(G){case C:y.strokeStyle=ee,y.lineWidth=this.Wa,y.lineCap=this.ta,y.lineJoin=this.ua,y.stroke(B);break;case S:y.fillStyle=ee,y.fill(B,te)}}});const Y=new Set;let N=null,ne=[],Ie=0,Xe=0;var H=F.CanvasRenderer=f.extend("Renderer",{__construct:function(y){this.__parent.__construct.call(this),this.fa=[1,0,0,1,0,0],this.Z=y.getContext("2d"),this.Ba=y,this.da=[]},save:function(){this.fa.push(...this.fa.slice(this.fa.length-6)),this.da.push(this.Z.save.bind(this.Z))},restore:function(){const y=this.fa.length-6;if(6>y)throw"restore() called without matching save().";this.fa.splice(y),this.da.push(this.Z.restore.bind(this.Z))},transform:function(y,B,te,G,ee,ce){const $=this.fa,Q=$.length-6;$.splice(Q,6,$[Q]*y+$[Q+2]*B,$[Q+1]*y+$[Q+3]*B,$[Q]*te+$[Q+2]*G,$[Q+1]*te+$[Q+3]*G,$[Q]*ee+$[Q+2]*ce+$[Q+4],$[Q+1]*ee+$[Q+3]*ce+$[Q+5]),this.da.push(this.Z.transform.bind(this.Z,y,B,te,G,ee,ce))},rotate:function(y){const B=Math.sin(y);y=Math.cos(y),this.transform(y,B,-B,y,0,0)},_drawPath:function(y,B){this.da.push(B.draw.bind(B,this.Z,y.ga,y.Ca===M?"evenodd":"nonzero"))},_drawImage:function(y,B,te){var G=y.Ta;if(G){var ee=this.Z,ce=t(B);this.da.push(function(){ee.globalCompositeOperation=ce,ee.globalAlpha=te,ee.drawImage(G,0,0),ee.globalAlpha=1})}},_getMatrix:function(y){const B=this.fa,te=B.length-6;for(let G=0;6>G;++G)y[G]=B[te+G]},_drawImageMesh:function(y,B,te,G,ee,ce,$,Q,qe,ve){var Be=this.Z.canvas.width,ye=this.Z.canvas.height;const an=qe-$,sn=ve-Q;$=Math.max($,0),Q=Math.max(Q,0),qe=Math.min(qe,Be),ve=Math.min(ve,ye);const lt=qe-$,ft=ve-Q;if(console.assert(lt<=Math.min(an,Be)),console.assert(ft<=Math.min(sn,ye)),!(0>=lt||0>=ft)){qe=lt<an||ft<sn,Be=ve=1;var Ke=Math.ceil(lt*ve),Je=Math.ceil(ft*Be);ye=de.ob(),Ke>ye&&(ve*=ye/Ke,Ke=ye),Je>ye&&(Be*=ye/Je,Je=ye),N||(N=new h.DynamicRectanizer(ye),N.reset(512,512)),ye=N.addRect(Ke,Je),0>ye&&(r(),Y.add(this),ye=N.addRect(Ke,Je),console.assert(0<=ye));var un=ye&65535,cn=ye>>16;ne.push({la:this.fa.slice(this.fa.length-6),image:y,Ea:un,Fa:cn,pb:$,qb:Q,yb:Ke,Ka:Je,ra:ve,sa:Be,Aa:new Float32Array(G),Ra:new Float32Array(ee),indices:new Uint16Array(ce),rb:qe,Oa:y.va<<1|(qe?1:0)}),Ie+=G.length,Xe+=ce.length;var nt=this.Z,Fn=t(B);this.da.push(function(){nt.save(),nt.resetTransform(),nt.globalCompositeOperation=Fn,nt.globalAlpha=te,nt.drawImage(de.canvas(),un,cn,Ke,Je,$,Q,lt,ft),nt.restore()})}},_clipPath:function(y){this.da.push(this.Z.clip.bind(this.Z,y.ga,y.Ca===M?"evenodd":"nonzero"))},clear:function(){Y.add(this),this.da.push(this.Z.clearRect.bind(this.Z,0,0,this.Ba.width,this.Ba.height))},flush:function(){},translate:function(y,B){this.transform(1,0,0,1,y,B)}});F.makeRenderer=function(y){return new H(y)},F.renderFactory={makeRenderPaint:function(){return new ue},makeRenderPath:function(){return new L},makeRenderImage:function(){return new W}};let Ge=F.load,Yt=null;F.load=function(y){return new Promise(function(B){let te=null;Yt={total:0,loaded:0,ready:function(){B(te)}},te=Ge(y),Yt.total==0&&B(te)})},i=new be,F.requestAnimationFrame=i.requestAnimationFrame.bind(i),F.cancelAnimationFrame=i.cancelAnimationFrame.bind(i),F.enableFPSCounter=i.cb.bind(i),F.disableFPSCounter=i.$a,i.La=r,F.cleanup=function(){N&&N.delete()}};var Ue=Object.assign({},h),U=typeof window=="object",we=typeof importScripts=="function",ge="",pe,Fe;(U||we)&&(we?ge=self.location.href:typeof document<"u"&&document.currentScript&&(ge=document.currentScript.src),he&&(ge=he),ge.indexOf("blob:")!==0?ge=ge.substr(0,ge.replace(/[?#].*/,"").lastIndexOf("/")+1):ge="",we&&(Fe=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),pe=(t,e,r)=>{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?e(i.response):r()},i.onerror=r,i.send(null)});var Ne=h.print||console.log.bind(console),oe=h.printErr||console.warn.bind(console);Object.assign(h,Ue),Ue=null;var Me;h.wasmBinary&&(Me=h.wasmBinary),h.noExitRuntime,typeof WebAssembly!="object"&&Ze("no native wasm support detected");var a,n=!1,o=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function m(t,e,r){var i=e+r;for(r=e;t[r]&&!(r>=i);)++r;if(16<r-e&&t.buffer&&o)return o.decode(t.subarray(e,r));for(i="";e<r;){var s=t[e++];if(s&128){var u=t[e++]&63;if((s&224)==192)i+=String.fromCharCode((s&31)<<6|u);else{var f=t[e++]&63;s=(s&240)==224?(s&15)<<12|u<<6|f:(s&7)<<18|u<<12|f<<6|t[e++]&63,65536>s?i+=String.fromCharCode(s):(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else i+=String.fromCharCode(s)}return i}var b,T,w,q,X,x,j,me,Ce;function ae(){var t=a.buffer;b=t,h.HEAP8=T=new Int8Array(t),h.HEAP16=q=new Int16Array(t),h.HEAP32=x=new Int32Array(t),h.HEAPU8=w=new Uint8Array(t),h.HEAPU16=X=new Uint16Array(t),h.HEAPU32=j=new Uint32Array(t),h.HEAPF32=me=new Float32Array(t),h.HEAPF64=Ce=new Float64Array(t)}var Le,Ae=[],He=[],dt=[];function It(){var t=h.preRun.shift();Ae.unshift(t)}var ke=0,$e=null;function Ze(t){throw h.onAbort&&h.onAbort(t),t="Aborted("+t+")",oe(t),n=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),Re(t),t}function ht(){return xe.startsWith("data:application/octet-stream;base64,")}var xe;if(xe="canvas_advanced.wasm",!ht()){var pt=xe;xe=h.locateFile?h.locateFile(pt,ge):ge+pt}function it(){var t=xe;try{if(t==xe&&Me)return new Uint8Array(Me);if(Fe)return Fe(t);throw"both async and sync fetching of the wasm failed"}catch(e){Ze(e)}}function se(){if(!Me&&(U||we)){if(typeof fetch=="function"&&!xe.startsWith("file://"))return fetch(xe,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+xe+"'";return t.arrayBuffer()}).catch(function(){return it()});if(pe)return new Promise(function(t,e){pe(xe,function(r){t(new Uint8Array(r))},e)})}return Promise.resolve().then(function(){return it()})}function g(t){for(;0<t.length;)t.shift()(h)}function A(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?"_"+t:t}function _(t,e){return t=A(t),function(){return e.apply(this,arguments)}}var R=[{},{value:void 0},{value:null},{value:!0},{value:!1}],Z=[];function le(t){var e=Error,r=_(t,function(i){this.name=t,this.message=i,i=Error(i).stack,i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},r}var J=void 0;function I(t){throw new J(t)}var _e=t=>(t||I("Cannot use deleted val. handle = "+t),R[t].value),Se=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=Z.length?Z.pop():R.length;return R[e]={ya:1,value:t},e}},mt=void 0,Nt=void 0;function fe(t){for(var e="";w[t];)e+=Nt[w[t++]];return e}var ot=[];function Ut(){for(;ot.length;){var t=ot.pop();t.U.ka=!1,t.delete()}}var at=void 0,je={};function Ft(t,e){for(e===void 0&&I("ptr should not be undefined");t.$;)e=t.na(e),t=t.$;return e}var Qe={};function Ht(t){t=rn(t);var e=fe(t);return Ye(t),e}function st(t,e){var r=Qe[t];return r===void 0&&I(e+" has unknown type "+Ht(t)),r}function vt(){}var qt=!1;function $t(t){--t.count.value,t.count.value===0&&(t.aa?t.ca.ha(t.aa):t.X.V.ha(t.W))}function zt(t,e,r){return e===r?t:r.$===void 0?null:(t=zt(t,e,r.$),t===null?null:r.ab(t))}var Gt={};function mn(t,e){return e=Ft(t,e),je[e]}var Zt=void 0;function gt(t){throw new Zt(t)}function yt(t,e){return e.X&&e.W||gt("makeClassHandle requires ptr and ptrType"),!!e.ca!=!!e.aa&&gt("Both smartPtrType and smartPtr must be specified"),e.count={value:1},et(Object.create(t,{U:{value:e}}))}function et(t){return typeof FinalizationRegistry>"u"?(et=e=>e,t):(qt=new FinalizationRegistry(e=>{$t(e.U)}),et=e=>{var r=e.U;return r.aa&&qt.register(e,{U:r},e),e},vt=e=>{qt.unregister(e)},et(t))}var bt={};function ut(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function ct(t){return this.fromWireType(x[t>>2])}var tt={},wt={};function Oe(t,e,r){function i(c){c=r(c),c.length!==t.length&&gt("Mismatched type converter count");for(var p=0;p<t.length;++p)We(t[p],c[p])}t.forEach(function(c){wt[c]=e});var s=Array(e.length),u=[],f=0;e.forEach((c,p)=>{Qe.hasOwnProperty(c)?s[p]=Qe[c]:(u.push(c),tt.hasOwnProperty(c)||(tt[c]=[]),tt[c].push(()=>{s[p]=Qe[c],++f,f===u.length&&i(s)}))}),u.length===0&&i(s)}function St(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}function We(t,e,r={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var i=e.name;if(t||I('type "'+i+'" must have a positive integer typeid pointer'),Qe.hasOwnProperty(t)){if(r.lb)return;I("Cannot register type '"+i+"' twice")}Qe[t]=e,delete wt[t],tt.hasOwnProperty(t)&&(e=tt[t],delete tt[t],e.forEach(s=>s()))}function Wt(t){I(t.U.X.V.name+" instance already deleted")}function ze(){}function Bt(t,e,r){if(t[e].Y===void 0){var i=t[e];t[e]=function(){return t[e].Y.hasOwnProperty(arguments.length)||I("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].Y+")!"),t[e].Y[arguments.length].apply(this,arguments)},t[e].Y=[],t[e].Y[i.ja]=i}}function kt(t,e,r){h.hasOwnProperty(t)?((r===void 0||h[t].Y!==void 0&&h[t].Y[r]!==void 0)&&I("Cannot register public name '"+t+"' twice"),Bt(h,t,t),h.hasOwnProperty(r)&&I("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),h[t].Y[r]=e):(h[t]=e,r!==void 0&&(h[t].zb=r))}function vn(t,e,r,i,s,u,f,c){this.name=t,this.constructor=e,this.ea=r,this.ha=i,this.$=s,this.gb=u,this.na=f,this.ab=c,this.Ma=[]}function Tt(t,e,r){for(;e!==r;)e.na||I("Expected null or instance of "+r.name+", got an instance of "+e.name),t=e.na(t),e=e.$;return t}function gn(t,e){return e===null?(this.wa&&I("null is not a valid "+this.name),0):(e.U||I('Cannot pass "'+Dt(e)+'" as a '+this.name),e.U.W||I("Cannot pass deleted object as a pointer of type "+this.name),Tt(e.U.W,e.U.X.V,this.V))}function yn(t,e){if(e===null){if(this.wa&&I("null is not a valid "+this.name),this.qa){var r=this.xa();return t!==null&&t.push(this.ha,r),r}return 0}if(e.U||I('Cannot pass "'+Dt(e)+'" as a '+this.name),e.U.W||I("Cannot pass deleted object as a pointer of type "+this.name),!this.pa&&e.U.X.pa&&I("Cannot convert argument of type "+(e.U.ca?e.U.ca.name:e.U.X.name)+" to parameter type "+this.name),r=Tt(e.U.W,e.U.X.V,this.V),this.qa)switch(e.U.aa===void 0&&I("Passing raw pointer to smart pointer is illegal"),this.xb){case 0:e.U.ca===this?r=e.U.aa:I("Cannot convert argument of type "+(e.U.ca?e.U.ca.name:e.U.X.name)+" to parameter type "+this.name);break;case 1:r=e.U.aa;break;case 2:if(e.U.ca===this)r=e.U.aa;else{var i=e.clone();r=this.tb(r,Se(function(){i.delete()})),t!==null&&t.push(this.ha,r)}break;default:I("Unsupporting sharing policy")}return r}function bn(t,e){return e===null?(this.wa&&I("null is not a valid "+this.name),0):(e.U||I('Cannot pass "'+Dt(e)+'" as a '+this.name),e.U.W||I("Cannot pass deleted object as a pointer of type "+this.name),e.U.X.pa&&I("Cannot convert argument of type "+e.U.X.name+" to parameter type "+this.name),Tt(e.U.W,e.U.X.V,this.V))}function De(t,e,r,i){this.name=t,this.V=e,this.wa=r,this.pa=i,this.qa=!1,this.ha=this.tb=this.xa=this.Na=this.xb=this.sb=void 0,e.$!==void 0?this.toWireType=yn:(this.toWireType=i?gn:bn,this.ba=null)}function Qt(t,e,r){h.hasOwnProperty(t)||gt("Replacing nonexistant public symbol"),h[t].Y!==void 0&&r!==void 0?h[t].Y[r]=e:(h[t]=e,h[t].ja=r)}function wn(t,e){var r=[];return function(){if(r.length=0,Object.assign(r,arguments),t.includes("j")){var i=h["dynCall_"+t];i=r&&r.length?i.apply(null,[e].concat(r)):i.call(null,e)}else i=Le.get(e).apply(null,r);return i}}function Te(t,e){t=fe(t);var r=t.includes("j")?wn(t,e):Le.get(e);return typeof r!="function"&&I("unknown function pointer with signature "+t+": "+e),r}var Kt=void 0;function Ve(t,e){function r(u){s[u]||Qe[u]||(wt[u]?wt[u].forEach(r):(i.push(u),s[u]=!0))}var i=[],s={};throw e.forEach(r),new Kt(t+": "+i.map(Ht).join([", "]))}function Et(t,e,r,i,s){var u=e.length;2>u&&I("argTypes array size mismatch! Must at least get return value and 'this' types!");var f=e[1]!==null&&r!==null,c=!1;for(r=1;r<e.length;++r)if(e[r]!==null&&e[r].ba===void 0){c=!0;break}var p=e[0].name!=="void",d=u-2,S=Array(d),C=[],M=[];return function(){if(arguments.length!==d&&I("function "+t+" called with "+arguments.length+" arguments, expected "+d+" args!"),M.length=0,C.length=f?2:1,C[0]=s,f){var k=e[1].toWireType(M,this);C[1]=k}for(var W=0;W<d;++W)S[W]=e[W+2].toWireType(M,arguments[W]),C.push(S[W]);if(W=i.apply(null,C),c)ut(M);else for(var L=f?1:2;L<e.length;L++){var ue=L===1?k:S[L-2];e[L].ba!==null&&e[L].ba(ue)}return k=p?e[0].fromWireType(W):void 0,k}}function Pt(t,e){for(var r=[],i=0;i<t;i++)r.push(j[e+4*i>>2]);return r}function Jt(t,e,r){return t instanceof Object||I(r+' with invalid "this": '+t),t instanceof e.V.constructor||I(r+' incompatible with "this" of type '+t.constructor.name),t.U.W||I("cannot call emscripten binding method "+r+" on deleted object"),Tt(t.U.W,t.U.X.V,e.V)}function jt(t){4<t&&--R[t].ya===0&&(R[t]=void 0,Z.push(t))}function Sn(t,e,r){switch(e){case 0:return function(i){return this.fromWireType((r?T:w)[i])};case 1:return function(i){return this.fromWireType((r?q:X)[i>>1])};case 2:return function(i){return this.fromWireType((r?x:j)[i>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function Dt(t){if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t}function Tn(t,e){switch(e){case 2:return function(r){return this.fromWireType(me[r>>2])};case 3:return function(r){return this.fromWireType(Ce[r>>3])};default:throw new TypeError("Unknown float type: "+t)}}function En(t,e,r){switch(e){case 0:return r?function(i){return T[i]}:function(i){return w[i]};case 1:return r?function(i){return q[i>>1]}:function(i){return X[i>>1]};case 2:return r?function(i){return x[i>>2]}:function(i){return j[i>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var en=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Pn(t,e){for(var r=t>>1,i=r+e/2;!(r>=i)&&X[r];)++r;if(r<<=1,32<r-t&&en)return en.decode(w.subarray(t,r));for(r="",i=0;!(i>=e/2);++i){var s=q[t+2*i>>1];if(s==0)break;r+=String.fromCharCode(s)}return r}function An(t,e,r){if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var i=e;r=r<2*t.length?r/2:t.length;for(var s=0;s<r;++s)q[e>>1]=t.charCodeAt(s),e+=2;return q[e>>1]=0,e-i}function _n(t){return 2*t.length}function Cn(t,e){for(var r=0,i="";!(r>=e/4);){var s=x[t+4*r>>2];if(s==0)break;++r,65536<=s?(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023)):i+=String.fromCharCode(s)}return i}function xn(t,e,r){if(r===void 0&&(r=2147483647),4>r)return 0;var i=e;r=i+r-4;for(var s=0;s<t.length;++s){var u=t.charCodeAt(s);if(55296<=u&&57343>=u){var f=t.charCodeAt(++s);u=65536+((u&1023)<<10)|f&1023}if(x[e>>2]=u,e+=4,e+4>r)break}return x[e>>2]=0,e-i}function Rn(t){for(var e=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);55296<=i&&57343>=i&&++r,e+=4}return e}var Mn={};function At(t){var e=Mn[t];return e===void 0?fe(t):e}var _t=[];function Ln(t){var e=_t.length;return _t.push(t),e}function On(t,e){for(var r=Array(t),i=0;i<t;++i)r[i]=st(j[e+4*i>>2],"parameter "+i);return r}var tn=[],In=[null,[],[]];J=h.BindingError=le("BindingError"),h.count_emval_handles=function(){for(var t=0,e=5;e<R.length;++e)R[e]!==void 0&&++t;return t},h.get_first_emval=function(){for(var t=5;t<R.length;++t)if(R[t]!==void 0)return R[t];return null},mt=h.PureVirtualError=le("PureVirtualError");for(var nn=Array(256),Ct=0;256>Ct;++Ct)nn[Ct]=String.fromCharCode(Ct);Nt=nn,h.getInheritedInstanceCount=function(){return Object.keys(je).length},h.getLiveInheritedInstances=function(){var t=[],e;for(e in je)je.hasOwnProperty(e)&&t.push(je[e]);return t},h.flushPendingDeletes=Ut,h.setDelayFunction=function(t){at=t,ot.length&&at&&at(Ut)},Zt=h.InternalError=le("InternalError"),ze.prototype.isAliasOf=function(t){if(!(this instanceof ze&&t instanceof ze))return!1;var e=this.U.X.V,r=this.U.W,i=t.U.X.V;for(t=t.U.W;e.$;)r=e.na(r),e=e.$;for(;i.$;)t=i.na(t),i=i.$;return e===i&&r===t},ze.prototype.clone=function(){if(this.U.W||Wt(this),this.U.ma)return this.U.count.value+=1,this;var t=et,e=Object,r=e.create,i=Object.getPrototypeOf(this),s=this.U;return t=t(r.call(e,i,{U:{value:{count:s.count,ka:s.ka,ma:s.ma,W:s.W,X:s.X,aa:s.aa,ca:s.ca}}})),t.U.count.value+=1,t.U.ka=!1,t},ze.prototype.delete=function(){this.U.W||Wt(this),this.U.ka&&!this.U.ma&&I("Object already scheduled for deletion"),vt(this),$t(this.U),this.U.ma||(this.U.aa=void 0,this.U.W=void 0)},ze.prototype.isDeleted=function(){return!this.U.W},ze.prototype.deleteLater=function(){return this.U.W||Wt(this),this.U.ka&&!this.U.ma&&I("Object already scheduled for deletion"),ot.push(this),ot.length===1&&at&&at(Ut),this.U.ka=!0,this},De.prototype.hb=function(t){return this.Na&&(t=this.Na(t)),t},De.prototype.Ga=function(t){this.ha&&this.ha(t)},De.prototype.argPackAdvance=8,De.prototype.readValueFromPointer=ct,De.prototype.deleteObject=function(t){t!==null&&t.delete()},De.prototype.fromWireType=function(t){function e(){return this.qa?yt(this.V.ea,{X:this.sb,W:r,ca:this,aa:t}):yt(this.V.ea,{X:this,W:t})}var r=this.hb(t);if(!r)return this.Ga(t),null;var i=mn(this.V,r);if(i!==void 0)return i.U.count.value===0?(i.U.W=r,i.U.aa=t,i.clone()):(i=i.clone(),this.Ga(t),i);if(i=this.V.gb(r),i=Gt[i],!i)return e.call(this);i=this.pa?i.Xa:i.pointerType;var s=zt(r,this.V,i.V);return s===null?e.call(this):this.qa?yt(i.V.ea,{X:i,W:s,ca:this,aa:t}):yt(i.V.ea,{X:i,W:s})},Kt=h.UnboundTypeError=le("UnboundTypeError");var Un={l:function(t,e,r){t=fe(t),e=st(e,"wrapper"),r=_e(r);var i=[].slice,s=e.V,u=s.ea,f=s.$.ea,c=s.$.constructor;t=_(t,function(){s.$.Ma.forEach(function(d){if(this[d]===f[d])throw new mt("Pure virtual function "+d+" must be implemented in JavaScript")}.bind(this)),Object.defineProperty(this,"__parent",{value:u}),this.__construct.apply(this,i.call(arguments))}),u.__construct=function(){this===u&&I("Pass correct 'this' to __construct");var d=c.implement.apply(void 0,[this].concat(i.call(arguments)));vt(d);var S=d.U;d.notifyOnDestruction(),S.ma=!0,Object.defineProperties(this,{U:{value:S}}),et(this),d=S.W,d=Ft(s,d),je.hasOwnProperty(d)?I("Tried to register registered instance: "+d):je[d]=this},u.__destruct=function(){this===u&&I("Pass correct 'this' to __destruct"),vt(this);var d=this.U.W;d=Ft(s,d),je.hasOwnProperty(d)?delete je[d]:I("Tried to unregister unregistered instance: "+d)},t.prototype=Object.create(u);for(var p in r)t.prototype[p]=r[p];return Se(t)},I:function(t){var e=bt[t];delete bt[t];var r=e.xa,i=e.ha,s=e.Ja,u=s.map(f=>f.kb).concat(s.map(f=>f.vb));Oe([t],u,f=>{var c={};return s.forEach((p,d)=>{var S=f[d],C=p.ib,M=p.jb,k=f[d+s.length],W=p.ub,L=p.wb;c[p.eb]={read:ue=>S.fromWireType(C(M,ue)),write:(ue,Y)=>{var N=[];W(L,ue,k.toWireType(N,Y)),ut(N)}}}),[{name:e.name,fromWireType:function(p){var d={},S;for(S in c)d[S]=c[S].read(p);return i(p),d},toWireType:function(p,d){for(var S in c)if(!(S in d))throw new TypeError('Missing field:  "'+S+'"');var C=r();for(S in c)c[S].write(C,d[S]);return p!==null&&p.push(i,C),C},argPackAdvance:8,readValueFromPointer:ct,ba:i}]})},x:function(){},B:function(t,e,r,i,s){var u=St(r);e=fe(e),We(t,{name:e,fromWireType:function(f){return!!f},toWireType:function(f,c){return c?i:s},argPackAdvance:8,readValueFromPointer:function(f){if(r===1)var c=T;else if(r===2)c=q;else if(r===4)c=x;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(c[f>>u])},ba:null})},c:function(t,e,r,i,s,u,f,c,p,d,S,C,M){S=fe(S),u=Te(s,u),c&&(c=Te(f,c)),d&&(d=Te(p,d)),M=Te(C,M);var k=A(S);kt(k,function(){Ve("Cannot construct "+S+" due to unbound types",[i])}),Oe([t,e,r],i?[i]:[],function(W){if(W=W[0],i)var L=W.V,ue=L.ea;else ue=ze.prototype;W=_(k,function(){if(Object.getPrototypeOf(this)!==Y)throw new J("Use 'new' to construct "+S);if(N.ia===void 0)throw new J(S+" has no accessible constructor");var Ie=N.ia[arguments.length];if(Ie===void 0)throw new J("Tried to invoke ctor of "+S+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(N.ia).toString()+") parameters instead!");return Ie.apply(this,arguments)});var Y=Object.create(ue,{constructor:{value:W}});W.prototype=Y;var N=new vn(S,W,Y,M,L,u,c,d);L=new De(S,N,!0,!1),ue=new De(S+"*",N,!1,!1);var ne=new De(S+" const*",N,!1,!0);return Gt[t]={pointerType:ue,Xa:ne},Qt(k,W),[L,ue,ne]})},h:function(t,e,r,i,s,u,f){var c=Pt(r,i);e=fe(e),u=Te(s,u),Oe([],[t],function(p){function d(){Ve("Cannot call "+S+" due to unbound types",c)}p=p[0];var S=p.name+"."+e;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var C=p.V.constructor;return C[e]===void 0?(d.ja=r-1,C[e]=d):(Bt(C,e,S),C[e].Y[r-1]=d),Oe([],c,function(M){return M=Et(S,[M[0],null].concat(M.slice(1)),null,u,f),C[e].Y===void 0?(M.ja=r-1,C[e]=M):C[e].Y[r-1]=M,[]}),[]})},n:function(t,e,r,i,s,u,f,c){e=fe(e),u=Te(s,u),Oe([],[t],function(p){p=p[0];var d=p.name+"."+e,S={get:function(){Ve("Cannot access "+d+" due to unbound types",[r])},enumerable:!0,configurable:!0};return S.set=c?()=>{Ve("Cannot access "+d+" due to unbound types",[r])}:()=>{I(d+" is a read-only property")},Object.defineProperty(p.V.constructor,e,S),Oe([],[r],function(C){C=C[0];var M={get:function(){return C.fromWireType(u(i))},enumerable:!0};return c&&(c=Te(f,c),M.set=k=>{var W=[];c(i,C.toWireType(W,k)),ut(W)}),Object.defineProperty(p.V.constructor,e,M),[]}),[]})},k:function(t,e,r,i,s,u){0<e||Ze();var f=Pt(e,r);s=Te(i,s),Oe([],[t],function(c){c=c[0];var p="constructor "+c.name;if(c.V.ia===void 0&&(c.V.ia=[]),c.V.ia[e-1]!==void 0)throw new J("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+c.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return c.V.ia[e-1]=()=>{Ve("Cannot construct "+c.name+" due to unbound types",f)},Oe([],f,function(d){return d.splice(1,0,null),c.V.ia[e-1]=Et(p,d,null,s,u),[]}),[]})},a:function(t,e,r,i,s,u,f,c){var p=Pt(r,i);e=fe(e),u=Te(s,u),Oe([],[t],function(d){function S(){Ve("Cannot call "+C+" due to unbound types",p)}d=d[0];var C=d.name+"."+e;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),c&&d.V.Ma.push(e);var M=d.V.ea,k=M[e];return k===void 0||k.Y===void 0&&k.className!==d.name&&k.ja===r-2?(S.ja=r-2,S.className=d.name,M[e]=S):(Bt(M,e,C),M[e].Y[r-2]=S),Oe([],p,function(W){return W=Et(C,W,d,u,f),M[e].Y===void 0?(W.ja=r-2,M[e]=W):M[e].Y[r-2]=W,[]}),[]})},b:function(t,e,r,i,s,u,f,c,p,d){e=fe(e),s=Te(i,s),Oe([],[t],function(S){S=S[0];var C=S.name+"."+e,M={get:function(){Ve("Cannot access "+C+" due to unbound types",[r,f])},enumerable:!0,configurable:!0};return M.set=p?()=>{Ve("Cannot access "+C+" due to unbound types",[r,f])}:()=>{I(C+" is a read-only property")},Object.defineProperty(S.V.ea,e,M),Oe([],p?[r,f]:[r],function(k){var W=k[0],L={get:function(){var Y=Jt(this,S,C+" getter");return W.fromWireType(s(u,Y))},enumerable:!0};if(p){p=Te(c,p);var ue=k[1];L.set=function(Y){var N=Jt(this,S,C+" setter"),ne=[];p(d,N,ue.toWireType(ne,Y)),ut(ne)}}return Object.defineProperty(S.V.ea,e,L),[]}),[]})},A:function(t,e){e=fe(e),We(t,{name:e,fromWireType:function(r){var i=_e(r);return jt(r),i},toWireType:function(r,i){return Se(i)},argPackAdvance:8,readValueFromPointer:ct,ba:null})},j:function(t,e,r,i){function s(){}r=St(r),e=fe(e),s.values={},We(t,{name:e,constructor:s,fromWireType:function(u){return this.constructor.values[u]},toWireType:function(u,f){return f.value},argPackAdvance:8,readValueFromPointer:Sn(e,r,i),ba:null}),kt(e,s)},i:function(t,e,r){var i=st(t,"enum");e=fe(e),t=i.constructor,i=Object.create(i.constructor.prototype,{value:{value:r},constructor:{value:_(i.name+"_"+e,function(){})}}),t.values[r]=i,t[e]=i},r:function(t,e,r){r=St(r),e=fe(e),We(t,{name:e,fromWireType:function(i){return i},toWireType:function(i,s){return s},argPackAdvance:8,readValueFromPointer:Tn(e,r),ba:null})},q:function(t,e,r,i,s,u){var f=Pt(e,r);t=fe(t),s=Te(i,s),kt(t,function(){Ve("Cannot call "+t+" due to unbound types",f)},e-1),Oe([],f,function(c){return Qt(t,Et(t,[c[0],null].concat(c.slice(1)),null,s,u),e-1),[]})},g:function(t,e,r,i,s){e=fe(e),s===-1&&(s=4294967295),s=St(r);var u=c=>c;if(i===0){var f=32-8*r;u=c=>c<<f>>>f}r=e.includes("unsigned")?function(c,p){return p>>>0}:function(c,p){return p},We(t,{name:e,fromWireType:u,toWireType:r,argPackAdvance:8,readValueFromPointer:En(e,s,i!==0),ba:null})},d:function(t,e,r){function i(u){u>>=2;var f=j;return new s(b,f[u+1],f[u])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];r=fe(r),We(t,{name:r,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{lb:!0})},s:function(t,e){e=fe(e);var r=e==="std::string";We(t,{name:e,fromWireType:function(i){var s=j[i>>2],u=i+4;if(r)for(var f=u,c=0;c<=s;++c){var p=u+c;if(c==s||w[p]==0){if(f=f?m(w,f,p-f):"",d===void 0)var d=f;else d+=String.fromCharCode(0),d+=f;f=p+1}}else{for(d=Array(s),c=0;c<s;++c)d[c]=String.fromCharCode(w[u+c]);d=d.join("")}return Ye(i),d},toWireType:function(i,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var u,f=typeof s=="string";f||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||I("Cannot pass non-string to std::string");var c;if(r&&f)for(u=c=0;u<s.length;++u){var p=s.charCodeAt(u);127>=p?c++:2047>=p?c+=2:55296<=p&&57343>=p?(c+=4,++u):c+=3}else c=s.length;if(u=c,c=Vt(4+u+1),p=c+4,j[c>>2]=u,r&&f){if(f=p,p=u+1,u=w,0<p){p=f+p-1;for(var d=0;d<s.length;++d){var S=s.charCodeAt(d);if(55296<=S&&57343>=S){var C=s.charCodeAt(++d);S=65536+((S&1023)<<10)|C&1023}if(127>=S){if(f>=p)break;u[f++]=S}else{if(2047>=S){if(f+1>=p)break;u[f++]=192|S>>6}else{if(65535>=S){if(f+2>=p)break;u[f++]=224|S>>12}else{if(f+3>=p)break;u[f++]=240|S>>18,u[f++]=128|S>>12&63}u[f++]=128|S>>6&63}u[f++]=128|S&63}}u[f]=0}}else if(f)for(f=0;f<u;++f)d=s.charCodeAt(f),255<d&&(Ye(p),I("String has UTF-16 code units that do not fit in 8 bits")),w[p+f]=d;else for(f=0;f<u;++f)w[p+f]=s[f];return i!==null&&i.push(Ye,c),c},argPackAdvance:8,readValueFromPointer:ct,ba:function(i){Ye(i)}})},p:function(t,e,r){if(r=fe(r),e===2)var i=Pn,s=An,u=_n,f=()=>X,c=1;else e===4&&(i=Cn,s=xn,u=Rn,f=()=>j,c=2);We(t,{name:r,fromWireType:function(p){for(var d=j[p>>2],S=f(),C,M=p+4,k=0;k<=d;++k){var W=p+4+k*e;(k==d||S[W>>c]==0)&&(M=i(M,W-M),C===void 0?C=M:(C+=String.fromCharCode(0),C+=M),M=W+e)}return Ye(p),C},toWireType:function(p,d){typeof d!="string"&&I("Cannot pass non-string to C++ string type "+r);var S=u(d),C=Vt(4+S+e);return j[C>>2]=S>>c,s(d,C+4,S+e),p!==null&&p.push(Ye,C),C},argPackAdvance:8,readValueFromPointer:ct,ba:function(p){Ye(p)}})},K:function(t,e,r,i,s,u){bt[t]={name:fe(e),xa:Te(r,i),ha:Te(s,u),Ja:[]}},J:function(t,e,r,i,s,u,f,c,p,d){bt[t].Ja.push({eb:fe(e),kb:r,ib:Te(i,s),jb:u,vb:f,ub:Te(c,p),wb:d})},C:function(t,e){e=fe(e),We(t,{nb:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},m:function(t,e,r){t=_e(t),e=st(e,"emval::as");var i=[],s=Se(i);return j[r>>2]=s,e.toWireType(i,t)},t:function(t,e,r,i,s){t=_t[t],e=_e(e),r=At(r);var u=[];return j[i>>2]=Se(u),t(e,r,u,s)},f:function(t,e,r,i){t=_t[t],e=_e(e),r=At(r),t(e,r,null,i)},L:jt,e:function(t,e){var r=On(t,e),i=r[0];e=i.name+"_$"+r.slice(1).map(function(f){return f.name}).join("_")+"$";var s=tn[e];if(s!==void 0)return s;var u=Array(t-1);return s=Ln((f,c,p,d)=>{for(var S=0,C=0;C<t-1;++C)u[C]=r[C+1].readValueFromPointer(d+S),S+=r[C+1].argPackAdvance;for(f=f[c].apply(f,u),C=0;C<t-1;++C)r[C+1].Za&&r[C+1].Za(u[C]);if(!i.nb)return i.toWireType(p,f)}),tn[e]=s},D:function(t){return t=At(t),Se(h[t])},H:function(t,e){return t=_e(t),e=_e(e),Se(t[e])},E:function(t){4<t&&(R[t].ya+=1)},G:function(t){return Se(At(t))},F:function(t){var e=_e(t);ut(e),jt(t)},u:function(t,e){return t=st(t,"_emval_take_value"),t=t.readValueFromPointer(e),Se(t)},v:function(){Ze("")},o:function(t){var e=w.length;if(t>>>=0,2147483648<t)return!1;for(var r=1;4>=r;r*=2){var i=e*(1+.2/r);i=Math.min(i,t+100663296);var s=Math;i=Math.max(t,i),s=s.min.call(s,2147483648,i+(65536-i%65536)%65536);e:{try{a.grow(s-b.byteLength+65535>>>16),ae();var u=1;break e}catch{}u=void 0}if(u)return!0}return!1},z:function(){return 52},w:function(){return 70},y:function(t,e,r,i){for(var s=0,u=0;u<r;u++){var f=j[e>>2],c=j[e+4>>2];e+=8;for(var p=0;p<c;p++){var d=w[f+p],S=In[t];d===0||d===10?((t===1?Ne:oe)(m(S,0)),S.length=0):S.push(d)}s+=c}return j[i>>2]=s,0}};(function(){function t(s){h.asm=s.exports,a=h.asm.M,ae(),Le=h.asm.S,He.unshift(h.asm.N),ke--,h.monitorRunDependencies&&h.monitorRunDependencies(ke),ke==0&&$e&&(s=$e,$e=null,s())}function e(s){t(s.instance)}function r(s){return se().then(function(u){return WebAssembly.instantiate(u,i)}).then(function(u){return u}).then(s,function(u){oe("failed to asynchronously prepare wasm: "+u),Ze(u)})}var i={a:Un};if(ke++,h.monitorRunDependencies&&h.monitorRunDependencies(ke),h.instantiateWasm)try{return h.instantiateWasm(i,t)}catch(s){return oe("Module.instantiateWasm callback failed with error: "+s),!1}return function(){return Me||typeof WebAssembly.instantiateStreaming!="function"||ht()||xe.startsWith("file://")||typeof fetch!="function"?r(e):fetch(xe,{credentials:"same-origin"}).then(function(s){return WebAssembly.instantiateStreaming(s,i).then(e,function(u){return oe("wasm streaming compile failed: "+u),oe("falling back to ArrayBuffer instantiation"),r(e)})})}().catch(Re),{}})(),h.___wasm_call_ctors=function(){return(h.___wasm_call_ctors=h.asm.N).apply(null,arguments)};var Ye=h._free=function(){return(Ye=h._free=h.asm.O).apply(null,arguments)},Vt=h._malloc=function(){return(Vt=h._malloc=h.asm.P).apply(null,arguments)},rn=h.___getTypeName=function(){return(rn=h.___getTypeName=h.asm.Q).apply(null,arguments)};h.__embind_initialize_bindings=function(){return(h.__embind_initialize_bindings=h.asm.R).apply(null,arguments)},h.dynCall_jiji=function(){return(h.dynCall_jiji=h.asm.T).apply(null,arguments)};var xt;$e=function t(){xt||on(),xt||($e=t)};function on(){function t(){if(!xt&&(xt=!0,h.calledRun=!0,!n)){if(g(He),Ee(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),h.postRun)for(typeof h.postRun=="function"&&(h.postRun=[h.postRun]);h.postRun.length;){var e=h.postRun.shift();dt.unshift(e)}g(dt)}}if(!(0<ke)){if(h.preRun)for(typeof h.preRun=="function"&&(h.preRun=[h.preRun]);h.preRun.length;)It();g(Ae),0<ke||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),t()},1)):t())}}if(h.preInit)for(typeof h.preInit=="function"&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();return on(),F.ready}})();const ie=re},K=>{K.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"1.0.98","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(K,D,z)=>{z.r(D),z.d(D,{registerTouchInteractions:()=>re.registerTouchInteractions});var re=z(4)},(K,D,z)=>{z.r(D),z.d(D,{registerTouchInteractions:()=>re});const re=({canvas:ie,artboard:he,stateMachines:F=[],renderer:h,rive:Ee,fit:Re,alignment:be})=>{if(!ie||!F.length||!h||!Ee||!he)return null;const de=(Ue=>{const U=Ue.currentTarget.getBoundingClientRect(),we=Ue.clientX-U.left,ge=Ue.clientY-U.top,pe=Ee.computeAlignment(Re,be,{minX:0,minY:0,maxX:U.width,maxY:U.height},he.bounds);let Fe=new Ee.Mat2D;pe.invert(Fe);const Ne=new Ee.Vec2D(we,ge),oe=Ee.mapXY(Fe,Ne),Me=oe.x(),a=oe.y();switch(oe.delete(),Fe.delete(),Ne.delete(),pe.delete(),Ue.type){case"mouseover":case"mouseout":case"mousemove":{for(const n of F)n.pointerMove(Me,a);break}case"mousedown":{for(const n of F)n.pointerDown(Me,a);break}case"mouseup":{for(const n of F)n.pointerUp(Me,a);break}}}).bind(void 0);return ie.addEventListener("mouseover",de),ie.addEventListener("mouseout",de),ie.addEventListener("mousemove",de),ie.addEventListener("mousedown",de),ie.addEventListener("mouseup",de),()=>{ie.removeEventListener("mouseover",de),ie.removeEventListener("mouseout",de),ie.removeEventListener("mousemove",de),ie.removeEventListener("mousedown",de),ie.removeEventListener("mouseup",de)}}}],E={};function P(K){var D=E[K];if(D!==void 0)return D.exports;var z=E[K]={exports:{}};return O[K](z,z.exports,P),z.exports}P.d=(K,D)=>{for(var z in D)P.o(D,z)&&!P.o(K,z)&&Object.defineProperty(K,z,{enumerable:!0,get:D[z]})},P.o=(K,D)=>Object.prototype.hasOwnProperty.call(K,D),P.r=K=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})};var V={};return(()=>{P.r(V),P.d(V,{Fit:()=>he,Alignment:()=>F,Layout:()=>h,RuntimeLoader:()=>Ee,StateMachineInputType:()=>be,StateMachineInput:()=>Pe,EventType:()=>U,LoopType:()=>we,Rive:()=>Fe,Testing:()=>Me});var K=P(1),D=P(2),z=P(3),re=function(a,n,o,m){function b(T){return T instanceof o?T:new o(function(w){w(T)})}return new(o||(o=Promise))(function(T,w){function q(j){try{x(m.next(j))}catch(me){w(me)}}function X(j){try{x(m.throw(j))}catch(me){w(me)}}function x(j){j.done?T(j.value):b(j.value).then(q,X)}x((m=m.apply(a,n||[])).next())})},ie=function(a,n){var o={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},m,b,T,w;return w={next:q(0),throw:q(1),return:q(2)},typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function q(x){return function(j){return X([x,j])}}function X(x){if(m)throw new TypeError("Generator is already executing.");for(;o;)try{if(m=1,b&&(T=x[0]&2?b.return:x[0]?b.throw||((T=b.return)&&T.call(b),0):b.next)&&!(T=T.call(b,x[1])).done)return T;switch(b=0,T&&(x=[x[0]&2,T.value]),x[0]){case 0:case 1:T=x;break;case 4:return o.label++,{value:x[1],done:!1};case 5:o.label++,b=x[1],x=[0];continue;case 7:x=o.ops.pop(),o.trys.pop();continue;default:if(T=o.trys,!(T=T.length>0&&T[T.length-1])&&(x[0]===6||x[0]===2)){o=0;continue}if(x[0]===3&&(!T||x[1]>T[0]&&x[1]<T[3])){o.label=x[1];break}if(x[0]===6&&o.label<T[1]){o.label=T[1],T=x;break}if(T&&o.label<T[2]){o.label=T[2],o.ops.push(x);break}T[2]&&o.ops.pop(),o.trys.pop();continue}x=n.call(a,o)}catch(j){x=[6,j],b=0}finally{m=T=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}},he;(function(a){a.Cover="cover",a.Contain="contain",a.Fill="fill",a.FitWidth="fitWidth",a.FitHeight="fitHeight",a.None="none",a.ScaleDown="scaleDown"})(he||(he={}));var F;(function(a){a.Center="center",a.TopLeft="topLeft",a.TopCenter="topCenter",a.TopRight="topRight",a.CenterLeft="centerLeft",a.CenterRight="centerRight",a.BottomLeft="bottomLeft",a.BottomCenter="bottomCenter",a.BottomRight="bottomRight"})(F||(F={}));var h=function(){function a(n){var o,m,b,T,w,q;this.fit=(o=n==null?void 0:n.fit)!==null&&o!==void 0?o:he.Contain,this.alignment=(m=n==null?void 0:n.alignment)!==null&&m!==void 0?m:F.Center,this.minX=(b=n==null?void 0:n.minX)!==null&&b!==void 0?b:0,this.minY=(T=n==null?void 0:n.minY)!==null&&T!==void 0?T:0,this.maxX=(w=n==null?void 0:n.maxX)!==null&&w!==void 0?w:0,this.maxY=(q=n==null?void 0:n.maxY)!==null&&q!==void 0?q:0}return a.new=function(n){var o=n.fit,m=n.alignment,b=n.minX,T=n.minY,w=n.maxX,q=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new a({fit:o,alignment:m,minX:b,minY:T,maxX:w,maxY:q})},a.prototype.copyWith=function(n){var o=n.fit,m=n.alignment,b=n.minX,T=n.minY,w=n.maxX,q=n.maxY;return new a({fit:o!=null?o:this.fit,alignment:m!=null?m:this.alignment,minX:b!=null?b:this.minX,minY:T!=null?T:this.minY,maxX:w!=null?w:this.maxX,maxY:q!=null?q:this.maxY})},a.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var o;return this.fit===he.Cover?o=n.Fit.cover:this.fit===he.Contain?o=n.Fit.contain:this.fit===he.Fill?o=n.Fit.fill:this.fit===he.FitWidth?o=n.Fit.fitWidth:this.fit===he.FitHeight?o=n.Fit.fitHeight:this.fit===he.ScaleDown?o=n.Fit.scaleDown:o=n.Fit.none,this.cachedRuntimeFit=o,o},a.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var o;return this.alignment===F.TopLeft?o=n.Alignment.topLeft:this.alignment===F.TopCenter?o=n.Alignment.topCenter:this.alignment===F.TopRight?o=n.Alignment.topRight:this.alignment===F.CenterLeft?o=n.Alignment.centerLeft:this.alignment===F.CenterRight?o=n.Alignment.centerRight:this.alignment===F.BottomLeft?o=n.Alignment.bottomLeft:this.alignment===F.BottomCenter?o=n.Alignment.bottomCenter:this.alignment===F.BottomRight?o=n.Alignment.bottomRight:o=n.Alignment.center,this.cachedRuntimeAlignment=o,o},a}(),Ee=function(){function a(){}return a.loadRuntime=function(){K.default({locateFile:function(){return a.wasmURL}}).then(function(n){var o;for(a.runtime=n;a.callBackQueue.length>0;)(o=a.callBackQueue.shift())===null||o===void 0||o(a.runtime)})},a.getInstance=function(n){a.isLoading||(a.isLoading=!0,a.loadRuntime()),a.runtime?n(a.runtime):a.callBackQueue.push(n)},a.awaitInstance=function(){return new Promise(function(n){return a.getInstance(function(o){return n(o)})})},a.setWasmUrl=function(n){a.wasmURL=n},a.isLoading=!1,a.callBackQueue=[],a.wasmURL="https://unpkg.com/"+D.name+"@"+D.version+"/rive.wasm",a}(),Re=function(){function a(n,o,m,b){this.animation=n,this.artboard=o,this.playing=b,this.loopCount=0,this.scrubTo=null,this.instance=new m.LinearAnimationInstance(n,o)}return Object.defineProperty(a.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"time",{get:function(){return this.instance.time},set:function(n){this.instance.time=n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),a.prototype.advance=function(n){this.scrubTo===null?this.instance.advance(n):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},a.prototype.apply=function(n){this.instance.apply(n)},Object.defineProperty(a.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),a.prototype.cleanup=function(){this.instance.delete()},a}(),be;(function(a){a[a.Number=56]="Number",a[a.Trigger=58]="Trigger",a[a.Boolean=59]="Boolean"})(be||(be={}));var Pe=function(){function a(n,o){this.type=n,this.runtimeInput=o}return Object.defineProperty(a.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),a.prototype.fire=function(){this.type===be.Trigger&&this.runtimeInput.fire()},a}(),de=function(){function a(n,o,m,b){this.stateMachine=n,this.playing=m,this.artboard=b,this.inputs=[],this.instance=new o.StateMachineInstance(n,b),this.initInputs(o)}return Object.defineProperty(a.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"statesChanged",{get:function(){for(var n=[],o=0;o<this.instance.stateChangedCount();o++)n.push(this.instance.stateChangedNameByIndex(o));return n},enumerable:!1,configurable:!0}),a.prototype.advance=function(n){this.instance.advance(n)},a.prototype.initInputs=function(n){for(var o=0;o<this.instance.inputCount();o++){var m=this.instance.input(o);this.inputs.push(this.mapRuntimeInput(m,n))}},a.prototype.mapRuntimeInput=function(n,o){if(n.type===o.SMIInput.bool)return new Pe(be.Boolean,n.asBool());if(n.type===o.SMIInput.number)return new Pe(be.Number,n.asNumber());if(n.type===o.SMIInput.trigger)return new Pe(be.Trigger,n.asTrigger())},a.prototype.cleanup=function(){this.instance.delete()},a}(),Ue=function(){function a(n,o,m,b,T){b===void 0&&(b=[]),T===void 0&&(T=[]),this.runtime=n,this.artboard=o,this.eventManager=m,this.animations=b,this.stateMachines=T}return a.prototype.add=function(n,o,m){if(m===void 0&&(m=!0),n=oe(n),n.length===0)this.animations.forEach(function(ae){return ae.playing=o}),this.stateMachines.forEach(function(ae){return ae.playing=o});else{var b=this.animations.map(function(ae){return ae.name}),T=this.stateMachines.map(function(ae){return ae.name});for(var w in n){var q=b.indexOf(n[w]),X=T.indexOf(n[w]);if(q>=0||X>=0)q>=0?this.animations[q].playing=o:this.stateMachines[X].playing=o;else{var x=this.artboard.animationByName(n[w]);if(x){var j=new Re(x,this.artboard,this.runtime,o);j.advance(0),j.apply(1),this.animations.push(j)}else{var me=this.artboard.stateMachineByName(n[w]);if(me){var Ce=new de(me,this.runtime,o,this.artboard);this.stateMachines.push(Ce)}}}}}return m&&(o?this.eventManager.fire({type:U.Play,data:this.playing}):this.eventManager.fire({type:U.Pause,data:this.paused})),o?this.playing:this.paused},a.prototype.play=function(n){return this.add(n,!0)},a.prototype.pause=function(n){return this.add(n,!1)},a.prototype.scrub=function(n,o){var m=this.animations.filter(function(b){return n.includes(b.name)});return m.forEach(function(b){return b.scrubTo=o}),m.map(function(b){return b.name})},Object.defineProperty(a.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),a.prototype.stop=function(n){var o=this;n=oe(n);var m=[];if(n.length===0)m=this.animations.map(function(w){return w.name}).concat(this.stateMachines.map(function(w){return w.name})),this.animations.forEach(function(w){return w.cleanup()}),this.stateMachines.forEach(function(w){return w.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var b=this.animations.filter(function(w){return n.includes(w.name)});b.forEach(function(w){w.cleanup(),o.animations.splice(o.animations.indexOf(w),1)});var T=this.stateMachines.filter(function(w){return n.includes(w.name)});T.forEach(function(w){w.cleanup(),o.stateMachines.splice(o.stateMachines.indexOf(w),1)}),m=b.map(function(w){return w.name}).concat(T.map(function(w){return w.name}))}return this.eventManager.fire({type:U.Stop,data:m}),m},Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,o){return n||o.playing},!1)||this.stateMachines.reduce(function(n,o){return n||o.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),a.prototype.atLeastOne=function(n,o){o===void 0&&(o=!0);var m;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([m=this.artboard.animationByIndex(0).name],n,o):this.artboard.stateMachineCount()>0&&this.add([m=this.artboard.stateMachineByIndex(0).name],n,o)),m},a.prototype.handleLooping=function(){for(var n=0,o=this.animations.filter(function(b){return b.playing});n<o.length;n++){var m=o[n];m.loopValue===0&&m.loopCount?(m.loopCount=0,this.stop(m.name)):m.loopValue===1&&m.loopCount?(this.eventManager.fire({type:U.Loop,data:{animation:m.name,type:we.Loop}}),m.loopCount=0):m.loopValue===2&&m.loopCount>1&&(this.eventManager.fire({type:U.Loop,data:{animation:m.name,type:we.PingPong}}),m.loopCount=0)}},a.prototype.handleStateChanges=function(){for(var n=[],o=0,m=this.stateMachines.filter(function(T){return T.playing});o<m.length;o++){var b=m[o];n.push.apply(n,b.statesChanged)}n.length>0&&this.eventManager.fire({type:U.StateChange,data:n})},a}(),U;(function(a){a.Load="load",a.LoadError="loaderror",a.Play="play",a.Pause="pause",a.Stop="stop",a.Loop="loop",a.Draw="draw",a.StateChange="statechange"})(U||(U={}));var we;(function(a){a.OneShot="oneshot",a.Loop="loop",a.PingPong="pingpong"})(we||(we={}));var ge=function(){function a(n){n===void 0&&(n=[]),this.listeners=n}return a.prototype.getListeners=function(n){return this.listeners.filter(function(o){return o.type===n})},a.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},a.prototype.remove=function(n){for(var o=0;o<this.listeners.length;o++){var m=this.listeners[o];if(m.type===n.type&&m.callback===n.callback){this.listeners.splice(o,1);break}}},a.prototype.removeAll=function(n){var o=this;n?this.listeners.filter(function(m){return m.type===n}).forEach(function(m){return o.remove(m)}):this.listeners.splice(0,this.listeners.length)},a.prototype.fire=function(n){var o=this.getListeners(n.type);o.forEach(function(m){return m.callback(n)})},a}(),pe=function(){function a(n){this.eventManager=n,this.queue=[]}return a.prototype.add=function(n){this.queue.push(n)},a.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n!=null&&n.action&&n.action(),n!=null&&n.event&&this.eventManager.fire(n.event)}},a}(),Fe=function(){function a(n){var o;this._updateLayout=!0,this.isRendererActive=!0,this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=n.canvas,this.src=n.src,this.buffer=n.buffer,this.layout=(o=n.layout)!==null&&o!==void 0?o:new h,this.eventManager=new ge,n.onLoad&&this.on(U.Load,n.onLoad),n.onLoadError&&this.on(U.LoadError,n.onLoadError),n.onPlay&&this.on(U.Play,n.onPlay),n.onPause&&this.on(U.Pause,n.onPause),n.onStop&&this.on(U.Stop,n.onStop),n.onLoop&&this.on(U.Loop,n.onLoop),n.onStateChange&&this.on(U.StateChange,n.onStateChange),n.onload&&!n.onLoad&&this.on(U.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(U.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(U.Play,n.onplay),n.onpause&&!n.onPause&&this.on(U.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(U.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(U.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(U.StateChange,n.onstatechange),this.taskQueue=new pe(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:n.autoplay,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return a.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new a(n)},a.prototype.init=function(n){var o=this,m=n.src,b=n.buffer,T=n.animations,w=n.stateMachines,q=n.artboard,X=n.autoplay,x=X===void 0?!1:X,j=n.useOffscreenRenderer,me=j===void 0?!1:j;if(this.src=m,this.buffer=b,!this.src&&!this.buffer)throw new Error(a.missingErrorMessage);var Ce=oe(T),ae=oe(w);this.loaded=!1,this.readyForPlaying=!1,Ee.awaitInstance().then(function(Le){o.runtime=Le,o.renderer=o.runtime.makeRenderer(o.canvas,me),o.canvas.width||o.canvas.height||o.resizeDrawingSurfaceToCanvas(),o.initData(q,Ce,ae,x).then(function(){var Ae=(o.animator.stateMachines||[]).filter(function(He){return He.playing}).map(function(He){return He.instance});o.eventCleanup=(0,z.registerTouchInteractions)({canvas:o.canvas,artboard:o.artboard,stateMachines:Ae,renderer:o.renderer,rive:o.runtime,fit:o._layout.runtimeFit(o.runtime),alignment:o._layout.runtimeAlignment(o.runtime)})}).catch(function(Ae){console.error(Ae)})}).catch(function(Le){console.error(Le)})},a.prototype.initData=function(n,o,m,b){var T;return re(this,void 0,void 0,function(){var w,q,X;return ie(this,function(x){switch(x.label){case 0:return this.src?(w=this,[4,Ne(this.src)]):[3,2];case 1:w.buffer=x.sent(),x.label=2;case 2:return q=this,[4,this.runtime.load(new Uint8Array(this.buffer))];case 3:return q.file=x.sent(),this.file?(this.initArtboard(n,o,m,b),this.loaded=!0,this.eventManager.fire({type:U.Load,data:(T=this.src)!==null&&T!==void 0?T:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()]):(X="Problem loading file; may be corrupt!",console.warn(X),this.eventManager.fire({type:U.LoadError,data:X}),[2,Promise.reject(X)])}})})},a.prototype.initArtboard=function(n,o,m,b){var T=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!T){var w="Invalid artboard name or no default artboard";console.warn(w),this.eventManager.fire({type:U.LoadError,data:w});return}if(this.artboard=T,this.artboard.animationCount()<1){var w="Artboard has no animations";throw this.eventManager.fire({type:U.LoadError,data:w}),w}this.animator=new Ue(this.runtime,this.artboard,this.eventManager);var q;o.length>0||m.length>0?(q=o.concat(m),this.animator.add(q,b,!1)):q=[this.animator.atLeastOne(b,!1)],this.taskQueue.add({event:{type:b?U.Play:U.Pause,data:q}})},a.prototype.drawFrame=function(){this.startRendering()},a.prototype.draw=function(n,o){var m=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,o==null||o());var b=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var T=this.animator.animations.filter(function(Ae){return Ae.playing||Ae.needsScrub}).sort(function(Ae){return Ae.needsScrub?-1:1}),w=0,q=T;w<q.length;w++){var X=q[w];X.advance(b),X.instance.didLoop&&(X.loopCount+=1),X.apply(1)}for(var x=this.animator.stateMachines.filter(function(Ae){return Ae.playing}),j=0,me=x;j<me.length;j++){var Ce=me[j];Ce.advance(b)}this.artboard.advance(b);var ae=this.renderer;ae.clear(),ae.save(),this.alignRenderer(),this.artboard.draw(ae),ae.restore(),ae.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.frameCount++;var Le=performance.now();for(this.frameTimes.push(Le),this.durations.push(Le-m);this.frameTimes[0]<=Le-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},a.prototype.alignRenderer=function(){var n=this,o=n.renderer,m=n.runtime,b=n._layout,T=n.artboard;o.align(b.runtimeFit(m),b.runtimeAlignment(m),{minX:b.minX,minY:b.minY,maxX:b.maxX,maxY:b.maxY},T.bounds)},Object.defineProperty(a.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,o){return n+o},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),a.prototype.cleanup=function(){this.stopRendering(),this.cleanupInstances(),this.renderer.delete(),this.file.delete()},a.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},a.prototype.play=function(n,o){var m=this;if(n=oe(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return m.play(n,o)}});return}this.animator.play(n),this.startRendering()},a.prototype.pause=function(n){var o=this;if(n=oe(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return o.pause(n)}});return}this.animator.pause(n)},a.prototype.scrub=function(n,o){var m=this;if(n=oe(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return m.scrub(n,o)}});return}this.animator.scrub(n,o||0),this.drawFrame()},a.prototype.stop=function(n){var o=this;if(n=oe(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return o.stop(n)}});return}this.animator.stop(n)},a.prototype.reset=function(n){var o,m=n==null?void 0:n.artboard,b=oe(n==null?void 0:n.animations),T=oe(n==null?void 0:n.stateMachines),w=(o=n==null?void 0:n.autoplay)!==null&&o!==void 0?o:!1;this.cleanupInstances(),this.initArtboard(m,b,T,w),this.taskQueue.process()},a.prototype.load=function(n){this.stop(),this.init(n)},Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),a.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},a.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&!!window){var n=this.canvas.getBoundingClientRect(),o=n.width,m=n.height,b=window.devicePixelRatio||1;this.canvas.width=b*o,this.canvas.height=b*m,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(a.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var n=[],o=0;o<this.artboard.animationCount();o++)n.push(this.artboard.animationByIndex(o).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var n=[],o=0;o<this.artboard.stateMachineCount();o++)n.push(this.artboard.stateMachineByIndex(o).name);return n},enumerable:!1,configurable:!0}),a.prototype.stateMachineInputs=function(n){if(!!this.loaded){var o=this.animator.stateMachines.find(function(m){return m.name===n});return o==null?void 0:o.inputs}},Object.defineProperty(a.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),a.prototype.on=function(n,o){this.eventManager.add({type:n,callback:o})},a.prototype.unsubscribe=function(n,o){this.eventManager.remove({type:n,callback:o})},a.prototype.unsubscribeAll=function(n){this.eventManager.removeAll(n)},a.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},a.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},a.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},a.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(a.prototype,"contents",{get:function(){if(!!this.loaded){for(var n={artboards:[]},o=0;o<this.file.artboardCount();o++){for(var m=this.file.artboardByIndex(o),b={name:m.name,animations:[],stateMachines:[]},T=0;T<m.animationCount();T++){var w=m.animationByIndex(T);b.animations.push(w.name)}for(var q=0;q<m.stateMachineCount();q++){for(var X=m.stateMachineByIndex(q),x=X.name,j=new this.runtime.StateMachineInstance(X,m),me=[],Ce=0;Ce<j.inputCount();Ce++){var ae=j.input(Ce);me.push({name:ae.name,type:ae.type})}b.stateMachines.push({name:x,inputs:me})}n.artboards.push(b)}return n}},enumerable:!1,configurable:!0}),a.missingErrorMessage="Rive source file or data buffer required",a}(),Ne=function(a){return re(void 0,void 0,void 0,function(){var n,o,m;return ie(this,function(b){switch(b.label){case 0:return n=new Request(a),[4,fetch(n)];case 1:return o=b.sent(),[4,o.arrayBuffer()];case 2:return m=b.sent(),[2,m]}})})},oe=function(a){return typeof a=="string"?[a]:a instanceof Array?a:[]},Me={EventManager:ge,TaskQueueManager:pe}})(),V})()})})(pn);const fn=Gn(pn.exports);function Zn(){if(document.getElementById("mandala-2")){const l=new fn.Rive({src:"https://wizarre.fra1.cdn.digitaloceanspaces.com/mandala.riv",canvas:document.getElementById("mandala-1"),autoplay:!0,animations:"mandala-rotate"}),v=new fn.Rive({src:"https://wizarre.fra1.cdn.digitaloceanspaces.com/mandala.riv",canvas:document.getElementById("mandala-2"),autoplay:!0,animations:"mandala-rotate"});l.on("load",()=>{l.pause(["mandala-rotate"]),l.scrub(["mandala-rotate"],0)}),v.on("load",()=>{v.pause(["mandala-rotate"]),v.scrub(["mandala-rotate"],0)}),document.getElementsByTagName("body")[0].onscroll=()=>{const O=document.documentElement.scrollHeight-window.innerHeight,E=1*(window.scrollY/O).toFixed(3),P=8;l.scrub("mandala-rotate",E*P),v.scrub("mandala-rotate",E*P)}}}function Qn(){const l=Kn(".wizard-source"),v=Jn(),O=er();let E=0;rt(v,l,E,!1),rt(O,l,E,!0);const P=document.querySelector(".wizard-slider-left"),V=document.querySelector(".wizard-slider-right");P.addEventListener("click",()=>{E-=1,E<0&&(E=l.length-1),rt(v,l,E,!1),rt(O,l,E,!0)}),V.addEventListener("click",()=>{E+=1,E=E%l.length,rt(v,l,E,!1),rt(O,l,E,!0)});const K=[...document.querySelectorAll(".text-box.is--stats-card")];for(const z of K)z.addEventListener("click",()=>dn(z));const D=document.querySelector("#emblem-card");dn(D)}function dn(l){const v=l.classList.contains("is--active"),O=document.getElementById(l.dataset.item);v||(Ot(".wizard-overlay"),Ot(".text-box.is--stats-card"),l.classList.add("is--active"),O.classList.add("is--active"))}function Ot(l){const v=document.querySelectorAll(`${l}.is--active`);v&&[...v].map(O=>O.classList.remove("is--active"))}function rt(l,v,O,E){const P=v[O];E||(Ot(".text-box.is--stats-card"),Ot(".wizard-overlay"),l.images.replaceChildren(...P.images)),Rt(l.item.emblem,P.item.emblem),Rt(l.item.hat,P.item.hat),Rt(l.item.robe,P.item.robe),Rt(l.item.staff,P.item.staff),Mt(l.spell.teamBuff,P.spell.teamBuff),Mt(l.spell.offensiveSpell,P.spell.offensiveSpell),Mt(l.spell.ultimateSpell,P.spell.ultimateSpell),Mt(l.spell.defensiveSpell,P.spell.defensiveSpell)}function Rt(l,v){l.icon.replaceChildren(v.icon.cloneNode(!0)),l.element.replaceChildren(v.element.cloneNode(!0))}function Mt(l,v){l.icon.replaceChildren(v.icon.cloneNode(!0)),l.name.replaceChildren(v.name.cloneNode(!0)),l.desc.replaceChildren(v.desc.cloneNode(!0))}function Kn(l){return[...document.querySelectorAll(l)].map(E=>({images:[...E.content.querySelectorAll(".wizard-img,.wizard-overlay")],item:{emblem:{icon:E.content.querySelector(".stats-emblem > .stats-icon"),element:E.content.querySelector(".stats-emblem > .stats-element")},hat:{icon:E.content.querySelector(".stats-hat > .stats-icon"),element:E.content.querySelector(".stats-hat > .stats-element")},robe:{icon:E.content.querySelector(".stats-robe > .stats-icon"),element:E.content.querySelector(".stats-robe > .stats-element")},staff:{icon:E.content.querySelector(".stats-staff > .stats-icon"),element:E.content.querySelector(".stats-staff > .stats-element")}},spell:{teamBuff:{icon:E.content.querySelector(".team-buff > .spell-icon"),name:E.content.querySelector(".team-buff > .spell-name"),desc:E.content.querySelector(".team-buff > .spell-desc")},offensiveSpell:{icon:E.content.querySelector(".offensive-spell > .spell-icon"),name:E.content.querySelector(".offensive-spell > .spell-name"),desc:E.content.querySelector(".offensive-spell > .spell-desc")},defensiveSpell:{icon:E.content.querySelector(".defensive-spell > .spell-icon"),name:E.content.querySelector(".defensive-spell > .spell-name"),desc:E.content.querySelector(".defensive-spell > .spell-desc")},ultimateSpell:{icon:E.content.querySelector(".ultimate-spell > .spell-icon"),name:E.content.querySelector(".ultimate-spell > .spell-name"),desc:E.content.querySelector(".ultimate-spell > .spell-desc")}}}))}function Jn(){const l=document.querySelector(".wizard-slider"),v=document.querySelector(".stats-section");return{images:l,item:{emblem:{icon:v.querySelector("#emblem-card .stats-column.item .stats-image"),element:v.querySelector("#emblem-card .stats-column.item .stats-data")},hat:{icon:v.querySelector("#hat-card .stats-column.item .stats-image"),element:v.querySelector("#hat-card .stats-column.item .stats-data")},robe:{icon:v.querySelector("#robe-card .stats-column.item .stats-image"),element:v.querySelector("#robe-card .stats-column.item .stats-data")},staff:{icon:v.querySelector("#staff-card .stats-column.item .stats-image"),element:v.querySelector("#staff-card .stats-column.item .stats-data")}},spell:{teamBuff:{icon:v.querySelector("#emblem-card .stats-column.spell .stats-image"),name:v.querySelector("#emblem-card .stats-column.spell .stats-data"),desc:v.querySelector("#emblem-card .stats-column.spell .stats-description")},offensiveSpell:{icon:v.querySelector("#hat-card .stats-column.spell .stats-image"),name:v.querySelector("#hat-card .stats-column.spell .stats-data"),desc:v.querySelector("#hat-card .stats-column.spell .stats-description")},ultimateSpell:{icon:v.querySelector("#robe-card .stats-column.spell .stats-image"),name:v.querySelector("#robe-card .stats-column.spell .stats-data"),desc:v.querySelector("#robe-card .stats-column.spell .stats-description")},defensiveSpell:{icon:v.querySelector("#staff-card .stats-column.spell .stats-image"),name:v.querySelector("#staff-card .stats-column.spell .stats-data"),desc:v.querySelector("#staff-card .stats-column.spell .stats-description")}}}}function er(){const l=document.querySelector(".is--mobile-stats-card");return{item:{emblem:{icon:l.querySelector("#mobile-emblem .stats-image"),element:l.querySelector("#mobile-emblem .stats-data")},hat:{icon:l.querySelector("#mobile-hat  .stats-image"),element:l.querySelector("#mobile-hat  .stats-data")},robe:{icon:l.querySelector("#mobile-robe .stats-image"),element:l.querySelector("#mobile-robe .stats-data")},staff:{icon:l.querySelector("#mobile-staff .stats-image"),element:l.querySelector("#mobile-staff .stats-data")}},spell:{teamBuff:{icon:l.querySelector("#mobile-team-buff .stats-image"),name:l.querySelector("#mobile-team-buff .stats-data"),desc:l.querySelector("#mobile-team-buff .stats-description")},offensiveSpell:{icon:l.querySelector("#mobile-offensive .stats-image"),name:l.querySelector("#mobile-offensive .stats-data"),desc:l.querySelector("#mobile-offensive .stats-description")},ultimateSpell:{icon:l.querySelector("#mobile-ultimate .stats-image"),name:l.querySelector("#mobile-ultimate .stats-data"),desc:l.querySelector("#mobile-ultimate .stats-description")},defensiveSpell:{icon:l.querySelector("#mobile-defensive .stats-image"),name:l.querySelector("#mobile-defensive .stats-data"),desc:l.querySelector("#mobile-defensive .stats-description")}}}}window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{jn(),Yn(),Xn(),Nn(),$n(),Hn(),Zn(),Qn()});
