function Wn(c,v=document){return typeof c=="string"?Array.from(v.querySelectorAll(c)):c instanceof Element?[c]:c instanceof NodeList?Array.from(c):c instanceof Array?c:[]}function mn(c){return`scrollama__debug-offset--${c}`}function kn({id:c,offsetVal:v,stepClass:_}){const y=document.createElement("div");y.id=mn(c),y.className="scrollama__debug-offset",y.style.position="fixed",y.style.left="0",y.style.width="100%",y.style.height="0",y.style.borderTop="2px dashed black",y.style.zIndex="9999";const P=document.createElement("p");P.innerHTML=`".${_}" trigger: <span>${v}</span>`,P.style.fontSize="12px",P.style.fontFamily="monospace",P.style.color="black",P.style.margin="0",P.style.padding="6px",y.appendChild(P),document.body.appendChild(y)}function jn({id:c,offsetVal:v,stepEl:_}){const y=_[0].className;kn({id:c,offsetVal:v,stepClass:y})}function Dn({id:c,offsetMargin:v,offsetVal:_,format:y}){const P=y==="pixels"?"px":"",I=mn(c),q=document.getElementById(I);q.style.top=`${v}px`,q.querySelector("span").innerText=`${_}${P}`}function dn({id:c,index:v,state:_}){const y=`scrollama__debug-step--${c}-${v}`,P=document.getElementById(`${y}_above`),I=document.getElementById(`${y}_below`),q=_==="enter"?"block":"none";P&&(P.style.display=q),I&&(I.style.display=q)}function It(){const c=["stepAbove","stepBelow","stepProgress","viewportAbove","viewportBelow"];let v={},_={},y=null,P=[],I=[],q=[],Y=[],G=0,re=0,ie=0,he=0,B=0,h=0,Te=!1,Re=!1,be=!1,Pe=!1,de=!1,Ue=!1,F="down",we="percent";const ge=[];function pe(g){console.error(`scrollama error: ${g}`)}function Fe(){v={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},_={}}function Ne(){const g="abcdefghijklmnopqrstuv",A=g.length,C=Date.now();return`${[0,0,0].map(Q=>g[Math.floor(Math.random()*A)]).join("")}${C}`}function oe(g){const{top:A}=g.getBoundingClientRect(),C=window.pageYOffset,M=document.body.clientTop||0;return A+C-M}function Me(){const{body:g}=document,A=document.documentElement;return Math.max(g.scrollHeight,g.offsetHeight,A.clientHeight,A.scrollHeight,A.offsetHeight)}function a(g){return+g.getAttribute("data-scrollama-index")}function n(){window.pageYOffset>B?F="down":window.pageYOffset<B&&(F="up"),B=window.pageYOffset}function o(g){_[g]&&_[g].forEach(A=>A.disconnect())}function m(){ie=window.innerHeight,he=Me(),re=G*(we==="pixels"?1:ie),Te&&(I=P.map(A=>A.getBoundingClientRect().height),q=P.map(oe),Re&&$e()),be&&Dn({id:y,offsetMargin:re,offsetVal:G,format:we})}function w(g){if(g&&!Re)if(Te)$e();else{pe("scrollama error: enable() called before scroller was ready"),Re=!1;return}!g&&Re&&c.forEach(o),Re=g}function T(g){const A=Math.ceil(g/h),C=[],M=1/A;for(let Q=0;Q<A;Q+=1)C.push(Q*M);return C}function S(g,A){const C=a(g);A!==void 0&&(Y[C].progress=A);const M={element:g,index:C,progress:Y[C].progress};Y[C].state==="enter"&&v.stepProgress(M)}function W(g,A){if(A==="above")for(let C=0;C<g;C+=1){const M=Y[C];M.state!=="enter"&&M.direction!=="down"?(N(P[C],"down",!1),R(P[C],"down")):M.state==="enter"&&R(P[C],"down")}else if(A==="below")for(let C=Y.length-1;C>g;C-=1){const M=Y[C];M.state==="enter"&&R(P[C],"up"),M.direction==="down"&&(N(P[C],"up",!1),R(P[C],"up"))}}function N(g,A,C=!0){const M=a(g),Q={element:g,index:M,direction:A};Y[M].direction=A,Y[M].state="enter",de&&C&&A==="down"&&W(M,"above"),de&&C&&A==="up"&&W(M,"below"),v.stepEnter&&!ge[M]&&(v.stepEnter(Q,Y),be&&dn({id:y,index:M,state:"enter"}),Ue&&(ge[M]=!0)),Pe&&S(g)}function R(g,A){const C=a(g),M={element:g,index:C,direction:A};Pe&&(A==="down"&&Y[C].progress<1?S(g,1):A==="up"&&Y[C].progress>0&&S(g,0)),Y[C].direction=A,Y[C].state="exit",v.stepExit(M,Y),be&&dn({id:y,index:C,state:"exit"})}function V([g]){n();const{isIntersecting:A,boundingClientRect:C,target:M}=g,{top:Q,bottom:le}=C,J=Q-re,U=le-re,_e=a(M),Se=Y[_e];A&&J<=0&&U>=0&&F==="down"&&Se.state!=="enter"&&N(M,F),!A&&J>0&&F==="up"&&Se.state==="enter"&&R(M,F)}function me([g]){n();const{isIntersecting:A,boundingClientRect:C,target:M}=g,{top:Q,bottom:le}=C,J=Q-re,U=le-re,_e=a(M),Se=Y[_e];A&&J<=0&&U>=0&&F==="up"&&Se.state!=="enter"&&N(M,F),!A&&U<0&&F==="down"&&Se.state==="enter"&&R(M,F)}function Ce([g]){n();const{isIntersecting:A,target:C}=g,M=a(C),Q=Y[M];A&&F==="down"&&Q.direction!=="down"&&Q.state!=="enter"&&(N(C,"down"),R(C,"down"))}function ae([g]){n();const{isIntersecting:A,target:C}=g,M=a(C),Q=Y[M];A&&F==="up"&&Q.direction==="down"&&Q.state!=="enter"&&(N(C,"up"),R(C,"up"))}function Le([g]){n();const{isIntersecting:A,intersectionRatio:C,boundingClientRect:M,target:Q}=g,{bottom:le}=M,J=le-re;A&&J>=0&&S(Q,+C)}function Ae(){_.viewportAbove=P.map((g,A)=>{const C=he-q[A],M=re-ie-I[A],le={rootMargin:`${C}px 0px ${M}px 0px`},J=new IntersectionObserver(Ce,le);return J.observe(g),J})}function He(){_.viewportBelow=P.map((g,A)=>{const C=-re-I[A],M=re-ie+I[A]+he,le={rootMargin:`${C}px 0px ${M}px 0px`},J=new IntersectionObserver(ae,le);return J.observe(g),J})}function pt(){_.stepAbove=P.map((g,A)=>{const C=-re+I[A],M=re-ie,le={rootMargin:`${C}px 0px ${M}px 0px`},J=new IntersectionObserver(V,le);return J.observe(g),J})}function Ft(){_.stepBelow=P.map((g,A)=>{const C=-re,M=re-ie+I[A],le={rootMargin:`${C}px 0px ${M}px 0px`},J=new IntersectionObserver(me,le);return J.observe(g),J})}function ke(){_.stepProgress=P.map((g,A)=>{const C=I[A]-re,M=-ie+re,Q=`${C}px 0px ${M}px 0px`,le=T(I[A]),J={rootMargin:Q,threshold:le},U=new IntersectionObserver(Le,J);return U.observe(g),U})}function $e(){c.forEach(o),Ae(),He(),pt(),Ft(),Pe&&ke()}function Ze(){P.forEach((g,A)=>g.setAttribute("data-scrollama-index",A))}function mt(){Y=P.map(()=>({direction:null,state:null,progress:0}))}function xe(){be&&jn({id:y,stepEl:P,offsetVal:G})}function vt(g){const A=window.getComputedStyle(g);return(A.overflowY==="scroll"||A.overflowY==="auto")&&g.scrollHeight>g.clientHeight}function at(g){return g&&g.nodeType===1?vt(g)?g:at(g.parentNode):!1}const se={};return se.setup=({step:g,parent:A,offset:C=.5,progress:M=!1,threshold:Q=4,debug:le=!1,order:J=!0,once:U=!1})=>{if(Fe(),y=Ne(),P=Wn(g,A),!P.length)return pe("no step elements"),se;const _e=P.reduce((Se,gt)=>Se||at(gt.parentNode),!1);return _e&&console.error("scrollama error: step elements cannot be children of a scrollable element. Remove any css on the parent element with overflow: scroll; or overflow: auto; on elements with fixed height.",_e),be=le,Pe=M,de=J,Ue=U,se.offsetTrigger(C),h=Math.max(1,+Q),Te=!0,xe(),Ze(),mt(),m(),se.enable(),se},se.resize=()=>(m(),se),se.enable=()=>(w(!0),se),se.disable=()=>(w(!1),se),se.destroy=()=>{w(!1),Fe()},se.offsetTrigger=g=>{if(g===null)return G;if(typeof g=="number")we="percent",g>1&&pe("offset value is greater than 1. Fallback to 1."),g<0&&pe("offset value is lower than 0. Fallback to 0."),G=Math.min(Math.max(0,g),1);else if(typeof g=="string"&&g.indexOf("px")>0){const A=+g.replace("px","");isNaN(A)?(pe("offset value must be in 'px' format. Fallback to 0.5."),G=.5):(we="pixels",G=A)}else pe("offset value does not include 'px'. Fallback to 0.5."),G=.5;return se},se.onStepEnter=g=>(typeof g=="function"?v.stepEnter=g:pe("onStepEnter requires a function"),se),se.onStepExit=g=>(typeof g=="function"?v.stepExit=g:pe("onStepExit requires a function"),se),se.onStepProgress=g=>(typeof g=="function"?v.stepProgress=g:pe("onStepProgress requires a function"),se),se}function Vn(){const c=It(),v=document.querySelector(".navigation");window.scrollY>32&&v.classList.add("is--sticky"),c.setup({step:".navbar-trigger",offset:"16px",debug:!1,progress:!0,threshold:1}).onStepExit(_=>{_.direction==="down"?v.classList.add("is--sticky"):[...v.classList].includes("is--sticky")&&v.classList.remove("is--sticky")}).onStepProgress(_=>{_.progress<1&&[...v.classList].includes("is--sticky")&&v.classList.remove("is--sticky")})}function Yn(){const c=document.querySelector(".navigation");c.classList.contains("is--mobile-active")?c.classList.remove("is--mobile-active"):c.classList.add("is--mobile-active")}function Xn(){const c=document.querySelector(".text-box.is--mobile-stats");c.classList.contains("is--active")?c.classList.remove("is--active"):c.classList.add("is--active")}function Nn(){document.querySelector(".mobile-menu-button").addEventListener("click",Yn)}function Hn(){document.querySelector(".drawer-title").addEventListener("click",Xn)}function $n(){const c=It(),v=document.querySelector("#path"),_=v.getTotalLength();v.style.strokeDasharray=_,v.style.strokeDashoffset=_,c.setup({step:"#ritual",offset:.5,progress:!0,debug:!1,threshold:1}).onStepProgress(y=>{let P=_*y.progress;v.style.strokeDashoffset=_-P})}function zn(){let c=document.querySelectorAll("template.land");c=[...c].map(I=>({name:I.content.querySelector(".name"),image:I.content.querySelector("img"),coordinates:I.content.querySelector(".coordinates"),type:I.content.querySelector(".type"),element:I.content.querySelector(".element"),rarity:I.content.querySelector(".rarity"),power:I.content.querySelector(".power")}));let v=document.querySelector(".land-slider");v={image:v.querySelector(".land-photo__image"),type:v.querySelector("#land-type"),coordinates:v.querySelector("#land-coordinates"),element:v.querySelector("#land-element"),rarity:v.querySelector("#land-rarity"),power:v.querySelector("#land-power")},Ht(0,c,v);let _=0;document.querySelector("#land-left").addEventListener("click",I=>{I.preventDefault(),_-=1,_<0&&(_=c.length-1),Ht(_,c,v)}),document.querySelector("#land-right").addEventListener("click",I=>{I.preventDefault(),_+=1,Ht(_,c,v)})}function Ht(c,v,_){const y=document.querySelector(".land-photo__shadow"),P=y.cloneNode(!0);y.parentNode.replaceChild(P,y),c=c%v.length,_.image.replaceChildren(v[c].image),_.type.replaceChildren(v[c].type),_.coordinates.replaceChildren(v[c].coordinates),_.element.replaceChildren(v[c].element),_.rarity.replaceChildren(v[c].rarity),_.power.replaceChildren(v[c].power)}function Gn(){const c=It(),v=It(),_=document.querySelectorAll(".text-box.is--summoning-box"),y=document.querySelectorAll(".ritual-image"),P=document.querySelector(".play-info-section");[..._].forEach(I=>{I.classList.contains("is--active")&&I.classList.remove("is--active")}),[...y].forEach(I=>{I.classList.contains("is--active")&&I.classList.remove("is--active")}),P.classList.contains("is--active")&&P.classList.remove("is--active"),c.setup({step:"#ritual-animation-start",offset:.5,progress:!1,debug:!1,threshold:2}).onStepEnter(I=>{I.direction==="down"?([..._].forEach(q=>rt(q)),rt(P)):([..._].forEach(q=>it(q)),it(P))}).onStepExit(I=>{I.direction==="down"?([..._].forEach(q=>rt(q)),rt(P)):([..._].forEach(q=>it(q)),it(P))}),v.setup({step:"#ritual-animation-middle",offset:.5,progress:!1,debug:!1,threshold:2}).onStepEnter(I=>{I.direction==="down"?[...y].forEach(q=>rt(q)):[...y].forEach(q=>it(q))}).onStepExit(I=>{I.direction==="down"?[...y].forEach(q=>rt(q)):[...y].forEach(q=>it(q))})}function rt(c){c.classList.contains("is--active")||c.classList.add("is--active")}function it(c){c.classList.contains("is--active")&&c.classList.remove("is--active")}var Zn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qn(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var vn={exports:{}};(function(c,v){(function(y,P){c.exports=P()})(Zn,function(){return(()=>{var _=[,(q,Y,G)=>{G.r(Y),G.d(Y,{default:()=>ie});var re=(()=>{var he=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(B){B=B||{};var h;h||(h=typeof B<"u"?B:{});var Te,Re;h.ready=new Promise(function(t,e){Te=t,Re=e});function be(){function t(f){const l=i;r=e=0,i=new Map,l.forEach(p=>{try{p(f)}catch(d){console.error(d)}}),this.La(),s&&s.fb()}let e=0,r=0,i=new Map,s=null,u=null;this.requestAnimationFrame=function(f){e||(e=requestAnimationFrame(t.bind(this)));const l=++r;return i.set(l,f),l},this.cancelAnimationFrame=function(f){i.delete(f),e&&i.size==0&&(cancelAnimationFrame(e),e=0)},this.cb=function(f){u&&(document.body.remove(u),u=null),f||(u=document.createElement("div"),u.style.backgroundColor="black",u.style.position="fixed",u.style.right=0,u.style.top=0,u.style.color="white",u.style.padding="4px",u.innerHTML="RIVE FPS",f=function(l){u.innerHTML="RIVE FPS "+l.toFixed(1)},document.body.appendChild(u)),s=new function(){let l=0,p=0;this.fb=function(){var d=performance.now();p?(++l,d-=p,1e3<d&&(f(1e3*l/d),l=p=0)):(p=d,l=0)}}},this.$a=function(){u&&(document.body.remove(u),u=null),s=null},this.La=function(){}}function Pe(t){console.assert(!0);const e=new Map;let r=-1/0;this.push=function(i){return i=i+((1<<t)-1)>>t,e.has(i)&&clearTimeout(e.get(i)),e.set(i,setTimeout(function(){e.delete(i),e.length==0?r=-1/0:i==r&&(r=Math.max(...e.keys()),console.assert(r<i))},1e3)),r=Math.max(i,r),r<<t}}const de=new function(){function t(){if(!e){let ue=function(X,H,ne){if(H=O.createShader(H),O.shaderSource(H,ne),O.compileShader(H),ne=O.getShaderInfoLog(H),0<ne.length)throw ne;O.attachShader(X,H)};var k=ue,L=document.createElement("canvas"),D={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let O=L.getContext("webgl2",D);if(O)r=2;else if(O=L.getContext("webgl",D))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(i=Math.min(O.getParameter(O.MAX_RENDERBUFFER_SIZE),O.getParameter(O.MAX_TEXTURE_SIZE)),L=O.createProgram(),ue(L,O.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),ue(L,O.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),O.bindAttribLocation(L,0,"vertex"),O.bindAttribLocation(L,1,"uv"),O.linkProgram(L),D=O.getProgramInfoLog(L),0<D.length)throw D;s=O.getUniformLocation(L,"mat"),u=O.getUniformLocation(L,"translate"),O.useProgram(L),O.bindBuffer(O.ARRAY_BUFFER,O.createBuffer()),O.enableVertexAttribArray(0),O.enableVertexAttribArray(1),O.bindBuffer(O.ELEMENT_ARRAY_BUFFER,O.createBuffer()),O.uniform1i(O.getUniformLocation(L,"image"),0),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e=O}return!0}let e=null,r=0,i=0,s=null,u=null,f=0,l=0;this.ob=function(){return t(),i},this.Ya=function(L){if(!t())return null;const D=e.createTexture();return e.bindTexture(e.TEXTURE_2D,D),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,L),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),r==2?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_LINEAR),e.generateMipmap(e.TEXTURE_2D)):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),D};const p=new Pe(8),d=new Pe(8),E=new Pe(10),x=new Pe(10);this.bb=function(L,D,k,O,ue){if(t()){var X=p.push(L),H=d.push(D);(e.canvas.width!=X||e.canvas.height!=H)&&(e.canvas.width=X,e.canvas.height=H),e.viewport(0,H-D,L,D),e.disable(e.SCISSOR_TEST),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT),e.enable(e.SCISSOR_TEST),k.sort(($,Ge)=>Ge.Oa-$.Oa),X=E.push(O),f!=X&&(e.bufferData(e.ARRAY_BUFFER,8*X,e.DYNAMIC_DRAW),f=X),X=0;for(var ne of k)e.bufferSubData(e.ARRAY_BUFFER,X,ne.Aa),X+=4*ne.Aa.length;console.assert(X==4*O);for(var Ie of k)e.bufferSubData(e.ARRAY_BUFFER,X,Ie.Ra),X+=4*Ie.Ra.length;console.assert(X==8*O),X=x.push(ue),l!=X&&(e.bufferData(e.ELEMENT_ARRAY_BUFFER,2*X,e.DYNAMIC_DRAW),l=X),ne=0;for(var Xe of k)e.bufferSubData(e.ELEMENT_ARRAY_BUFFER,ne,Xe.indices),ne+=2*Xe.indices.length;console.assert(ne==2*ue),Xe=0,Ie=!0,X=ne=0;for(const $ of k){$.image.va!=Xe&&(e.bindTexture(e.TEXTURE_2D,$.image.Va||null),Xe=$.image.va),$.rb?(e.scissor($.Ea,H-$.Fa-$.Ka,$.yb,$.Ka),Ie=!0):Ie&&(e.scissor(0,H-D,L,D),Ie=!1),k=2/L;const Ge=-2/D;e.uniform4f(s,$.la[0]*k*$.ra,$.la[1]*Ge*$.sa,$.la[2]*k*$.ra,$.la[3]*Ge*$.sa),e.uniform2f(u,$.la[4]*k*$.ra+k*($.Ea-$.pb*$.ra)-1,$.la[5]*Ge*$.sa+Ge*($.Fa-$.qb*$.sa)+1),e.vertexAttribPointer(0,2,e.FLOAT,!1,0,X),e.vertexAttribPointer(1,2,e.FLOAT,!1,0,X+4*O),e.drawElements(e.TRIANGLES,$.indices.length,e.UNSIGNED_SHORT,ne),X+=4*$.Aa.length,ne+=2*$.indices.length}console.assert(X==4*O),console.assert(ne==2*ue)}},this.canvas=function(){return t()&&e.canvas}};B.onRuntimeInitialized=function(){function t(b){switch(b){case d.srcOver:return"source-over";case d.screen:return"screen";case d.overlay:return"overlay";case d.darken:return"darken";case d.lighten:return"lighten";case d.colorDodge:return"color-dodge";case d.colorBurn:return"color-burn";case d.hardLight:return"hard-light";case d.softLight:return"soft-light";case d.difference:return"difference";case d.exclusion:return"exclusion";case d.multiply:return"multiply";case d.hue:return"hue";case d.saturation:return"saturation";case d.color:return"color";case d.luminosity:return"luminosity"}}function e(b){return"rgba("+((16711680&b)>>>16)+","+((65280&b)>>>8)+","+((255&b)>>>0)+","+((4278190080&b)>>>24)/255+")"}function r(){0<ne.length&&(de.bb(H.drawWidth(),H.drawHeight(),ne,Ie,Xe),ne=[],Xe=Ie=0,H.reset(512,512));for(const b of X){for(const j of b.da)j();b.da=[]}X.clear()}var i=B.RenderPaintStyle;const s=B.RenderPath,u=B.RenderPaint,f=B.Renderer,l=B.StrokeCap,p=B.StrokeJoin,d=B.BlendMode,E=i.fill,x=i.stroke,L=B.FillRule.evenOdd;let D=1;var k=B.RenderImage.extend("CanvasRenderImage",{__construct:function(){this.__parent.__construct.call(this),this.va=D,D=D+1&2147483647||1},decode:function(b){let j=Nt;j.total++;var te=this,Z=new Image;Z.src=URL.createObjectURL(new Blob([b],{type:"image/png"})),Z.onload=function(){if(te.Ta=Z,te.Va=de.Ya(Z),te.size(Z.width,Z.height),j.loaded++,j.loaded===j.total){const ee=j.ready;ee&&(ee(),j.ready=null)}}}}),O=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.ga=new Path2D},reset:function(){this.ga=new Path2D},addPath:function(b,j,te,Z,ee,ce,z){var K=this.ga,qe=K.addPath;b=b.ga;const ve=new DOMMatrix;ve.a=j,ve.b=te,ve.c=Z,ve.d=ee,ve.e=ce,ve.f=z,qe.call(K,b,ve)},fillRule:function(b){this.Ca=b},moveTo:function(b,j){this.ga.moveTo(b,j)},lineTo:function(b,j){this.ga.lineTo(b,j)},cubicTo:function(b,j,te,Z,ee,ce){this.ga.bezierCurveTo(b,j,te,Z,ee,ce)},close:function(){this.ga.closePath()}}),ue=u.extend("CanvasRenderPaint",{color:function(b){this.Da=e(b)},thickness:function(b){this.Wa=b},join:function(b){switch(b){case p.miter:this.ua="miter";break;case p.round:this.ua="round";break;case p.bevel:this.ua="bevel"}},cap:function(b){switch(b){case l.butt:this.ta="butt";break;case l.round:this.ta="round";break;case l.square:this.ta="square"}},style:function(b){this.Ua=b},blendMode:function(b){this.Sa=t(b)},linearGradient:function(b,j,te,Z){this.oa={Pa:b,Qa:j,Ha:te,Ia:Z,za:[]}},radialGradient:function(b,j,te,Z){this.oa={Pa:b,Qa:j,Ha:te,Ia:Z,za:[],mb:!0}},addStop:function(b,j){this.oa.za.push({color:b,stop:j})},completeGradient:function(){},draw:function(b,j,te){let Z=this.Ua;var ee=this.Da,ce=this.oa;if(b.globalCompositeOperation=this.Sa,ce!=null){ee=ce.Pa;var z=ce.Qa;const qe=ce.Ha;var K=ce.Ia;const ve=ce.za;ce.mb?(ce=qe-ee,K-=z,ee=b.createRadialGradient(ee,z,0,ee,z,Math.sqrt(ce*ce+K*K))):ee=b.createLinearGradient(ee,z,qe,K);for(let We=0,ye=ve.length;We<ye;We++)z=ve[We],ee.addColorStop(z.stop,e(z.color));this.Da=ee,this.oa=null}switch(Z){case x:b.strokeStyle=ee,b.lineWidth=this.Wa,b.lineCap=this.ta,b.lineJoin=this.ua,b.stroke(j);break;case E:b.fillStyle=ee,b.fill(j,te)}}});const X=new Set;let H=null,ne=[],Ie=0,Xe=0;var $=B.CanvasRenderer=f.extend("Renderer",{__construct:function(b){this.__parent.__construct.call(this),this.fa=[1,0,0,1,0,0],this.Z=b.getContext("2d"),this.Ba=b,this.da=[]},save:function(){this.fa.push(...this.fa.slice(this.fa.length-6)),this.da.push(this.Z.save.bind(this.Z))},restore:function(){const b=this.fa.length-6;if(6>b)throw"restore() called without matching save().";this.fa.splice(b),this.da.push(this.Z.restore.bind(this.Z))},transform:function(b,j,te,Z,ee,ce){const z=this.fa,K=z.length-6;z.splice(K,6,z[K]*b+z[K+2]*j,z[K+1]*b+z[K+3]*j,z[K]*te+z[K+2]*Z,z[K+1]*te+z[K+3]*Z,z[K]*ee+z[K+2]*ce+z[K+4],z[K+1]*ee+z[K+3]*ce+z[K+5]),this.da.push(this.Z.transform.bind(this.Z,b,j,te,Z,ee,ce))},rotate:function(b){const j=Math.sin(b);b=Math.cos(b),this.transform(b,j,-j,b,0,0)},_drawPath:function(b,j){this.da.push(j.draw.bind(j,this.Z,b.ga,b.Ca===L?"evenodd":"nonzero"))},_drawImage:function(b,j,te){var Z=b.Ta;if(Z){var ee=this.Z,ce=t(j);this.da.push(function(){ee.globalCompositeOperation=ce,ee.globalAlpha=te,ee.drawImage(Z,0,0),ee.globalAlpha=1})}},_getMatrix:function(b){const j=this.fa,te=j.length-6;for(let Z=0;6>Z;++Z)b[Z]=j[te+Z]},_drawImageMesh:function(b,j,te,Z,ee,ce,z,K,qe,ve){var We=this.Z.canvas.width,ye=this.Z.canvas.height;const un=qe-z,cn=ve-K;z=Math.max(z,0),K=Math.max(K,0),qe=Math.min(qe,We),ve=Math.min(ve,ye);const dt=qe-z,ht=ve-K;if(console.assert(dt<=Math.min(un,We)),console.assert(ht<=Math.min(cn,ye)),!(0>=dt||0>=ht)){qe=dt<un||ht<cn,We=ve=1;var Ke=Math.ceil(dt*ve),Je=Math.ceil(ht*We);ye=de.ob(),Ke>ye&&(ve*=ye/Ke,Ke=ye),Je>ye&&(We*=ye/Je,Je=ye),H||(H=new h.DynamicRectanizer(ye),H.reset(512,512)),ye=H.addRect(Ke,Je),0>ye&&(r(),X.add(this),ye=H.addRect(Ke,Je),console.assert(0<=ye));var ln=ye&65535,fn=ye>>16;ne.push({la:this.fa.slice(this.fa.length-6),image:b,Ea:ln,Fa:fn,pb:z,qb:K,yb:Ke,Ka:Je,ra:ve,sa:We,Aa:new Float32Array(Z),Ra:new Float32Array(ee),indices:new Uint16Array(ce),rb:qe,Oa:b.va<<1|(qe?1:0)}),Ie+=Z.length,Xe+=ce.length;var nt=this.Z,Bn=t(j);this.da.push(function(){nt.save(),nt.resetTransform(),nt.globalCompositeOperation=Bn,nt.globalAlpha=te,nt.drawImage(de.canvas(),ln,fn,Ke,Je,z,K,dt,ht),nt.restore()})}},_clipPath:function(b){this.da.push(this.Z.clip.bind(this.Z,b.ga,b.Ca===L?"evenodd":"nonzero"))},clear:function(){X.add(this),this.da.push(this.Z.clearRect.bind(this.Z,0,0,this.Ba.width,this.Ba.height))},flush:function(){},translate:function(b,j){this.transform(1,0,0,1,b,j)}});B.makeRenderer=function(b){return new $(b)},B.renderFactory={makeRenderPaint:function(){return new ue},makeRenderPath:function(){return new O},makeRenderImage:function(){return new k}};let Ge=B.load,Nt=null;B.load=function(b){return new Promise(function(j){let te=null;Nt={total:0,loaded:0,ready:function(){j(te)}},te=Ge(b),Nt.total==0&&j(te)})},i=new be,B.requestAnimationFrame=i.requestAnimationFrame.bind(i),B.cancelAnimationFrame=i.cancelAnimationFrame.bind(i),B.enableFPSCounter=i.cb.bind(i),B.disableFPSCounter=i.$a,i.La=r,B.cleanup=function(){H&&H.delete()}};var Ue=Object.assign({},h),F=typeof window=="object",we=typeof importScripts=="function",ge="",pe,Fe;(F||we)&&(we?ge=self.location.href:typeof document<"u"&&document.currentScript&&(ge=document.currentScript.src),he&&(ge=he),ge.indexOf("blob:")!==0?ge=ge.substr(0,ge.replace(/[?#].*/,"").lastIndexOf("/")+1):ge="",we&&(Fe=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),pe=(t,e,r)=>{var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=()=>{i.status==200||i.status==0&&i.response?e(i.response):r()},i.onerror=r,i.send(null)});var Ne=h.print||console.log.bind(console),oe=h.printErr||console.warn.bind(console);Object.assign(h,Ue),Ue=null;var Me;h.wasmBinary&&(Me=h.wasmBinary),h.noExitRuntime,typeof WebAssembly!="object"&&Ze("no native wasm support detected");var a,n=!1,o=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function m(t,e,r){var i=e+r;for(r=e;t[r]&&!(r>=i);)++r;if(16<r-e&&t.buffer&&o)return o.decode(t.subarray(e,r));for(i="";e<r;){var s=t[e++];if(s&128){var u=t[e++]&63;if((s&224)==192)i+=String.fromCharCode((s&31)<<6|u);else{var f=t[e++]&63;s=(s&240)==224?(s&15)<<12|u<<6|f:(s&7)<<18|u<<12|f<<6|t[e++]&63,65536>s?i+=String.fromCharCode(s):(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else i+=String.fromCharCode(s)}return i}var w,T,S,W,N,R,V,me,Ce;function ae(){var t=a.buffer;w=t,h.HEAP8=T=new Int8Array(t),h.HEAP16=W=new Int16Array(t),h.HEAP32=R=new Int32Array(t),h.HEAPU8=S=new Uint8Array(t),h.HEAPU16=N=new Uint16Array(t),h.HEAPU32=V=new Uint32Array(t),h.HEAPF32=me=new Float32Array(t),h.HEAPF64=Ce=new Float64Array(t)}var Le,Ae=[],He=[],pt=[];function Ft(){var t=h.preRun.shift();Ae.unshift(t)}var ke=0,$e=null;function Ze(t){throw h.onAbort&&h.onAbort(t),t="Aborted("+t+")",oe(t),n=!0,t=new WebAssembly.RuntimeError(t+". Build with -sASSERTIONS for more info."),Re(t),t}function mt(){return xe.startsWith("data:application/octet-stream;base64,")}var xe;if(xe="canvas_advanced.wasm",!mt()){var vt=xe;xe=h.locateFile?h.locateFile(vt,ge):ge+vt}function at(){var t=xe;try{if(t==xe&&Me)return new Uint8Array(Me);if(Fe)return Fe(t);throw"both async and sync fetching of the wasm failed"}catch(e){Ze(e)}}function se(){if(!Me&&(F||we)){if(typeof fetch=="function"&&!xe.startsWith("file://"))return fetch(xe,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+xe+"'";return t.arrayBuffer()}).catch(function(){return at()});if(pe)return new Promise(function(t,e){pe(xe,function(r){t(new Uint8Array(r))},e)})}return Promise.resolve().then(function(){return at()})}function g(t){for(;0<t.length;)t.shift()(h)}function A(t){if(t===void 0)return"_unknown";t=t.replace(/[^a-zA-Z0-9_]/g,"$");var e=t.charCodeAt(0);return 48<=e&&57>=e?"_"+t:t}function C(t,e){return t=A(t),function(){return e.apply(this,arguments)}}var M=[{},{value:void 0},{value:null},{value:!0},{value:!1}],Q=[];function le(t){var e=Error,r=C(t,function(i){this.name=t,this.message=i,i=Error(i).stack,i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},r}var J=void 0;function U(t){throw new J(t)}var _e=t=>(t||U("Cannot use deleted val. handle = "+t),M[t].value),Se=t=>{switch(t){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var e=Q.length?Q.pop():M.length;return M[e]={ya:1,value:t},e}},gt=void 0,$t=void 0;function fe(t){for(var e="";S[t];)e+=$t[S[t++]];return e}var st=[];function qt(){for(;st.length;){var t=st.pop();t.U.ka=!1,t.delete()}}var ut=void 0,je={};function Bt(t,e){for(e===void 0&&U("ptr should not be undefined");t.$;)e=t.na(e),t=t.$;return e}var Qe={};function zt(t){t=an(t);var e=fe(t);return Ye(t),e}function ct(t,e){var r=Qe[t];return r===void 0&&U(e+" has unknown type "+zt(t)),r}function yt(){}var Wt=!1;function Gt(t){--t.count.value,t.count.value===0&&(t.aa?t.ca.ha(t.aa):t.X.V.ha(t.W))}function Zt(t,e,r){return e===r?t:r.$===void 0?null:(t=Zt(t,e,r.$),t===null?null:r.ab(t))}var Qt={};function gn(t,e){return e=Bt(t,e),je[e]}var Kt=void 0;function bt(t){throw new Kt(t)}function wt(t,e){return e.X&&e.W||bt("makeClassHandle requires ptr and ptrType"),!!e.ca!=!!e.aa&&bt("Both smartPtrType and smartPtr must be specified"),e.count={value:1},et(Object.create(t,{U:{value:e}}))}function et(t){return typeof FinalizationRegistry>"u"?(et=e=>e,t):(Wt=new FinalizationRegistry(e=>{Gt(e.U)}),et=e=>{var r=e.U;return r.aa&&Wt.register(e,{U:r},e),e},yt=e=>{Wt.unregister(e)},et(t))}var St={};function lt(t){for(;t.length;){var e=t.pop();t.pop()(e)}}function ft(t){return this.fromWireType(R[t>>2])}var tt={},Et={};function Oe(t,e,r){function i(l){l=r(l),l.length!==t.length&&bt("Mismatched type converter count");for(var p=0;p<t.length;++p)Be(t[p],l[p])}t.forEach(function(l){Et[l]=e});var s=Array(e.length),u=[],f=0;e.forEach((l,p)=>{Qe.hasOwnProperty(l)?s[p]=Qe[l]:(u.push(l),tt.hasOwnProperty(l)||(tt[l]=[]),tt[l].push(()=>{s[p]=Qe[l],++f,f===u.length&&i(s)}))}),u.length===0&&i(s)}function Tt(t){switch(t){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+t)}}function Be(t,e,r={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");var i=e.name;if(t||U('type "'+i+'" must have a positive integer typeid pointer'),Qe.hasOwnProperty(t)){if(r.lb)return;U("Cannot register type '"+i+"' twice")}Qe[t]=e,delete Et[t],tt.hasOwnProperty(t)&&(e=tt[t],delete tt[t],e.forEach(s=>s()))}function kt(t){U(t.U.X.V.name+" instance already deleted")}function ze(){}function jt(t,e,r){if(t[e].Y===void 0){var i=t[e];t[e]=function(){return t[e].Y.hasOwnProperty(arguments.length)||U("Function '"+r+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+t[e].Y+")!"),t[e].Y[arguments.length].apply(this,arguments)},t[e].Y=[],t[e].Y[i.ja]=i}}function Dt(t,e,r){h.hasOwnProperty(t)?((r===void 0||h[t].Y!==void 0&&h[t].Y[r]!==void 0)&&U("Cannot register public name '"+t+"' twice"),jt(h,t,t),h.hasOwnProperty(r)&&U("Cannot register multiple overloads of a function with the same number of arguments ("+r+")!"),h[t].Y[r]=e):(h[t]=e,r!==void 0&&(h[t].zb=r))}function yn(t,e,r,i,s,u,f,l){this.name=t,this.constructor=e,this.ea=r,this.ha=i,this.$=s,this.gb=u,this.na=f,this.ab=l,this.Ma=[]}function Pt(t,e,r){for(;e!==r;)e.na||U("Expected null or instance of "+r.name+", got an instance of "+e.name),t=e.na(t),e=e.$;return t}function bn(t,e){return e===null?(this.wa&&U("null is not a valid "+this.name),0):(e.U||U('Cannot pass "'+Yt(e)+'" as a '+this.name),e.U.W||U("Cannot pass deleted object as a pointer of type "+this.name),Pt(e.U.W,e.U.X.V,this.V))}function wn(t,e){if(e===null){if(this.wa&&U("null is not a valid "+this.name),this.qa){var r=this.xa();return t!==null&&t.push(this.ha,r),r}return 0}if(e.U||U('Cannot pass "'+Yt(e)+'" as a '+this.name),e.U.W||U("Cannot pass deleted object as a pointer of type "+this.name),!this.pa&&e.U.X.pa&&U("Cannot convert argument of type "+(e.U.ca?e.U.ca.name:e.U.X.name)+" to parameter type "+this.name),r=Pt(e.U.W,e.U.X.V,this.V),this.qa)switch(e.U.aa===void 0&&U("Passing raw pointer to smart pointer is illegal"),this.xb){case 0:e.U.ca===this?r=e.U.aa:U("Cannot convert argument of type "+(e.U.ca?e.U.ca.name:e.U.X.name)+" to parameter type "+this.name);break;case 1:r=e.U.aa;break;case 2:if(e.U.ca===this)r=e.U.aa;else{var i=e.clone();r=this.tb(r,Se(function(){i.delete()})),t!==null&&t.push(this.ha,r)}break;default:U("Unsupporting sharing policy")}return r}function Sn(t,e){return e===null?(this.wa&&U("null is not a valid "+this.name),0):(e.U||U('Cannot pass "'+Yt(e)+'" as a '+this.name),e.U.W||U("Cannot pass deleted object as a pointer of type "+this.name),e.U.X.pa&&U("Cannot convert argument of type "+e.U.X.name+" to parameter type "+this.name),Pt(e.U.W,e.U.X.V,this.V))}function De(t,e,r,i){this.name=t,this.V=e,this.wa=r,this.pa=i,this.qa=!1,this.ha=this.tb=this.xa=this.Na=this.xb=this.sb=void 0,e.$!==void 0?this.toWireType=wn:(this.toWireType=i?bn:Sn,this.ba=null)}function Jt(t,e,r){h.hasOwnProperty(t)||bt("Replacing nonexistant public symbol"),h[t].Y!==void 0&&r!==void 0?h[t].Y[r]=e:(h[t]=e,h[t].ja=r)}function En(t,e){var r=[];return function(){if(r.length=0,Object.assign(r,arguments),t.includes("j")){var i=h["dynCall_"+t];i=r&&r.length?i.apply(null,[e].concat(r)):i.call(null,e)}else i=Le.get(e).apply(null,r);return i}}function Ee(t,e){t=fe(t);var r=t.includes("j")?En(t,e):Le.get(e);return typeof r!="function"&&U("unknown function pointer with signature "+t+": "+e),r}var en=void 0;function Ve(t,e){function r(u){s[u]||Qe[u]||(Et[u]?Et[u].forEach(r):(i.push(u),s[u]=!0))}var i=[],s={};throw e.forEach(r),new en(t+": "+i.map(zt).join([", "]))}function At(t,e,r,i,s){var u=e.length;2>u&&U("argTypes array size mismatch! Must at least get return value and 'this' types!");var f=e[1]!==null&&r!==null,l=!1;for(r=1;r<e.length;++r)if(e[r]!==null&&e[r].ba===void 0){l=!0;break}var p=e[0].name!=="void",d=u-2,E=Array(d),x=[],L=[];return function(){if(arguments.length!==d&&U("function "+t+" called with "+arguments.length+" arguments, expected "+d+" args!"),L.length=0,x.length=f?2:1,x[0]=s,f){var D=e[1].toWireType(L,this);x[1]=D}for(var k=0;k<d;++k)E[k]=e[k+2].toWireType(L,arguments[k]),x.push(E[k]);if(k=i.apply(null,x),l)lt(L);else for(var O=f?1:2;O<e.length;O++){var ue=O===1?D:E[O-2];e[O].ba!==null&&e[O].ba(ue)}return D=p?e[0].fromWireType(k):void 0,D}}function _t(t,e){for(var r=[],i=0;i<t;i++)r.push(V[e+4*i>>2]);return r}function tn(t,e,r){return t instanceof Object||U(r+' with invalid "this": '+t),t instanceof e.V.constructor||U(r+' incompatible with "this" of type '+t.constructor.name),t.U.W||U("cannot call emscripten binding method "+r+" on deleted object"),Pt(t.U.W,t.U.X.V,e.V)}function Vt(t){4<t&&--M[t].ya===0&&(M[t]=void 0,Q.push(t))}function Tn(t,e,r){switch(e){case 0:return function(i){return this.fromWireType((r?T:S)[i])};case 1:return function(i){return this.fromWireType((r?W:N)[i>>1])};case 2:return function(i){return this.fromWireType((r?R:V)[i>>2])};default:throw new TypeError("Unknown integer type: "+t)}}function Yt(t){if(t===null)return"null";var e=typeof t;return e==="object"||e==="array"||e==="function"?t.toString():""+t}function Pn(t,e){switch(e){case 2:return function(r){return this.fromWireType(me[r>>2])};case 3:return function(r){return this.fromWireType(Ce[r>>3])};default:throw new TypeError("Unknown float type: "+t)}}function An(t,e,r){switch(e){case 0:return r?function(i){return T[i]}:function(i){return S[i]};case 1:return r?function(i){return W[i>>1]}:function(i){return N[i>>1]};case 2:return r?function(i){return R[i>>2]}:function(i){return V[i>>2]};default:throw new TypeError("Unknown integer type: "+t)}}var nn=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function _n(t,e){for(var r=t>>1,i=r+e/2;!(r>=i)&&N[r];)++r;if(r<<=1,32<r-t&&nn)return nn.decode(S.subarray(t,r));for(r="",i=0;!(i>=e/2);++i){var s=W[t+2*i>>1];if(s==0)break;r+=String.fromCharCode(s)}return r}function Cn(t,e,r){if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var i=e;r=r<2*t.length?r/2:t.length;for(var s=0;s<r;++s)W[e>>1]=t.charCodeAt(s),e+=2;return W[e>>1]=0,e-i}function xn(t){return 2*t.length}function Rn(t,e){for(var r=0,i="";!(r>=e/4);){var s=R[t+4*r>>2];if(s==0)break;++r,65536<=s?(s-=65536,i+=String.fromCharCode(55296|s>>10,56320|s&1023)):i+=String.fromCharCode(s)}return i}function Mn(t,e,r){if(r===void 0&&(r=2147483647),4>r)return 0;var i=e;r=i+r-4;for(var s=0;s<t.length;++s){var u=t.charCodeAt(s);if(55296<=u&&57343>=u){var f=t.charCodeAt(++s);u=65536+((u&1023)<<10)|f&1023}if(R[e>>2]=u,e+=4,e+4>r)break}return R[e>>2]=0,e-i}function Ln(t){for(var e=0,r=0;r<t.length;++r){var i=t.charCodeAt(r);55296<=i&&57343>=i&&++r,e+=4}return e}var On={};function Ct(t){var e=On[t];return e===void 0?fe(t):e}var xt=[];function In(t){var e=xt.length;return xt.push(t),e}function Un(t,e){for(var r=Array(t),i=0;i<t;++i)r[i]=ct(V[e+4*i>>2],"parameter "+i);return r}var rn=[],Fn=[null,[],[]];J=h.BindingError=le("BindingError"),h.count_emval_handles=function(){for(var t=0,e=5;e<M.length;++e)M[e]!==void 0&&++t;return t},h.get_first_emval=function(){for(var t=5;t<M.length;++t)if(M[t]!==void 0)return M[t];return null},gt=h.PureVirtualError=le("PureVirtualError");for(var on=Array(256),Rt=0;256>Rt;++Rt)on[Rt]=String.fromCharCode(Rt);$t=on,h.getInheritedInstanceCount=function(){return Object.keys(je).length},h.getLiveInheritedInstances=function(){var t=[],e;for(e in je)je.hasOwnProperty(e)&&t.push(je[e]);return t},h.flushPendingDeletes=qt,h.setDelayFunction=function(t){ut=t,st.length&&ut&&ut(qt)},Kt=h.InternalError=le("InternalError"),ze.prototype.isAliasOf=function(t){if(!(this instanceof ze&&t instanceof ze))return!1;var e=this.U.X.V,r=this.U.W,i=t.U.X.V;for(t=t.U.W;e.$;)r=e.na(r),e=e.$;for(;i.$;)t=i.na(t),i=i.$;return e===i&&r===t},ze.prototype.clone=function(){if(this.U.W||kt(this),this.U.ma)return this.U.count.value+=1,this;var t=et,e=Object,r=e.create,i=Object.getPrototypeOf(this),s=this.U;return t=t(r.call(e,i,{U:{value:{count:s.count,ka:s.ka,ma:s.ma,W:s.W,X:s.X,aa:s.aa,ca:s.ca}}})),t.U.count.value+=1,t.U.ka=!1,t},ze.prototype.delete=function(){this.U.W||kt(this),this.U.ka&&!this.U.ma&&U("Object already scheduled for deletion"),yt(this),Gt(this.U),this.U.ma||(this.U.aa=void 0,this.U.W=void 0)},ze.prototype.isDeleted=function(){return!this.U.W},ze.prototype.deleteLater=function(){return this.U.W||kt(this),this.U.ka&&!this.U.ma&&U("Object already scheduled for deletion"),st.push(this),st.length===1&&ut&&ut(qt),this.U.ka=!0,this},De.prototype.hb=function(t){return this.Na&&(t=this.Na(t)),t},De.prototype.Ga=function(t){this.ha&&this.ha(t)},De.prototype.argPackAdvance=8,De.prototype.readValueFromPointer=ft,De.prototype.deleteObject=function(t){t!==null&&t.delete()},De.prototype.fromWireType=function(t){function e(){return this.qa?wt(this.V.ea,{X:this.sb,W:r,ca:this,aa:t}):wt(this.V.ea,{X:this,W:t})}var r=this.hb(t);if(!r)return this.Ga(t),null;var i=gn(this.V,r);if(i!==void 0)return i.U.count.value===0?(i.U.W=r,i.U.aa=t,i.clone()):(i=i.clone(),this.Ga(t),i);if(i=this.V.gb(r),i=Qt[i],!i)return e.call(this);i=this.pa?i.Xa:i.pointerType;var s=Zt(r,this.V,i.V);return s===null?e.call(this):this.qa?wt(i.V.ea,{X:i,W:s,ca:this,aa:t}):wt(i.V.ea,{X:i,W:s})},en=h.UnboundTypeError=le("UnboundTypeError");var qn={l:function(t,e,r){t=fe(t),e=ct(e,"wrapper"),r=_e(r);var i=[].slice,s=e.V,u=s.ea,f=s.$.ea,l=s.$.constructor;t=C(t,function(){s.$.Ma.forEach(function(d){if(this[d]===f[d])throw new gt("Pure virtual function "+d+" must be implemented in JavaScript")}.bind(this)),Object.defineProperty(this,"__parent",{value:u}),this.__construct.apply(this,i.call(arguments))}),u.__construct=function(){this===u&&U("Pass correct 'this' to __construct");var d=l.implement.apply(void 0,[this].concat(i.call(arguments)));yt(d);var E=d.U;d.notifyOnDestruction(),E.ma=!0,Object.defineProperties(this,{U:{value:E}}),et(this),d=E.W,d=Bt(s,d),je.hasOwnProperty(d)?U("Tried to register registered instance: "+d):je[d]=this},u.__destruct=function(){this===u&&U("Pass correct 'this' to __destruct"),yt(this);var d=this.U.W;d=Bt(s,d),je.hasOwnProperty(d)?delete je[d]:U("Tried to unregister unregistered instance: "+d)},t.prototype=Object.create(u);for(var p in r)t.prototype[p]=r[p];return Se(t)},I:function(t){var e=St[t];delete St[t];var r=e.xa,i=e.ha,s=e.Ja,u=s.map(f=>f.kb).concat(s.map(f=>f.vb));Oe([t],u,f=>{var l={};return s.forEach((p,d)=>{var E=f[d],x=p.ib,L=p.jb,D=f[d+s.length],k=p.ub,O=p.wb;l[p.eb]={read:ue=>E.fromWireType(x(L,ue)),write:(ue,X)=>{var H=[];k(O,ue,D.toWireType(H,X)),lt(H)}}}),[{name:e.name,fromWireType:function(p){var d={},E;for(E in l)d[E]=l[E].read(p);return i(p),d},toWireType:function(p,d){for(var E in l)if(!(E in d))throw new TypeError('Missing field:  "'+E+'"');var x=r();for(E in l)l[E].write(x,d[E]);return p!==null&&p.push(i,x),x},argPackAdvance:8,readValueFromPointer:ft,ba:i}]})},x:function(){},B:function(t,e,r,i,s){var u=Tt(r);e=fe(e),Be(t,{name:e,fromWireType:function(f){return!!f},toWireType:function(f,l){return l?i:s},argPackAdvance:8,readValueFromPointer:function(f){if(r===1)var l=T;else if(r===2)l=W;else if(r===4)l=R;else throw new TypeError("Unknown boolean type size: "+e);return this.fromWireType(l[f>>u])},ba:null})},c:function(t,e,r,i,s,u,f,l,p,d,E,x,L){E=fe(E),u=Ee(s,u),l&&(l=Ee(f,l)),d&&(d=Ee(p,d)),L=Ee(x,L);var D=A(E);Dt(D,function(){Ve("Cannot construct "+E+" due to unbound types",[i])}),Oe([t,e,r],i?[i]:[],function(k){if(k=k[0],i)var O=k.V,ue=O.ea;else ue=ze.prototype;k=C(D,function(){if(Object.getPrototypeOf(this)!==X)throw new J("Use 'new' to construct "+E);if(H.ia===void 0)throw new J(E+" has no accessible constructor");var Ie=H.ia[arguments.length];if(Ie===void 0)throw new J("Tried to invoke ctor of "+E+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(H.ia).toString()+") parameters instead!");return Ie.apply(this,arguments)});var X=Object.create(ue,{constructor:{value:k}});k.prototype=X;var H=new yn(E,k,X,L,O,u,l,d);O=new De(E,H,!0,!1),ue=new De(E+"*",H,!1,!1);var ne=new De(E+" const*",H,!1,!0);return Qt[t]={pointerType:ue,Xa:ne},Jt(D,k),[O,ue,ne]})},h:function(t,e,r,i,s,u,f){var l=_t(r,i);e=fe(e),u=Ee(s,u),Oe([],[t],function(p){function d(){Ve("Cannot call "+E+" due to unbound types",l)}p=p[0];var E=p.name+"."+e;e.startsWith("@@")&&(e=Symbol[e.substring(2)]);var x=p.V.constructor;return x[e]===void 0?(d.ja=r-1,x[e]=d):(jt(x,e,E),x[e].Y[r-1]=d),Oe([],l,function(L){return L=At(E,[L[0],null].concat(L.slice(1)),null,u,f),x[e].Y===void 0?(L.ja=r-1,x[e]=L):x[e].Y[r-1]=L,[]}),[]})},n:function(t,e,r,i,s,u,f,l){e=fe(e),u=Ee(s,u),Oe([],[t],function(p){p=p[0];var d=p.name+"."+e,E={get:function(){Ve("Cannot access "+d+" due to unbound types",[r])},enumerable:!0,configurable:!0};return E.set=l?()=>{Ve("Cannot access "+d+" due to unbound types",[r])}:()=>{U(d+" is a read-only property")},Object.defineProperty(p.V.constructor,e,E),Oe([],[r],function(x){x=x[0];var L={get:function(){return x.fromWireType(u(i))},enumerable:!0};return l&&(l=Ee(f,l),L.set=D=>{var k=[];l(i,x.toWireType(k,D)),lt(k)}),Object.defineProperty(p.V.constructor,e,L),[]}),[]})},k:function(t,e,r,i,s,u){0<e||Ze();var f=_t(e,r);s=Ee(i,s),Oe([],[t],function(l){l=l[0];var p="constructor "+l.name;if(l.V.ia===void 0&&(l.V.ia=[]),l.V.ia[e-1]!==void 0)throw new J("Cannot register multiple constructors with identical number of parameters ("+(e-1)+") for class '"+l.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return l.V.ia[e-1]=()=>{Ve("Cannot construct "+l.name+" due to unbound types",f)},Oe([],f,function(d){return d.splice(1,0,null),l.V.ia[e-1]=At(p,d,null,s,u),[]}),[]})},a:function(t,e,r,i,s,u,f,l){var p=_t(r,i);e=fe(e),u=Ee(s,u),Oe([],[t],function(d){function E(){Ve("Cannot call "+x+" due to unbound types",p)}d=d[0];var x=d.name+"."+e;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),l&&d.V.Ma.push(e);var L=d.V.ea,D=L[e];return D===void 0||D.Y===void 0&&D.className!==d.name&&D.ja===r-2?(E.ja=r-2,E.className=d.name,L[e]=E):(jt(L,e,x),L[e].Y[r-2]=E),Oe([],p,function(k){return k=At(x,k,d,u,f),L[e].Y===void 0?(k.ja=r-2,L[e]=k):L[e].Y[r-2]=k,[]}),[]})},b:function(t,e,r,i,s,u,f,l,p,d){e=fe(e),s=Ee(i,s),Oe([],[t],function(E){E=E[0];var x=E.name+"."+e,L={get:function(){Ve("Cannot access "+x+" due to unbound types",[r,f])},enumerable:!0,configurable:!0};return L.set=p?()=>{Ve("Cannot access "+x+" due to unbound types",[r,f])}:()=>{U(x+" is a read-only property")},Object.defineProperty(E.V.ea,e,L),Oe([],p?[r,f]:[r],function(D){var k=D[0],O={get:function(){var X=tn(this,E,x+" getter");return k.fromWireType(s(u,X))},enumerable:!0};if(p){p=Ee(l,p);var ue=D[1];O.set=function(X){var H=tn(this,E,x+" setter"),ne=[];p(d,H,ue.toWireType(ne,X)),lt(ne)}}return Object.defineProperty(E.V.ea,e,O),[]}),[]})},A:function(t,e){e=fe(e),Be(t,{name:e,fromWireType:function(r){var i=_e(r);return Vt(r),i},toWireType:function(r,i){return Se(i)},argPackAdvance:8,readValueFromPointer:ft,ba:null})},j:function(t,e,r,i){function s(){}r=Tt(r),e=fe(e),s.values={},Be(t,{name:e,constructor:s,fromWireType:function(u){return this.constructor.values[u]},toWireType:function(u,f){return f.value},argPackAdvance:8,readValueFromPointer:Tn(e,r,i),ba:null}),Dt(e,s)},i:function(t,e,r){var i=ct(t,"enum");e=fe(e),t=i.constructor,i=Object.create(i.constructor.prototype,{value:{value:r},constructor:{value:C(i.name+"_"+e,function(){})}}),t.values[r]=i,t[e]=i},r:function(t,e,r){r=Tt(r),e=fe(e),Be(t,{name:e,fromWireType:function(i){return i},toWireType:function(i,s){return s},argPackAdvance:8,readValueFromPointer:Pn(e,r),ba:null})},q:function(t,e,r,i,s,u){var f=_t(e,r);t=fe(t),s=Ee(i,s),Dt(t,function(){Ve("Cannot call "+t+" due to unbound types",f)},e-1),Oe([],f,function(l){return Jt(t,At(t,[l[0],null].concat(l.slice(1)),null,s,u),e-1),[]})},g:function(t,e,r,i,s){e=fe(e),s===-1&&(s=4294967295),s=Tt(r);var u=l=>l;if(i===0){var f=32-8*r;u=l=>l<<f>>>f}r=e.includes("unsigned")?function(l,p){return p>>>0}:function(l,p){return p},Be(t,{name:e,fromWireType:u,toWireType:r,argPackAdvance:8,readValueFromPointer:An(e,s,i!==0),ba:null})},d:function(t,e,r){function i(u){u>>=2;var f=V;return new s(w,f[u+1],f[u])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][e];r=fe(r),Be(t,{name:r,fromWireType:i,argPackAdvance:8,readValueFromPointer:i},{lb:!0})},s:function(t,e){e=fe(e);var r=e==="std::string";Be(t,{name:e,fromWireType:function(i){var s=V[i>>2],u=i+4;if(r)for(var f=u,l=0;l<=s;++l){var p=u+l;if(l==s||S[p]==0){if(f=f?m(S,f,p-f):"",d===void 0)var d=f;else d+=String.fromCharCode(0),d+=f;f=p+1}}else{for(d=Array(s),l=0;l<s;++l)d[l]=String.fromCharCode(S[u+l]);d=d.join("")}return Ye(i),d},toWireType:function(i,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var u,f=typeof s=="string";f||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||U("Cannot pass non-string to std::string");var l;if(r&&f)for(u=l=0;u<s.length;++u){var p=s.charCodeAt(u);127>=p?l++:2047>=p?l+=2:55296<=p&&57343>=p?(l+=4,++u):l+=3}else l=s.length;if(u=l,l=Xt(4+u+1),p=l+4,V[l>>2]=u,r&&f){if(f=p,p=u+1,u=S,0<p){p=f+p-1;for(var d=0;d<s.length;++d){var E=s.charCodeAt(d);if(55296<=E&&57343>=E){var x=s.charCodeAt(++d);E=65536+((E&1023)<<10)|x&1023}if(127>=E){if(f>=p)break;u[f++]=E}else{if(2047>=E){if(f+1>=p)break;u[f++]=192|E>>6}else{if(65535>=E){if(f+2>=p)break;u[f++]=224|E>>12}else{if(f+3>=p)break;u[f++]=240|E>>18,u[f++]=128|E>>12&63}u[f++]=128|E>>6&63}u[f++]=128|E&63}}u[f]=0}}else if(f)for(f=0;f<u;++f)d=s.charCodeAt(f),255<d&&(Ye(p),U("String has UTF-16 code units that do not fit in 8 bits")),S[p+f]=d;else for(f=0;f<u;++f)S[p+f]=s[f];return i!==null&&i.push(Ye,l),l},argPackAdvance:8,readValueFromPointer:ft,ba:function(i){Ye(i)}})},p:function(t,e,r){if(r=fe(r),e===2)var i=_n,s=Cn,u=xn,f=()=>N,l=1;else e===4&&(i=Rn,s=Mn,u=Ln,f=()=>V,l=2);Be(t,{name:r,fromWireType:function(p){for(var d=V[p>>2],E=f(),x,L=p+4,D=0;D<=d;++D){var k=p+4+D*e;(D==d||E[k>>l]==0)&&(L=i(L,k-L),x===void 0?x=L:(x+=String.fromCharCode(0),x+=L),L=k+e)}return Ye(p),x},toWireType:function(p,d){typeof d!="string"&&U("Cannot pass non-string to C++ string type "+r);var E=u(d),x=Xt(4+E+e);return V[x>>2]=E>>l,s(d,x+4,E+e),p!==null&&p.push(Ye,x),x},argPackAdvance:8,readValueFromPointer:ft,ba:function(p){Ye(p)}})},K:function(t,e,r,i,s,u){St[t]={name:fe(e),xa:Ee(r,i),ha:Ee(s,u),Ja:[]}},J:function(t,e,r,i,s,u,f,l,p,d){St[t].Ja.push({eb:fe(e),kb:r,ib:Ee(i,s),jb:u,vb:f,ub:Ee(l,p),wb:d})},C:function(t,e){e=fe(e),Be(t,{nb:!0,name:e,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},m:function(t,e,r){t=_e(t),e=ct(e,"emval::as");var i=[],s=Se(i);return V[r>>2]=s,e.toWireType(i,t)},t:function(t,e,r,i,s){t=xt[t],e=_e(e),r=Ct(r);var u=[];return V[i>>2]=Se(u),t(e,r,u,s)},f:function(t,e,r,i){t=xt[t],e=_e(e),r=Ct(r),t(e,r,null,i)},L:Vt,e:function(t,e){var r=Un(t,e),i=r[0];e=i.name+"_$"+r.slice(1).map(function(f){return f.name}).join("_")+"$";var s=rn[e];if(s!==void 0)return s;var u=Array(t-1);return s=In((f,l,p,d)=>{for(var E=0,x=0;x<t-1;++x)u[x]=r[x+1].readValueFromPointer(d+E),E+=r[x+1].argPackAdvance;for(f=f[l].apply(f,u),x=0;x<t-1;++x)r[x+1].Za&&r[x+1].Za(u[x]);if(!i.nb)return i.toWireType(p,f)}),rn[e]=s},D:function(t){return t=Ct(t),Se(h[t])},H:function(t,e){return t=_e(t),e=_e(e),Se(t[e])},E:function(t){4<t&&(M[t].ya+=1)},G:function(t){return Se(Ct(t))},F:function(t){var e=_e(t);lt(e),Vt(t)},u:function(t,e){return t=ct(t,"_emval_take_value"),t=t.readValueFromPointer(e),Se(t)},v:function(){Ze("")},o:function(t){var e=S.length;if(t>>>=0,2147483648<t)return!1;for(var r=1;4>=r;r*=2){var i=e*(1+.2/r);i=Math.min(i,t+100663296);var s=Math;i=Math.max(t,i),s=s.min.call(s,2147483648,i+(65536-i%65536)%65536);e:{try{a.grow(s-w.byteLength+65535>>>16),ae();var u=1;break e}catch{}u=void 0}if(u)return!0}return!1},z:function(){return 52},w:function(){return 70},y:function(t,e,r,i){for(var s=0,u=0;u<r;u++){var f=V[e>>2],l=V[e+4>>2];e+=8;for(var p=0;p<l;p++){var d=S[f+p],E=Fn[t];d===0||d===10?((t===1?Ne:oe)(m(E,0)),E.length=0):E.push(d)}s+=l}return V[i>>2]=s,0}};(function(){function t(s){h.asm=s.exports,a=h.asm.M,ae(),Le=h.asm.S,He.unshift(h.asm.N),ke--,h.monitorRunDependencies&&h.monitorRunDependencies(ke),ke==0&&$e&&(s=$e,$e=null,s())}function e(s){t(s.instance)}function r(s){return se().then(function(u){return WebAssembly.instantiate(u,i)}).then(function(u){return u}).then(s,function(u){oe("failed to asynchronously prepare wasm: "+u),Ze(u)})}var i={a:qn};if(ke++,h.monitorRunDependencies&&h.monitorRunDependencies(ke),h.instantiateWasm)try{return h.instantiateWasm(i,t)}catch(s){return oe("Module.instantiateWasm callback failed with error: "+s),!1}return function(){return Me||typeof WebAssembly.instantiateStreaming!="function"||mt()||xe.startsWith("file://")||typeof fetch!="function"?r(e):fetch(xe,{credentials:"same-origin"}).then(function(s){return WebAssembly.instantiateStreaming(s,i).then(e,function(u){return oe("wasm streaming compile failed: "+u),oe("falling back to ArrayBuffer instantiation"),r(e)})})}().catch(Re),{}})(),h.___wasm_call_ctors=function(){return(h.___wasm_call_ctors=h.asm.N).apply(null,arguments)};var Ye=h._free=function(){return(Ye=h._free=h.asm.O).apply(null,arguments)},Xt=h._malloc=function(){return(Xt=h._malloc=h.asm.P).apply(null,arguments)},an=h.___getTypeName=function(){return(an=h.___getTypeName=h.asm.Q).apply(null,arguments)};h.__embind_initialize_bindings=function(){return(h.__embind_initialize_bindings=h.asm.R).apply(null,arguments)},h.dynCall_jiji=function(){return(h.dynCall_jiji=h.asm.T).apply(null,arguments)};var Mt;$e=function t(){Mt||sn(),Mt||($e=t)};function sn(){function t(){if(!Mt&&(Mt=!0,h.calledRun=!0,!n)){if(g(He),Te(h),h.onRuntimeInitialized&&h.onRuntimeInitialized(),h.postRun)for(typeof h.postRun=="function"&&(h.postRun=[h.postRun]);h.postRun.length;){var e=h.postRun.shift();pt.unshift(e)}g(pt)}}if(!(0<ke)){if(h.preRun)for(typeof h.preRun=="function"&&(h.preRun=[h.preRun]);h.preRun.length;)Ft();g(Ae),0<ke||(h.setStatus?(h.setStatus("Running..."),setTimeout(function(){setTimeout(function(){h.setStatus("")},1),t()},1)):t())}}if(h.preInit)for(typeof h.preInit=="function"&&(h.preInit=[h.preInit]);0<h.preInit.length;)h.preInit.pop()();return sn(),B.ready}})();const ie=re},q=>{q.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"1.0.98","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(q,Y,G)=>{G.r(Y),G.d(Y,{registerTouchInteractions:()=>re.registerTouchInteractions});var re=G(4)},(q,Y,G)=>{G.r(Y),G.d(Y,{registerTouchInteractions:()=>re});const re=({canvas:ie,artboard:he,stateMachines:B=[],renderer:h,rive:Te,fit:Re,alignment:be})=>{if(!ie||!B.length||!h||!Te||!he)return null;const de=(Ue=>{const F=Ue.currentTarget.getBoundingClientRect(),we=Ue.clientX-F.left,ge=Ue.clientY-F.top,pe=Te.computeAlignment(Re,be,{minX:0,minY:0,maxX:F.width,maxY:F.height},he.bounds);let Fe=new Te.Mat2D;pe.invert(Fe);const Ne=new Te.Vec2D(we,ge),oe=Te.mapXY(Fe,Ne),Me=oe.x(),a=oe.y();switch(oe.delete(),Fe.delete(),Ne.delete(),pe.delete(),Ue.type){case"mouseover":case"mouseout":case"mousemove":{for(const n of B)n.pointerMove(Me,a);break}case"mousedown":{for(const n of B)n.pointerDown(Me,a);break}case"mouseup":{for(const n of B)n.pointerUp(Me,a);break}}}).bind(void 0);return ie.addEventListener("mouseover",de),ie.addEventListener("mouseout",de),ie.addEventListener("mousemove",de),ie.addEventListener("mousedown",de),ie.addEventListener("mouseup",de),()=>{ie.removeEventListener("mouseover",de),ie.removeEventListener("mouseout",de),ie.removeEventListener("mousemove",de),ie.removeEventListener("mousedown",de),ie.removeEventListener("mouseup",de)}}}],y={};function P(q){var Y=y[q];if(Y!==void 0)return Y.exports;var G=y[q]={exports:{}};return _[q](G,G.exports,P),G.exports}P.d=(q,Y)=>{for(var G in Y)P.o(Y,G)&&!P.o(q,G)&&Object.defineProperty(q,G,{enumerable:!0,get:Y[G]})},P.o=(q,Y)=>Object.prototype.hasOwnProperty.call(q,Y),P.r=q=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(q,"__esModule",{value:!0})};var I={};return(()=>{P.r(I),P.d(I,{Fit:()=>he,Alignment:()=>B,Layout:()=>h,RuntimeLoader:()=>Te,StateMachineInputType:()=>be,StateMachineInput:()=>Pe,EventType:()=>F,LoopType:()=>we,Rive:()=>Fe,Testing:()=>Me});var q=P(1),Y=P(2),G=P(3),re=function(a,n,o,m){function w(T){return T instanceof o?T:new o(function(S){S(T)})}return new(o||(o=Promise))(function(T,S){function W(V){try{R(m.next(V))}catch(me){S(me)}}function N(V){try{R(m.throw(V))}catch(me){S(me)}}function R(V){V.done?T(V.value):w(V.value).then(W,N)}R((m=m.apply(a,n||[])).next())})},ie=function(a,n){var o={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},m,w,T,S;return S={next:W(0),throw:W(1),return:W(2)},typeof Symbol=="function"&&(S[Symbol.iterator]=function(){return this}),S;function W(R){return function(V){return N([R,V])}}function N(R){if(m)throw new TypeError("Generator is already executing.");for(;o;)try{if(m=1,w&&(T=R[0]&2?w.return:R[0]?w.throw||((T=w.return)&&T.call(w),0):w.next)&&!(T=T.call(w,R[1])).done)return T;switch(w=0,T&&(R=[R[0]&2,T.value]),R[0]){case 0:case 1:T=R;break;case 4:return o.label++,{value:R[1],done:!1};case 5:o.label++,w=R[1],R=[0];continue;case 7:R=o.ops.pop(),o.trys.pop();continue;default:if(T=o.trys,!(T=T.length>0&&T[T.length-1])&&(R[0]===6||R[0]===2)){o=0;continue}if(R[0]===3&&(!T||R[1]>T[0]&&R[1]<T[3])){o.label=R[1];break}if(R[0]===6&&o.label<T[1]){o.label=T[1],T=R;break}if(T&&o.label<T[2]){o.label=T[2],o.ops.push(R);break}T[2]&&o.ops.pop(),o.trys.pop();continue}R=n.call(a,o)}catch(V){R=[6,V],w=0}finally{m=T=0}if(R[0]&5)throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}},he;(function(a){a.Cover="cover",a.Contain="contain",a.Fill="fill",a.FitWidth="fitWidth",a.FitHeight="fitHeight",a.None="none",a.ScaleDown="scaleDown"})(he||(he={}));var B;(function(a){a.Center="center",a.TopLeft="topLeft",a.TopCenter="topCenter",a.TopRight="topRight",a.CenterLeft="centerLeft",a.CenterRight="centerRight",a.BottomLeft="bottomLeft",a.BottomCenter="bottomCenter",a.BottomRight="bottomRight"})(B||(B={}));var h=function(){function a(n){var o,m,w,T,S,W;this.fit=(o=n==null?void 0:n.fit)!==null&&o!==void 0?o:he.Contain,this.alignment=(m=n==null?void 0:n.alignment)!==null&&m!==void 0?m:B.Center,this.minX=(w=n==null?void 0:n.minX)!==null&&w!==void 0?w:0,this.minY=(T=n==null?void 0:n.minY)!==null&&T!==void 0?T:0,this.maxX=(S=n==null?void 0:n.maxX)!==null&&S!==void 0?S:0,this.maxY=(W=n==null?void 0:n.maxY)!==null&&W!==void 0?W:0}return a.new=function(n){var o=n.fit,m=n.alignment,w=n.minX,T=n.minY,S=n.maxX,W=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new a({fit:o,alignment:m,minX:w,minY:T,maxX:S,maxY:W})},a.prototype.copyWith=function(n){var o=n.fit,m=n.alignment,w=n.minX,T=n.minY,S=n.maxX,W=n.maxY;return new a({fit:o!=null?o:this.fit,alignment:m!=null?m:this.alignment,minX:w!=null?w:this.minX,minY:T!=null?T:this.minY,maxX:S!=null?S:this.maxX,maxY:W!=null?W:this.maxY})},a.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var o;return this.fit===he.Cover?o=n.Fit.cover:this.fit===he.Contain?o=n.Fit.contain:this.fit===he.Fill?o=n.Fit.fill:this.fit===he.FitWidth?o=n.Fit.fitWidth:this.fit===he.FitHeight?o=n.Fit.fitHeight:this.fit===he.ScaleDown?o=n.Fit.scaleDown:o=n.Fit.none,this.cachedRuntimeFit=o,o},a.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var o;return this.alignment===B.TopLeft?o=n.Alignment.topLeft:this.alignment===B.TopCenter?o=n.Alignment.topCenter:this.alignment===B.TopRight?o=n.Alignment.topRight:this.alignment===B.CenterLeft?o=n.Alignment.centerLeft:this.alignment===B.CenterRight?o=n.Alignment.centerRight:this.alignment===B.BottomLeft?o=n.Alignment.bottomLeft:this.alignment===B.BottomCenter?o=n.Alignment.bottomCenter:this.alignment===B.BottomRight?o=n.Alignment.bottomRight:o=n.Alignment.center,this.cachedRuntimeAlignment=o,o},a}(),Te=function(){function a(){}return a.loadRuntime=function(){q.default({locateFile:function(){return a.wasmURL}}).then(function(n){var o;for(a.runtime=n;a.callBackQueue.length>0;)(o=a.callBackQueue.shift())===null||o===void 0||o(a.runtime)})},a.getInstance=function(n){a.isLoading||(a.isLoading=!0,a.loadRuntime()),a.runtime?n(a.runtime):a.callBackQueue.push(n)},a.awaitInstance=function(){return new Promise(function(n){return a.getInstance(function(o){return n(o)})})},a.setWasmUrl=function(n){a.wasmURL=n},a.isLoading=!1,a.callBackQueue=[],a.wasmURL="https://unpkg.com/"+Y.name+"@"+Y.version+"/rive.wasm",a}(),Re=function(){function a(n,o,m,w){this.animation=n,this.artboard=o,this.playing=w,this.loopCount=0,this.scrubTo=null,this.instance=new m.LinearAnimationInstance(n,o)}return Object.defineProperty(a.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"time",{get:function(){return this.instance.time},set:function(n){this.instance.time=n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),a.prototype.advance=function(n){this.scrubTo===null?this.instance.advance(n):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},a.prototype.apply=function(n){this.instance.apply(n)},Object.defineProperty(a.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),a.prototype.cleanup=function(){this.instance.delete()},a}(),be;(function(a){a[a.Number=56]="Number",a[a.Trigger=58]="Trigger",a[a.Boolean=59]="Boolean"})(be||(be={}));var Pe=function(){function a(n,o){this.type=n,this.runtimeInput=o}return Object.defineProperty(a.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),a.prototype.fire=function(){this.type===be.Trigger&&this.runtimeInput.fire()},a}(),de=function(){function a(n,o,m,w){this.stateMachine=n,this.playing=m,this.artboard=w,this.inputs=[],this.instance=new o.StateMachineInstance(n,w),this.initInputs(o)}return Object.defineProperty(a.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"statesChanged",{get:function(){for(var n=[],o=0;o<this.instance.stateChangedCount();o++)n.push(this.instance.stateChangedNameByIndex(o));return n},enumerable:!1,configurable:!0}),a.prototype.advance=function(n){this.instance.advance(n)},a.prototype.initInputs=function(n){for(var o=0;o<this.instance.inputCount();o++){var m=this.instance.input(o);this.inputs.push(this.mapRuntimeInput(m,n))}},a.prototype.mapRuntimeInput=function(n,o){if(n.type===o.SMIInput.bool)return new Pe(be.Boolean,n.asBool());if(n.type===o.SMIInput.number)return new Pe(be.Number,n.asNumber());if(n.type===o.SMIInput.trigger)return new Pe(be.Trigger,n.asTrigger())},a.prototype.cleanup=function(){this.instance.delete()},a}(),Ue=function(){function a(n,o,m,w,T){w===void 0&&(w=[]),T===void 0&&(T=[]),this.runtime=n,this.artboard=o,this.eventManager=m,this.animations=w,this.stateMachines=T}return a.prototype.add=function(n,o,m){if(m===void 0&&(m=!0),n=oe(n),n.length===0)this.animations.forEach(function(ae){return ae.playing=o}),this.stateMachines.forEach(function(ae){return ae.playing=o});else{var w=this.animations.map(function(ae){return ae.name}),T=this.stateMachines.map(function(ae){return ae.name});for(var S in n){var W=w.indexOf(n[S]),N=T.indexOf(n[S]);if(W>=0||N>=0)W>=0?this.animations[W].playing=o:this.stateMachines[N].playing=o;else{var R=this.artboard.animationByName(n[S]);if(R){var V=new Re(R,this.artboard,this.runtime,o);V.advance(0),V.apply(1),this.animations.push(V)}else{var me=this.artboard.stateMachineByName(n[S]);if(me){var Ce=new de(me,this.runtime,o,this.artboard);this.stateMachines.push(Ce)}}}}}return m&&(o?this.eventManager.fire({type:F.Play,data:this.playing}):this.eventManager.fire({type:F.Pause,data:this.paused})),o?this.playing:this.paused},a.prototype.play=function(n){return this.add(n,!0)},a.prototype.pause=function(n){return this.add(n,!1)},a.prototype.scrub=function(n,o){var m=this.animations.filter(function(w){return n.includes(w.name)});return m.forEach(function(w){return w.scrubTo=o}),m.map(function(w){return w.name})},Object.defineProperty(a.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),a.prototype.stop=function(n){var o=this;n=oe(n);var m=[];if(n.length===0)m=this.animations.map(function(S){return S.name}).concat(this.stateMachines.map(function(S){return S.name})),this.animations.forEach(function(S){return S.cleanup()}),this.stateMachines.forEach(function(S){return S.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var w=this.animations.filter(function(S){return n.includes(S.name)});w.forEach(function(S){S.cleanup(),o.animations.splice(o.animations.indexOf(S),1)});var T=this.stateMachines.filter(function(S){return n.includes(S.name)});T.forEach(function(S){S.cleanup(),o.stateMachines.splice(o.stateMachines.indexOf(S),1)}),m=w.map(function(S){return S.name}).concat(T.map(function(S){return S.name}))}return this.eventManager.fire({type:F.Stop,data:m}),m},Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,o){return n||o.playing},!1)||this.stateMachines.reduce(function(n,o){return n||o.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),a.prototype.atLeastOne=function(n,o){o===void 0&&(o=!0);var m;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([m=this.artboard.animationByIndex(0).name],n,o):this.artboard.stateMachineCount()>0&&this.add([m=this.artboard.stateMachineByIndex(0).name],n,o)),m},a.prototype.handleLooping=function(){for(var n=0,o=this.animations.filter(function(w){return w.playing});n<o.length;n++){var m=o[n];m.loopValue===0&&m.loopCount?(m.loopCount=0,this.stop(m.name)):m.loopValue===1&&m.loopCount?(this.eventManager.fire({type:F.Loop,data:{animation:m.name,type:we.Loop}}),m.loopCount=0):m.loopValue===2&&m.loopCount>1&&(this.eventManager.fire({type:F.Loop,data:{animation:m.name,type:we.PingPong}}),m.loopCount=0)}},a.prototype.handleStateChanges=function(){for(var n=[],o=0,m=this.stateMachines.filter(function(T){return T.playing});o<m.length;o++){var w=m[o];n.push.apply(n,w.statesChanged)}n.length>0&&this.eventManager.fire({type:F.StateChange,data:n})},a}(),F;(function(a){a.Load="load",a.LoadError="loaderror",a.Play="play",a.Pause="pause",a.Stop="stop",a.Loop="loop",a.Draw="draw",a.StateChange="statechange"})(F||(F={}));var we;(function(a){a.OneShot="oneshot",a.Loop="loop",a.PingPong="pingpong"})(we||(we={}));var ge=function(){function a(n){n===void 0&&(n=[]),this.listeners=n}return a.prototype.getListeners=function(n){return this.listeners.filter(function(o){return o.type===n})},a.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},a.prototype.remove=function(n){for(var o=0;o<this.listeners.length;o++){var m=this.listeners[o];if(m.type===n.type&&m.callback===n.callback){this.listeners.splice(o,1);break}}},a.prototype.removeAll=function(n){var o=this;n?this.listeners.filter(function(m){return m.type===n}).forEach(function(m){return o.remove(m)}):this.listeners.splice(0,this.listeners.length)},a.prototype.fire=function(n){var o=this.getListeners(n.type);o.forEach(function(m){return m.callback(n)})},a}(),pe=function(){function a(n){this.eventManager=n,this.queue=[]}return a.prototype.add=function(n){this.queue.push(n)},a.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n!=null&&n.action&&n.action(),n!=null&&n.event&&this.eventManager.fire(n.event)}},a}(),Fe=function(){function a(n){var o;this._updateLayout=!0,this.isRendererActive=!0,this.loaded=!1,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.renderSecondTimer=0,this.canvas=n.canvas,this.src=n.src,this.buffer=n.buffer,this.layout=(o=n.layout)!==null&&o!==void 0?o:new h,this.eventManager=new ge,n.onLoad&&this.on(F.Load,n.onLoad),n.onLoadError&&this.on(F.LoadError,n.onLoadError),n.onPlay&&this.on(F.Play,n.onPlay),n.onPause&&this.on(F.Pause,n.onPause),n.onStop&&this.on(F.Stop,n.onStop),n.onLoop&&this.on(F.Loop,n.onLoop),n.onStateChange&&this.on(F.StateChange,n.onStateChange),n.onload&&!n.onLoad&&this.on(F.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(F.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(F.Play,n.onplay),n.onpause&&!n.onPause&&this.on(F.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(F.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(F.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(F.StateChange,n.onstatechange),this.taskQueue=new pe(this.eventManager),this.init({src:this.src,buffer:this.buffer,autoplay:n.autoplay,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return a.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new a(n)},a.prototype.init=function(n){var o=this,m=n.src,w=n.buffer,T=n.animations,S=n.stateMachines,W=n.artboard,N=n.autoplay,R=N===void 0?!1:N,V=n.useOffscreenRenderer,me=V===void 0?!1:V;if(this.src=m,this.buffer=w,!this.src&&!this.buffer)throw new Error(a.missingErrorMessage);var Ce=oe(T),ae=oe(S);this.loaded=!1,this.readyForPlaying=!1,Te.awaitInstance().then(function(Le){o.runtime=Le,o.renderer=o.runtime.makeRenderer(o.canvas,me),o.canvas.width||o.canvas.height||o.resizeDrawingSurfaceToCanvas(),o.initData(W,Ce,ae,R).then(function(){var Ae=(o.animator.stateMachines||[]).filter(function(He){return He.playing}).map(function(He){return He.instance});o.eventCleanup=(0,G.registerTouchInteractions)({canvas:o.canvas,artboard:o.artboard,stateMachines:Ae,renderer:o.renderer,rive:o.runtime,fit:o._layout.runtimeFit(o.runtime),alignment:o._layout.runtimeAlignment(o.runtime)})}).catch(function(Ae){console.error(Ae)})}).catch(function(Le){console.error(Le)})},a.prototype.initData=function(n,o,m,w){var T;return re(this,void 0,void 0,function(){var S,W,N;return ie(this,function(R){switch(R.label){case 0:return this.src?(S=this,[4,Ne(this.src)]):[3,2];case 1:S.buffer=R.sent(),R.label=2;case 2:return W=this,[4,this.runtime.load(new Uint8Array(this.buffer))];case 3:return W.file=R.sent(),this.file?(this.initArtboard(n,o,m,w),this.loaded=!0,this.eventManager.fire({type:F.Load,data:(T=this.src)!==null&&T!==void 0?T:"buffer"}),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,Promise.resolve()]):(N="Problem loading file; may be corrupt!",console.warn(N),this.eventManager.fire({type:F.LoadError,data:N}),[2,Promise.reject(N)])}})})},a.prototype.initArtboard=function(n,o,m,w){var T=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!T){var S="Invalid artboard name or no default artboard";console.warn(S),this.eventManager.fire({type:F.LoadError,data:S});return}if(this.artboard=T,this.artboard.animationCount()<1){var S="Artboard has no animations";throw this.eventManager.fire({type:F.LoadError,data:S}),S}this.animator=new Ue(this.runtime,this.artboard,this.eventManager);var W;o.length>0||m.length>0?(W=o.concat(m),this.animator.add(W,w,!1)):W=[this.animator.atLeastOne(w,!1)],this.taskQueue.add({event:{type:w?F.Play:F.Pause,data:W}})},a.prototype.drawFrame=function(){this.startRendering()},a.prototype.draw=function(n,o){var m=performance.now();this.frameRequestId=null,this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,o==null||o());var w=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var T=this.animator.animations.filter(function(Ae){return Ae.playing||Ae.needsScrub}).sort(function(Ae){return Ae.needsScrub?-1:1}),S=0,W=T;S<W.length;S++){var N=W[S];N.advance(w),N.instance.didLoop&&(N.loopCount+=1),N.apply(1)}for(var R=this.animator.stateMachines.filter(function(Ae){return Ae.playing}),V=0,me=R;V<me.length;V++){var Ce=me[V];Ce.advance(w)}this.artboard.advance(w);var ae=this.renderer;ae.clear(),ae.save(),this.alignRenderer(),this.artboard.draw(ae),ae.restore(),ae.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.frameCount++;var Le=performance.now();for(this.frameTimes.push(Le),this.durations.push(Le-m);this.frameTimes[0]<=Le-1e3;)this.frameTimes.shift(),this.durations.shift();this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},a.prototype.alignRenderer=function(){var n=this,o=n.renderer,m=n.runtime,w=n._layout,T=n.artboard;o.align(w.runtimeFit(m),w.runtimeAlignment(m),{minX:w.minX,minY:w.minY,maxX:w.maxX,maxY:w.maxY},T.bounds)},Object.defineProperty(a.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,o){return n+o},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),a.prototype.cleanup=function(){this.stopRendering(),this.cleanupInstances(),this.renderer.delete(),this.file.delete()},a.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},a.prototype.play=function(n,o){var m=this;if(n=oe(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return m.play(n,o)}});return}this.animator.play(n),this.startRendering()},a.prototype.pause=function(n){var o=this;if(n=oe(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return o.pause(n)}});return}this.animator.pause(n)},a.prototype.scrub=function(n,o){var m=this;if(n=oe(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return m.scrub(n,o)}});return}this.animator.scrub(n,o||0),this.drawFrame()},a.prototype.stop=function(n){var o=this;if(n=oe(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return o.stop(n)}});return}this.animator.stop(n)},a.prototype.reset=function(n){var o,m=n==null?void 0:n.artboard,w=oe(n==null?void 0:n.animations),T=oe(n==null?void 0:n.stateMachines),S=(o=n==null?void 0:n.autoplay)!==null&&o!==void 0?o:!1;this.cleanupInstances(),this.initArtboard(m,w,T,S),this.taskQueue.process()},a.prototype.load=function(n){this.stop(),this.init(n)},Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),a.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},a.prototype.resizeDrawingSurfaceToCanvas=function(){if(this.canvas instanceof HTMLCanvasElement&&!!window){var n=this.canvas.getBoundingClientRect(),o=n.width,m=n.height,w=window.devicePixelRatio||1;this.canvas.width=w*o,this.canvas.height=w*m,this.startRendering(),this.resizeToCanvas()}},Object.defineProperty(a.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"animationNames",{get:function(){if(!this.loaded)return[];for(var n=[],o=0;o<this.artboard.animationCount();o++)n.push(this.artboard.animationByIndex(o).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stateMachineNames",{get:function(){if(!this.loaded)return[];for(var n=[],o=0;o<this.artboard.stateMachineCount();o++)n.push(this.artboard.stateMachineByIndex(o).name);return n},enumerable:!1,configurable:!0}),a.prototype.stateMachineInputs=function(n){if(!!this.loaded){var o=this.animator.stateMachines.find(function(m){return m.name===n});return o==null?void 0:o.inputs}},Object.defineProperty(a.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),a.prototype.on=function(n,o){this.eventManager.add({type:n,callback:o})},a.prototype.unsubscribe=function(n,o){this.eventManager.remove({type:n,callback:o})},a.prototype.unsubscribeAll=function(n){this.eventManager.removeAll(n)},a.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},a.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this.draw.bind(this)):this.frameRequestId=requestAnimationFrame(this.draw.bind(this)))},a.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},a.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(a.prototype,"contents",{get:function(){if(!!this.loaded){for(var n={artboards:[]},o=0;o<this.file.artboardCount();o++){for(var m=this.file.artboardByIndex(o),w={name:m.name,animations:[],stateMachines:[]},T=0;T<m.animationCount();T++){var S=m.animationByIndex(T);w.animations.push(S.name)}for(var W=0;W<m.stateMachineCount();W++){for(var N=m.stateMachineByIndex(W),R=N.name,V=new this.runtime.StateMachineInstance(N,m),me=[],Ce=0;Ce<V.inputCount();Ce++){var ae=V.input(Ce);me.push({name:ae.name,type:ae.type})}w.stateMachines.push({name:R,inputs:me})}n.artboards.push(w)}return n}},enumerable:!1,configurable:!0}),a.missingErrorMessage="Rive source file or data buffer required",a}(),Ne=function(a){return re(void 0,void 0,void 0,function(){var n,o,m;return ie(this,function(w){switch(w.label){case 0:return n=new Request(a),[4,fetch(n)];case 1:return o=w.sent(),[4,o.arrayBuffer()];case 2:return m=w.sent(),[2,m]}})})},oe=function(a){return typeof a=="string"?[a]:a instanceof Array?a:[]},Me={EventManager:ge,TaskQueueManager:pe}})(),I})()})})(vn);const hn=Qn(vn.exports);function Kn(){if(document.getElementById("mandala-2")){const c=new hn.Rive({src:"https://wizarre.fra1.cdn.digitaloceanspaces.com/mandala.riv",canvas:document.getElementById("mandala-1"),autoplay:!0,animations:"mandala-rotate"}),v=new hn.Rive({src:"https://wizarre.fra1.cdn.digitaloceanspaces.com/mandala.riv",canvas:document.getElementById("mandala-2"),autoplay:!0,animations:"mandala-rotate"});c.on("load",()=>{c.pause(["mandala-rotate"]),c.scrub(["mandala-rotate"],0)}),v.on("load",()=>{v.pause(["mandala-rotate"]),v.scrub(["mandala-rotate"],0)}),document.getElementsByTagName("body")[0].onscroll=()=>{const _=document.documentElement.scrollHeight-window.innerHeight,y=1*(window.scrollY/_).toFixed(3),P=8;c.scrub("mandala-rotate",y*P),v.scrub("mandala-rotate",y*P)}}}function Jn(){const c=er(".wizard-source"),v=tr(),_=nr();let y=0;ot(v,c,y,!1),ot(_,c,y,!0);const P=document.querySelector(".wizard-slider-left"),I=document.querySelector(".wizard-slider-right");P.addEventListener("click",()=>{y-=1,y<0&&(y=c.length-1),ot(v,c,y,!1),ot(_,c,y,!0)}),I.addEventListener("click",()=>{y+=1,y=y%c.length,ot(v,c,y,!1),ot(_,c,y,!0)});const q=[...document.querySelectorAll(".text-box.is--stats-card")];for(const G of q)G.addEventListener("click",()=>pn(G));const Y=document.querySelector("#emblem-card");pn(Y)}function pn(c){const v=c.classList.contains("is--active"),_=document.getElementById(c.dataset.item);v||(Ut(".wizard-overlay"),Ut(".text-box.is--stats-card"),c.classList.add("is--active"),_.classList.add("is--active"))}function Ut(c){const v=document.querySelectorAll(`${c}.is--active`);v&&[...v].map(_=>_.classList.remove("is--active"))}function ot(c,v,_,y){const P=v[_];y||(Ut(".text-box.is--stats-card"),Ut(".wizard-overlay"),c.images.replaceChildren(...P.images)),Lt(c.item.emblem,P.item.emblem),Lt(c.item.hat,P.item.hat),Lt(c.item.robe,P.item.robe),Lt(c.item.staff,P.item.staff),Ot(c.spell.teamBuff,P.spell.teamBuff),Ot(c.spell.offensiveSpell,P.spell.offensiveSpell),Ot(c.spell.ultimateSpell,P.spell.ultimateSpell),Ot(c.spell.defensiveSpell,P.spell.defensiveSpell)}function Lt(c,v){c.icon.replaceChildren(v.icon.cloneNode(!0)),c.element.replaceChildren(v.element.cloneNode(!0))}function Ot(c,v){c.icon.replaceChildren(v.icon.cloneNode(!0)),c.name.replaceChildren(v.name.cloneNode(!0)),c.desc.replaceChildren(v.desc.cloneNode(!0))}function er(c){return[...document.querySelectorAll(c)].map(y=>({images:[...y.content.querySelectorAll(".wizard-img,.wizard-overlay")],item:{emblem:{icon:y.content.querySelector(".stats-emblem > .stats-icon"),element:y.content.querySelector(".stats-emblem > .stats-element")},hat:{icon:y.content.querySelector(".stats-hat > .stats-icon"),element:y.content.querySelector(".stats-hat > .stats-element")},robe:{icon:y.content.querySelector(".stats-robe > .stats-icon"),element:y.content.querySelector(".stats-robe > .stats-element")},staff:{icon:y.content.querySelector(".stats-staff > .stats-icon"),element:y.content.querySelector(".stats-staff > .stats-element")}},spell:{teamBuff:{icon:y.content.querySelector(".team-buff > .spell-icon"),name:y.content.querySelector(".team-buff > .spell-name"),desc:y.content.querySelector(".team-buff > .spell-desc")},offensiveSpell:{icon:y.content.querySelector(".offensive-spell > .spell-icon"),name:y.content.querySelector(".offensive-spell > .spell-name"),desc:y.content.querySelector(".offensive-spell > .spell-desc")},defensiveSpell:{icon:y.content.querySelector(".defensive-spell > .spell-icon"),name:y.content.querySelector(".defensive-spell > .spell-name"),desc:y.content.querySelector(".defensive-spell > .spell-desc")},ultimateSpell:{icon:y.content.querySelector(".ultimate-spell > .spell-icon"),name:y.content.querySelector(".ultimate-spell > .spell-name"),desc:y.content.querySelector(".ultimate-spell > .spell-desc")}}}))}function tr(){const c=document.querySelector(".wizard-slider"),v=document.querySelector(".stats-section");return{images:c,item:{emblem:{icon:v.querySelector("#emblem-card .stats-column.item .stats-image"),element:v.querySelector("#emblem-card .stats-column.item .stats-data")},hat:{icon:v.querySelector("#hat-card .stats-column.item .stats-image"),element:v.querySelector("#hat-card .stats-column.item .stats-data")},robe:{icon:v.querySelector("#robe-card .stats-column.item .stats-image"),element:v.querySelector("#robe-card .stats-column.item .stats-data")},staff:{icon:v.querySelector("#staff-card .stats-column.item .stats-image"),element:v.querySelector("#staff-card .stats-column.item .stats-data")}},spell:{teamBuff:{icon:v.querySelector("#emblem-card .stats-column.spell .stats-image"),name:v.querySelector("#emblem-card .stats-column.spell .stats-data"),desc:v.querySelector("#emblem-card .stats-column.spell .stats-description")},offensiveSpell:{icon:v.querySelector("#hat-card .stats-column.spell .stats-image"),name:v.querySelector("#hat-card .stats-column.spell .stats-data"),desc:v.querySelector("#hat-card .stats-column.spell .stats-description")},ultimateSpell:{icon:v.querySelector("#robe-card .stats-column.spell .stats-image"),name:v.querySelector("#robe-card .stats-column.spell .stats-data"),desc:v.querySelector("#robe-card .stats-column.spell .stats-description")},defensiveSpell:{icon:v.querySelector("#staff-card .stats-column.spell .stats-image"),name:v.querySelector("#staff-card .stats-column.spell .stats-data"),desc:v.querySelector("#staff-card .stats-column.spell .stats-description")}}}}function nr(){const c=document.querySelector(".is--mobile-stats-card");return{item:{emblem:{icon:c.querySelector("#mobile-emblem .stats-image"),element:c.querySelector("#mobile-emblem .stats-data")},hat:{icon:c.querySelector("#mobile-hat  .stats-image"),element:c.querySelector("#mobile-hat  .stats-data")},robe:{icon:c.querySelector("#mobile-robe .stats-image"),element:c.querySelector("#mobile-robe .stats-data")},staff:{icon:c.querySelector("#mobile-staff .stats-image"),element:c.querySelector("#mobile-staff .stats-data")}},spell:{teamBuff:{icon:c.querySelector("#mobile-team-buff .stats-image"),name:c.querySelector("#mobile-team-buff .stats-data"),desc:c.querySelector("#mobile-team-buff .stats-description")},offensiveSpell:{icon:c.querySelector("#mobile-offensive .stats-image"),name:c.querySelector("#mobile-offensive .stats-data"),desc:c.querySelector("#mobile-offensive .stats-description")},ultimateSpell:{icon:c.querySelector("#mobile-ultimate .stats-image"),name:c.querySelector("#mobile-ultimate .stats-data"),desc:c.querySelector("#mobile-ultimate .stats-description")},defensiveSpell:{icon:c.querySelector("#mobile-defensive .stats-image"),name:c.querySelector("#mobile-defensive .stats-data"),desc:c.querySelector("#mobile-defensive .stats-description")}}}}function rr(){const c=document.documentElement,v=document.documentElement;let _,y;function P(){_!==c.scrollTop&&(y=window.pageYOffset+document.querySelector(".is--lets-play-section").getBoundingClientRect().top,_=c.scrollTop-y,v.style.setProperty("--scrollPos",_+"px")),window.requestAnimationFrame(P)}window.requestAnimationFrame(P)}const ir=()=>{const c=navigator.userAgent;return/android/i.test(c)?"Android":/iPad|iPhone|iPod/.test(c)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1?"iOS":"Other"};function or(){if(window.matchMedia("(max-width: 768px)").matches){const v=ir(),_=document.querySelectorAll(".download"),y=document.querySelector(".more-platforms"),P=[..._].filter(I=>I.dataset.device!==v);P.forEach(I=>I.classList.add("hide")),y.classList.add("active"),y.addEventListener("click",I=>{I.preventDefault(),P.forEach(q=>q.classList.remove("hide")),y.classList.remove("active")},!1)}}window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{Vn(),Nn(),Hn(),$n(),Gn(),zn(),Kn(),Jn(),rr(),or()});
